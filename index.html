<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FORJA â€” Academia & Treino</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@300;400;500;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0a0a0a;
    --surface: #111111;
    --surface2: #1a1a1a;
    --accent: #ff3d00;
    --accent2: #ffb300;
    --text: #f0f0f0;
    --muted: #666;
    --border: #222;
    --green: #00e676;
    --card-radius: 16px;
    --header-h: 72px;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  html { scroll-behavior: smooth; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    overflow-x: hidden;
  }

  /* ===== SCROLLBAR ===== */
  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { background: var(--bg); }
  ::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 3px; }

  /* ===== HEADER ===== */
  header {
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 1000;
    padding: 16px 40px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: rgba(10,10,10,0.92);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border);
  }

  .logo {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 2.2rem;
    letter-spacing: 4px;
    color: var(--accent);
    text-decoration: none;
    text-shadow: 0 0 30px rgba(255,61,0,0.4);
  }

  nav {
    display: flex;
    gap: 8px;
    align-items: center;
  }

  nav button {
    background: transparent;
    border: none;
    color: var(--muted);
    font-family: 'DM Sans', sans-serif;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    padding: 8px 18px;
    border-radius: 8px;
    transition: all 0.2s;
    letter-spacing: 0.5px;
  }

  nav button:hover, nav button.active {
    background: var(--surface2);
    color: var(--text);
  }

  nav button.active {
    color: var(--accent);
    border: 1px solid rgba(255,61,0,0.3);
  }

  /* ===== HERO ===== */
  .hero {
    min-height: 100vh;
    display: flex;
    align-items: center;
    padding: 120px 40px 80px;
    position: relative;
    overflow: hidden;
  }

  .hero-bg {
    position: absolute;
    inset: 0;
    background:
      radial-gradient(ellipse 80% 60% at 70% 50%, rgba(255,61,0,0.08) 0%, transparent 70%),
      radial-gradient(ellipse 40% 40% at 20% 80%, rgba(255,179,0,0.05) 0%, transparent 60%);
  }

  .hero-grid {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(255,61,0,0.04) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,61,0,0.04) 1px, transparent 1px);
    background-size: 60px 60px;
    mask-image: radial-gradient(ellipse 80% 80% at 50% 50%, black 0%, transparent 100%);
  }

  .hero-content {
    position: relative;
    max-width: 700px;
  }

  .hero-tag {
    display: inline-block;
    background: rgba(255,61,0,0.15);
    border: 1px solid rgba(255,61,0,0.4);
    color: var(--accent);
    font-family: 'Space Mono', monospace;
    font-size: 0.72rem;
    letter-spacing: 2px;
    padding: 6px 14px;
    border-radius: 4px;
    margin-bottom: 24px;
    text-transform: uppercase;
  }

  .hero h1 {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(4rem, 10vw, 8rem);
    line-height: 0.9;
    letter-spacing: 2px;
    margin-bottom: 24px;
    animation: slideUp 0.8s ease both;
  }

  .hero h1 span {
    color: var(--accent);
    display: block;
    text-shadow: 0 0 60px rgba(255,61,0,0.3);
  }

  .hero p {
    color: var(--muted);
    font-size: 1.1rem;
    line-height: 1.7;
    max-width: 480px;
    margin-bottom: 36px;
    animation: slideUp 0.8s ease 0.1s both;
  }

  .hero-cta {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
    animation: slideUp 0.8s ease 0.2s both;
  }

  .btn-primary {
    background: var(--accent);
    color: white;
    border: none;
    padding: 14px 32px;
    border-radius: 8px;
    font-family: 'DM Sans', sans-serif;
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    letter-spacing: 0.5px;
    transition: all 0.25s;
    text-transform: uppercase;
  }

  .btn-primary:hover {
    background: #ff5722;
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(255,61,0,0.4);
  }

  .btn-secondary {
    background: transparent;
    color: var(--text);
    border: 1px solid var(--border);
    padding: 14px 32px;
    border-radius: 8px;
    font-family: 'DM Sans', sans-serif;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.25s;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: 700;
  }

  .btn-secondary:hover {
    border-color: var(--accent);
    color: var(--accent);
  }

  .hero-stats {
    position: absolute;
    right: 40px;
    bottom: 80px;
    display: flex;
    flex-direction: column;
    gap: 24px;
    animation: slideUp 0.8s ease 0.3s both;
  }

  .stat {
    text-align: right;
  }

  .stat-num {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 2.8rem;
    color: var(--accent);
    line-height: 1;
    text-shadow: 0 0 20px rgba(255,61,0,0.3);
  }

  .stat-label {
    font-size: 0.75rem;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 1.5px;
    font-family: 'Space Mono', monospace;
  }

  /* ===== SECTIONS ===== */
  section {
    padding: 100px 40px;
    max-width: 1400px;
    margin: 0 auto;
  }

  .section-label {
    font-family: 'Space Mono', monospace;
    font-size: 0.72rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--accent);
    margin-bottom: 12px;
  }

  .section-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(2.5rem, 5vw, 4rem);
    letter-spacing: 2px;
    margin-bottom: 16px;
    line-height: 1;
  }

  .section-sub {
    color: var(--muted);
    font-size: 1rem;
    max-width: 560px;
    line-height: 1.7;
    margin-bottom: 56px;
  }

  /* ===== PAGE SYSTEM ===== */
  .page { display: none; }
  .page.active { display: block; }

  /* ===== MUSCLE FILTER ===== */
  .filter-bar {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-bottom: 48px;
  }

  .filter-btn {
    background: var(--surface);
    border: 1px solid var(--border);
    color: var(--muted);
    padding: 8px 20px;
    border-radius: 50px;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s;
    font-weight: 500;
  }

  .filter-btn:hover, .filter-btn.active {
    background: var(--accent);
    border-color: var(--accent);
    color: white;
  }

  /* ===== EXERCISE GRID ===== */
  .exercise-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 24px;
  }

  .exercise-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--card-radius);
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s;
    position: relative;
  }

  .exercise-card:hover {
    border-color: var(--accent);
    transform: translateY(-4px);
    box-shadow: 0 20px 60px rgba(255,61,0,0.15);
  }

  .exercise-visual {
    height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 5rem;
    position: relative;
    overflow: hidden;
  }

  .exercise-card:hover .exercise-visual .exercise-emoji {
    transform: scale(1.15);
    transition: transform 0.3s ease;
  }

  .exercise-emoji {
    transition: transform 0.3s ease;
    filter: drop-shadow(0 4px 20px rgba(0,0,0,0.5));
    z-index: 1;
  }

  .exercise-bg-text {
    position: absolute;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 7rem;
    color: rgba(255,255,255,0.03);
    letter-spacing: 4px;
    text-transform: uppercase;
    white-space: nowrap;
    user-select: none;
  }

  .diff-badge {
    position: absolute;
    top: 14px;
    right: 14px;
    padding: 4px 10px;
    border-radius: 4px;
    font-family: 'Space Mono', monospace;
    font-size: 0.65rem;
    letter-spacing: 1px;
    text-transform: uppercase;
    font-weight: 700;
  }

  .diff-iniciante { background: rgba(0,230,118,0.15); color: var(--green); border: 1px solid rgba(0,230,118,0.3); }
  .diff-intermediario { background: rgba(255,179,0,0.15); color: var(--accent2); border: 1px solid rgba(255,179,0,0.3); }
  .diff-avancado { background: rgba(255,61,0,0.15); color: var(--accent); border: 1px solid rgba(255,61,0,0.3); }

  .exercise-info {
    padding: 20px 22px;
  }

  .exercise-muscle {
    font-family: 'Space Mono', monospace;
    font-size: 0.68rem;
    letter-spacing: 2px;
    color: var(--accent);
    text-transform: uppercase;
    margin-bottom: 6px;
  }

  .exercise-name {
    font-size: 1.15rem;
    font-weight: 700;
    margin-bottom: 8px;
    color: var(--text);
  }

  .exercise-desc {
    font-size: 0.85rem;
    color: var(--muted);
    line-height: 1.5;
    margin-bottom: 16px;
  }

  .exercise-meta {
    display: flex;
    gap: 16px;
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.8rem;
    color: var(--muted);
    font-family: 'Space Mono', monospace;
  }

  /* ===== MODAL ===== */
  .modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.85);
    backdrop-filter: blur(12px);
    z-index: 2000;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }

  .modal-overlay.open {
    display: flex;
  }

  .modal {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 20px;
    max-width: 700px;
    width: 100%;
    max-height: 85vh;
    overflow-y: auto;
    position: relative;
    animation: modalIn 0.3s ease;
  }

  @keyframes modalIn {
    from { opacity: 0; transform: scale(0.94) translateY(20px); }
    to { opacity: 1; transform: scale(1) translateY(0); }
  }

  .modal-close {
    position: absolute;
    top: 16px;
    right: 16px;
    background: var(--surface2);
    border: 1px solid var(--border);
    color: var(--text);
    width: 36px;
    height: 36px;
    border-radius: 50%;
    font-size: 1.1rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    z-index: 10;
  }

  .modal-close:hover { background: var(--accent); border-color: var(--accent); }

  .modal-hero {
    height: 220px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 6rem;
    position: relative;
    overflow: hidden;
  }

  .modal-body {
    padding: 28px;
  }

  .modal-tag {
    font-family: 'Space Mono', monospace;
    font-size: 0.68rem;
    letter-spacing: 2px;
    color: var(--accent);
    text-transform: uppercase;
    margin-bottom: 8px;
  }

  .modal-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 2.2rem;
    letter-spacing: 2px;
    margin-bottom: 16px;
  }

  .modal-desc {
    color: var(--muted);
    line-height: 1.7;
    margin-bottom: 28px;
    font-size: 0.95rem;
  }

  .tips-title {
    font-family: 'Space Mono', monospace;
    font-size: 0.75rem;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--accent2);
    margin-bottom: 16px;
  }

  .tips-list {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 28px;
  }

  .tips-list li {
    display: flex;
    gap: 12px;
    align-items: flex-start;
    font-size: 0.9rem;
    line-height: 1.5;
    color: #ccc;
  }

  .tip-num {
    width: 24px;
    height: 24px;
    min-width: 24px;
    background: rgba(255,61,0,0.15);
    border: 1px solid rgba(255,61,0,0.3);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Space Mono', monospace;
    font-size: 0.65rem;
    color: var(--accent);
    font-weight: 700;
    margin-top: 1px;
  }

  .modal-sets {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    padding: 20px;
    background: var(--surface2);
    border-radius: 12px;
    margin-bottom: 0;
  }

  .set-item {
    text-align: center;
  }

  .set-val {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.8rem;
    color: var(--accent);
    line-height: 1;
  }

  .set-label {
    font-size: 0.72rem;
    color: var(--muted);
    font-family: 'Space Mono', monospace;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  /* ===== DIET PAGE ===== */
  .diet-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 24px;
    margin-bottom: 56px;
  }

  .diet-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--card-radius);
    padding: 28px;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
  }

  .diet-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
  }

  .diet-card.proteina::before { background: var(--accent); }
  .diet-card.carbo::before { background: var(--accent2); }
  .diet-card.gordura::before { background: var(--green); }
  .diet-card.hidratacao::before { background: #40c4ff; }

  .diet-card:hover {
    border-color: rgba(255,255,255,0.1);
    transform: translateY(-3px);
  }

  .diet-icon {
    font-size: 2.5rem;
    margin-bottom: 16px;
  }

  .diet-category {
    font-family: 'Space Mono', monospace;
    font-size: 0.68rem;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 8px;
  }

  .diet-card.proteina .diet-category { color: var(--accent); }
  .diet-card.carbo .diet-category { color: var(--accent2); }
  .diet-card.gordura .diet-category { color: var(--green); }
  .diet-card.hidratacao .diet-category { color: #40c4ff; }

  .diet-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.5rem;
    letter-spacing: 1px;
    margin-bottom: 12px;
  }

  .diet-text {
    color: var(--muted);
    font-size: 0.88rem;
    line-height: 1.6;
    margin-bottom: 20px;
  }

  .diet-foods {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }

  .food-tag {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 50px;
    padding: 4px 12px;
    font-size: 0.8rem;
    color: var(--text);
  }

  /* ===== MEAL PLAN ===== */
  .meal-plan {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--card-radius);
    overflow: hidden;
  }

  .meal-plan-header {
    padding: 24px 28px;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .meal-plan-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.8rem;
    letter-spacing: 2px;
    color: var(--accent);
  }

  .meal-rows {
    padding: 8px 0;
  }

  .meal-row {
    display: flex;
    gap: 20px;
    align-items: flex-start;
    padding: 20px 28px;
    border-bottom: 1px solid rgba(255,255,255,0.04);
    transition: background 0.2s;
  }

  .meal-row:hover { background: var(--surface2); }
  .meal-row:last-child { border-bottom: none; }

  .meal-time {
    font-family: 'Space Mono', monospace;
    font-size: 0.72rem;
    color: var(--accent);
    min-width: 70px;
    padding-top: 2px;
    letter-spacing: 1px;
  }

  .meal-details { flex: 1; }

  .meal-name {
    font-weight: 700;
    margin-bottom: 4px;
    font-size: 0.95rem;
  }

  .meal-items {
    font-size: 0.83rem;
    color: var(--muted);
    line-height: 1.5;
  }

  .meal-cal {
    font-family: 'Space Mono', monospace;
    font-size: 0.8rem;
    color: var(--accent2);
    white-space: nowrap;
    padding-top: 2px;
  }

  /* ===== MACROS SECTION ===== */
  .macro-cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 16px;
    margin-bottom: 48px;
  }

  .macro-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    text-align: center;
  }

  .macro-circle {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.4rem;
    margin: 0 auto 12px;
    border: 3px solid;
  }

  .macro-card:nth-child(1) .macro-circle { border-color: var(--accent); color: var(--accent); }
  .macro-card:nth-child(2) .macro-circle { border-color: var(--accent2); color: var(--accent2); }
  .macro-card:nth-child(3) .macro-circle { border-color: var(--green); color: var(--green); }
  .macro-card:nth-child(4) .macro-circle { border-color: #40c4ff; color: #40c4ff; }

  .macro-name {
    font-weight: 700;
    font-size: 0.9rem;
    margin-bottom: 4px;
  }

  .macro-desc {
    font-size: 0.78rem;
    color: var(--muted);
    line-height: 1.4;
  }

  /* ===== ANIMATIONS ===== */
  @keyframes slideUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* ===== MUSCLE MAP VISUAL ===== */
  .muscles-overview {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 16px;
    margin-bottom: 48px;
  }

  .muscle-chip {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 18px;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s;
  }

  .muscle-chip:hover {
    border-color: var(--accent);
    background: rgba(255,61,0,0.06);
  }

  .muscle-chip-icon { display:flex; align-items:center; justify-content:center; margin-bottom: 8px; opacity:0.75; }
  .muscle-chip:hover .muscle-chip-icon { opacity: 1; }
  .muscle-chip-name { font-size: 0.85rem; font-weight: 600; }

  /* ===== HERO decorative element ===== */
  .hero-deco {
    position: absolute;
    right: -60px;
    top: 50%;
    transform: translateY(-50%);
    width: 500px;
    height: 500px;
    pointer-events: none;
  }

  .hero-deco-ring {
    position: absolute;
    border-radius: 50%;
    border: 1px solid rgba(255,61,0,0.1);
  }

  /* Footer divider */
  .page-divider {
    height: 1px;
    background: var(--border);
    margin: 0 40px;
  }

  /* ===== EQUIPMENT PAGE ===== */
  .equipment-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 24px;
    margin-bottom: 64px;
  }

  .equipment-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--card-radius);
    overflow: hidden;
    transition: all 0.3s;
    cursor: default;
  }

  .equipment-card:hover {
    border-color: var(--accent);
    transform: translateY(-4px);
    box-shadow: 0 20px 60px rgba(255,61,0,0.15);
  }

  .equipment-img-wrap {
    height: 220px;
    overflow: hidden;
    background: #161616;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .equipment-img-wrap img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
    filter: brightness(0.88);
  }

  .equipment-card:hover .equipment-img-wrap img {
    transform: scale(1.06);
    filter: brightness(1);
  }

  .equipment-img-fallback {
    font-size: 4rem;
    opacity: 0.4;
  }

  .equip-tag-overlay {
    position: absolute;
    bottom: 12px;
    left: 12px;
    background: rgba(0,0,0,0.75);
    border: 1px solid rgba(255,61,0,0.35);
    color: var(--accent);
    font-family: 'Space Mono', monospace;
    font-size: 0.62rem;
    letter-spacing: 1.5px;
    padding: 4px 10px;
    border-radius: 4px;
    text-transform: uppercase;
    backdrop-filter: blur(6px);
  }

  .equipment-info {
    padding: 20px 22px;
  }

  .equipment-category {
    font-family: 'Space Mono', monospace;
    font-size: 0.65rem;
    letter-spacing: 2px;
    color: var(--accent);
    text-transform: uppercase;
    margin-bottom: 6px;
  }

  .equipment-name {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.5rem;
    letter-spacing: 1.5px;
    margin-bottom: 10px;
  }

  .equipment-desc {
    font-size: 0.85rem;
    color: var(--muted);
    line-height: 1.6;
    margin-bottom: 16px;
  }

  .equipment-exercises {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
  }

  .equip-ex-tag {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 50px;
    padding: 3px 11px;
    font-size: 0.77rem;
    color: #bbb;
    transition: all 0.2s;
    cursor: pointer;
  }

  .equip-ex-tag:hover {
    border-color: var(--accent);
    color: var(--accent);
  }

  .equip-level-bar {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 14px;
    padding-top: 14px;
    border-top: 1px solid var(--border);
  }

  .equip-level-label {
    font-family: 'Space Mono', monospace;
    font-size: 0.65rem;
    color: var(--muted);
    letter-spacing: 1px;
    white-space: nowrap;
  }

  .equip-dots {
    display: flex;
    gap: 5px;
  }

  .equip-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--border);
  }

  .equip-dot.on { background: var(--accent); }

  .equip-price {
    margin-left: auto;
    font-family: 'Space Mono', monospace;
    font-size: 0.72rem;
    color: var(--accent2);
  }

  /* ===== CATEGORY FILTER ===== */
  .equip-category-nav {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 12px;
    margin-bottom: 48px;
  }

  .equip-cat-btn {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 16px;
    cursor: pointer;
    transition: all 0.2s;
    text-align: center;
    color: var(--text);
  }

  .equip-cat-btn:hover, .equip-cat-btn.active {
    border-color: var(--accent);
    background: rgba(255,61,0,0.07);
  }

  .equip-cat-icon { display:flex; align-items:center; justify-content:center; margin-bottom: 6px; opacity: 0.7; }
  .equip-cat-btn:hover .equip-cat-icon, .equip-cat-btn.active .equip-cat-icon { opacity: 1; }
  .equip-cat-name { font-size: 0.82rem; font-weight: 600; }
  .equip-cat-count { font-size: 0.72rem; color: var(--muted); font-family: 'Space Mono', monospace; }

  .diet-icon { margin-bottom: 16px; opacity: 0.85; }

  /* ===== WORKOUT BUILDER ===== */
  .wb-layout {
    display: grid;
    grid-template-columns: 1fr 380px;
    gap: 28px;
    align-items: start;
  }
  @media(max-width:900px){ .wb-layout { grid-template-columns: 1fr; } }

  .wb-panel {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--card-radius);
    overflow: hidden;
  }

  .wb-panel-header {
    padding: 18px 22px;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .wb-panel-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.3rem;
    letter-spacing: 2px;
    color: var(--accent);
  }

  .wb-search {
    padding: 14px 22px;
    border-bottom: 1px solid var(--border);
  }

  .wb-search input {
    width: 100%;
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 10px 14px;
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    font-size: 0.9rem;
    outline: none;
    transition: border-color 0.2s;
  }

  .wb-search input:focus { border-color: var(--accent); }

  .wb-muscle-tabs {
    display: flex;
    gap: 6px;
    padding: 12px 22px;
    border-bottom: 1px solid var(--border);
    flex-wrap: wrap;
  }

  .wb-tab {
    background: var(--surface2);
    border: 1px solid var(--border);
    color: var(--muted);
    font-size: 0.75rem;
    padding: 4px 12px;
    border-radius: 50px;
    cursor: pointer;
    font-family: 'DM Sans', sans-serif;
    transition: all 0.2s;
  }

  .wb-tab:hover, .wb-tab.active {
    background: var(--accent);
    border-color: var(--accent);
    color: white;
  }

  .wb-exercise-list {
    max-height: 480px;
    overflow-y: auto;
    padding: 8px 0;
  }

  .wb-ex-item {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 12px 22px;
    cursor: pointer;
    transition: background 0.15s;
    border-bottom: 1px solid rgba(255,255,255,0.03);
  }

  .wb-ex-item:hover { background: var(--surface2); }

  .wb-ex-icon {
    width: 40px;
    height: 40px;
    background: var(--surface2);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .wb-ex-info { flex: 1; min-width: 0; }
  .wb-ex-name { font-weight: 600; font-size: 0.9rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .wb-ex-muscle { font-size: 0.72rem; color: var(--accent); font-family: 'Space Mono', monospace; text-transform: uppercase; letter-spacing: 1px; }

  .wb-add-btn {
    width: 30px; height: 30px;
    background: rgba(255,61,0,0.12);
    border: 1px solid rgba(255,61,0,0.3);
    border-radius: 50%;
    color: var(--accent);
    font-size: 1.2rem;
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
    transition: all 0.2s;
  }

  .wb-add-btn:hover { background: var(--accent); color: white; }
  .wb-add-btn.added { background: var(--green); border-color: var(--green); color: #000; }

  /* My Workout panel */
  .wb-workout-name-wrap {
    padding: 14px 22px;
    border-bottom: 1px solid var(--border);
  }

  .wb-workout-name {
    width: 100%;
    background: transparent;
    border: none;
    border-bottom: 1px solid var(--border);
    color: var(--text);
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.4rem;
    letter-spacing: 2px;
    padding: 6px 0;
    outline: none;
    transition: border-color 0.2s;
  }

  .wb-workout-name:focus { border-color: var(--accent); }
  .wb-workout-name::placeholder { color: var(--muted); }

  .wb-workout-items {
    min-height: 200px;
    padding: 8px 0;
    max-height: 420px;
    overflow-y: auto;
  }

  .wb-workout-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 48px 24px;
    color: var(--muted);
    text-align: center;
    gap: 12px;
  }

  .wb-workout-empty svg { opacity: 0.2; }
  .wb-workout-empty p { font-size: 0.85rem; line-height: 1.5; }

  .wb-workout-item {
    padding: 14px 22px;
    border-bottom: 1px solid rgba(255,255,255,0.04);
    transition: background 0.15s;
  }

  .wb-workout-item:hover { background: rgba(255,255,255,0.02); }

  .wb-item-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
  }

  .wb-item-num {
    width: 22px; height: 22px;
    background: var(--accent);
    border-radius: 50%;
    font-size: 0.65rem;
    font-family: 'Space Mono', monospace;
    display: flex; align-items: center; justify-content: center;
    color: white;
    flex-shrink: 0;
    font-weight: 700;
  }

  .wb-item-name { font-weight: 600; font-size: 0.9rem; flex: 1; }

  .wb-item-remove {
    background: none;
    border: none;
    color: var(--muted);
    cursor: pointer;
    font-size: 1rem;
    padding: 2px 6px;
    border-radius: 4px;
    transition: all 0.2s;
  }

  .wb-item-remove:hover { color: var(--accent); background: rgba(255,61,0,0.1); }

  .wb-item-controls {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 8px;
  }

  .wb-input-group { display: flex; flex-direction: column; gap: 3px; }
  .wb-input-label { font-size: 0.65rem; color: var(--muted); font-family: 'Space Mono', monospace; text-transform: uppercase; letter-spacing: 1px; }

  .wb-input-group input, .wb-input-group select {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 6px 8px;
    color: var(--text);
    font-family: 'Space Mono', monospace;
    font-size: 0.82rem;
    outline: none;
    width: 100%;
    transition: border-color 0.2s;
  }

  .wb-input-group input:focus, .wb-input-group select:focus { border-color: var(--accent); }

  .wb-panel-footer {
    padding: 14px 22px;
    border-top: 1px solid var(--border);
    display: flex;
    gap: 10px;
  }

  .wb-save-btn {
    flex: 1;
    background: var(--accent);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 12px;
    font-family: 'DM Sans', sans-serif;
    font-weight: 700;
    font-size: 0.9rem;
    cursor: pointer;
    letter-spacing: 0.5px;
    transition: all 0.25s;
    text-transform: uppercase;
  }

  .wb-save-btn:hover { background: #ff5722; box-shadow: 0 6px 20px rgba(255,61,0,0.35); }

  .wb-clear-btn {
    background: transparent;
    border: 1px solid var(--border);
    color: var(--muted);
    border-radius: 8px;
    padding: 12px 16px;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s;
  }

  .wb-clear-btn:hover { border-color: var(--accent); color: var(--accent); }

  /* Saved Workouts */
  .wb-saved-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
    margin-top: 48px;
  }

  .wb-saved-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    overflow: hidden;
    transition: border-color 0.2s;
  }

  .wb-saved-card:hover { border-color: rgba(255,61,0,0.3); }

  .wb-saved-header {
    padding: 16px 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    border-bottom: 1px solid transparent;
    transition: border-color 0.2s;
  }

  .wb-saved-header.open { border-color: var(--border); }

  .wb-saved-name {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.2rem;
    letter-spacing: 2px;
  }

  .wb-saved-meta {
    font-size: 0.75rem;
    color: var(--muted);
    font-family: 'Space Mono', monospace;
  }

  .wb-saved-body {
    display: none;
    padding: 16px 20px;
  }

  .wb-saved-body.open { display: block; }

  .wb-saved-ex {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 0;
    border-bottom: 1px solid rgba(255,255,255,0.04);
  }

  .wb-saved-ex:last-child { border-bottom: none; }

  .wb-saved-actions {
    display: flex;
    gap: 8px;
    margin-top: 14px;
  }

  /* ===== SUGGESTED PLANS ===== */
  .plan-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 24px;
    margin-bottom: 48px;
  }

  .plan-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--card-radius);
    overflow: hidden;
    transition: all 0.3s;
  }

  .plan-card:hover {
    border-color: var(--accent);
    transform: translateY(-3px);
    box-shadow: 0 16px 50px rgba(255,61,0,0.12);
  }

  .plan-banner {
    height: 120px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 20px 24px;
    position: relative;
    overflow: hidden;
  }

  .plan-banner-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.8rem;
    letter-spacing: 2px;
    line-height: 1;
    position: relative;
    z-index: 1;
  }

  .plan-banner-icon {
    position: relative;
    z-index: 1;
    opacity: 0.8;
  }

  .plan-banner-bg {
    position: absolute;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 6rem;
    color: rgba(255,255,255,0.04);
    right: -10px;
    bottom: -10px;
    letter-spacing: 4px;
    user-select: none;
  }

  .plan-body { padding: 20px 22px; }

  .plan-tags {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    margin-bottom: 14px;
  }

  .plan-tag {
    padding: 3px 10px;
    border-radius: 50px;
    font-size: 0.72rem;
    font-family: 'Space Mono', monospace;
    letter-spacing: 0.5px;
    border: 1px solid;
  }

  .plan-tag.objetivo { color: var(--accent2); border-color: rgba(255,179,0,0.3); background: rgba(255,179,0,0.08); }
  .plan-tag.nivel { color: var(--green); border-color: rgba(0,230,118,0.3); background: rgba(0,230,118,0.08); }
  .plan-tag.dias { color: #40c4ff; border-color: rgba(64,196,255,0.3); background: rgba(64,196,255,0.08); }

  .plan-desc {
    font-size: 0.85rem;
    color: var(--muted);
    line-height: 1.6;
    margin-bottom: 18px;
  }

  .plan-days {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-bottom: 18px;
  }

  .plan-day {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 10px 14px;
    background: var(--surface2);
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.2s;
  }

  .plan-day:hover { background: rgba(255,61,0,0.08); }

  .plan-day-label {
    font-family: 'Space Mono', monospace;
    font-size: 0.68rem;
    color: var(--accent);
    letter-spacing: 1px;
    min-width: 36px;
    padding-top: 2px;
  }

  .plan-day-name { font-weight: 700; font-size: 0.88rem; margin-bottom: 2px; }
  .plan-day-exs { font-size: 0.78rem; color: var(--muted); line-height: 1.4; }

  .plan-start-btn {
    width: 100%;
    background: rgba(255,61,0,0.1);
    border: 1px solid rgba(255,61,0,0.3);
    color: var(--accent);
    border-radius: 8px;
    padding: 12px;
    font-family: 'DM Sans', sans-serif;
    font-weight: 700;
    font-size: 0.9rem;
    cursor: pointer;
    letter-spacing: 0.5px;
    transition: all 0.25s;
    text-transform: uppercase;
  }

  .plan-start-btn:hover {
    background: var(--accent);
    color: white;
    box-shadow: 0 6px 20px rgba(255,61,0,0.35);
  }

  /* ===== CUSTOM DIET PAGE ===== */
  .diet-calc-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--card-radius);
    overflow: hidden;
    max-width: 760px;
    margin: 0 auto 56px;
  }

  .diet-calc-header {
    padding: 24px 28px;
    border-bottom: 1px solid var(--border);
    background: linear-gradient(135deg, rgba(255,61,0,0.06) 0%, transparent 100%);
  }

  .diet-calc-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.8rem;
    letter-spacing: 2px;
    color: var(--accent);
    margin-bottom: 4px;
  }

  .diet-calc-sub { font-size: 0.85rem; color: var(--muted); }

  .diet-calc-form {
    padding: 28px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
  }

  @media(max-width:600px){ .diet-calc-form { grid-template-columns: 1fr; } }

  .dc-field { display: flex; flex-direction: column; gap: 6px; }
  .dc-field.full { grid-column: 1 / -1; }

  .dc-label {
    font-family: 'Space Mono', monospace;
    font-size: 0.68rem;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: var(--accent);
  }

  .dc-input {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 12px 14px;
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    font-size: 1rem;
    outline: none;
    transition: border-color 0.2s;
    -webkit-appearance: none;
  }

  .dc-input:focus { border-color: var(--accent); }

  .dc-select {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 12px 14px;
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    font-size: 1rem;
    outline: none;
    cursor: pointer;
    transition: border-color 0.2s;
    -webkit-appearance: none;
  }

  .dc-select:focus { border-color: var(--accent); }

  .objetivo-grid {
    grid-column: 1 / -1;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
  }

  @media(max-width:600px){ .objetivo-grid { grid-template-columns: 1fr; } }

  .obj-btn {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 16px;
    cursor: pointer;
    text-align: center;
    transition: all 0.2s;
    color: var(--text);
  }

  .obj-btn:hover { border-color: rgba(255,61,0,0.4); }
  .obj-btn.selected { border-color: var(--accent); background: rgba(255,61,0,0.1); }

  .obj-btn svg { margin-bottom: 8px; display: block; margin-left: auto; margin-right: auto; }
  .obj-btn-title { font-weight: 700; font-size: 0.9rem; margin-bottom: 2px; }
  .obj-btn-sub { font-size: 0.72rem; color: var(--muted); }

  .dc-calc-btn {
    grid-column: 1 / -1;
    background: var(--accent);
    color: white;
    border: none;
    border-radius: 10px;
    padding: 16px;
    font-family: 'DM Sans', sans-serif;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    letter-spacing: 1px;
    text-transform: uppercase;
    transition: all 0.25s;
  }

  .dc-calc-btn:hover { background: #ff5722; box-shadow: 0 8px 30px rgba(255,61,0,0.4); }

  /* Result card */
  .diet-result {
    max-width: 760px;
    margin: 0 auto;
    display: none;
  }

  .diet-result.visible { display: block; }

  .result-macros {
    display: grid;
    grid-template-columns: repeat(4,1fr);
    gap: 14px;
    margin-bottom: 28px;
  }

  @media(max-width:600px){ .result-macros { grid-template-columns: repeat(2,1fr); } }

  .result-macro {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .result-macro::before {
    content:'';
    position: absolute;
    top:0; left:0; right:0;
    height: 3px;
  }

  .result-macro.kcal::before { background: var(--accent); }
  .result-macro.prot::before { background: #ff9800; }
  .result-macro.carb::before { background: var(--accent2); }
  .result-macro.gord::before { background: var(--green); }

  .result-macro-val {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 2rem;
    color: var(--text);
    line-height: 1;
    margin-bottom: 4px;
  }

  .result-macro-unit { font-size: 0.7rem; color: var(--accent); font-family: 'Space Mono', monospace; }
  .result-macro-name { font-size: 0.75rem; color: var(--muted); margin-top: 4px; }

  .result-plan {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--card-radius);
    overflow: hidden;
    margin-bottom: 28px;
  }

  .result-plan-header {
    padding: 18px 22px;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .result-plan-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.4rem;
    letter-spacing: 2px;
    color: var(--accent);
  }

  .result-tips {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 14px;
  }

  .result-tip {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 18px;
  }

  .result-tip-icon { margin-bottom: 10px; }
  .result-tip-title { font-weight: 700; font-size: 0.88rem; margin-bottom: 4px; }
  .result-tip-text { font-size: 0.8rem; color: var(--muted); line-height: 1.5; }

  /* ============================================================
     1. THEME TOGGLE
  ============================================================ */
  body.light {
    --bg: #f5f5f5;
    --surface: #ffffff;
    --surface2: #eeeeee;
    --text: #111111;
    --muted: #888;
    --border: #ddd;
  }

  .theme-btn {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 50%;
    width: 36px; height: 36px;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer;
    color: var(--text);
    transition: all 0.2s;
    flex-shrink: 0;
  }
  .theme-btn:hover { border-color: var(--accent); color: var(--accent); }

  /* ============================================================
     2. REST TIMER OVERLAY
  ============================================================ */
  #rest-timer-overlay {
    position: fixed;
    inset: 0;
    z-index: 8000;
    background: rgba(0,0,0,0.88);
    backdrop-filter: blur(12px);
    display: none;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 24px;
  }
  #rest-timer-overlay.open { display: flex; }

  .rt-title {
    font-family: 'Space Mono', monospace;
    font-size: 0.72rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--accent);
  }

  .rt-ring {
    position: relative;
    width: 220px; height: 220px;
  }

  .rt-svg { width: 220px; height: 220px; transform: rotate(-90deg); }

  .rt-track { fill: none; stroke: var(--surface2); stroke-width: 10; }
  .rt-progress {
    fill: none; stroke: var(--accent);
    stroke-width: 10;
    stroke-linecap: round;
    transition: stroke-dashoffset 1s linear;
  }
  .rt-progress.green { stroke: var(--green); }

  .rt-time {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .rt-seconds {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 5rem;
    line-height: 1;
    color: var(--text);
  }

  .rt-label {
    font-family: 'Space Mono', monospace;
    font-size: 0.65rem;
    letter-spacing: 2px;
    color: var(--muted);
    text-transform: uppercase;
  }

  .rt-ex-name {
    font-size: 1rem;
    font-weight: 700;
    color: var(--text);
    text-align: center;
    max-width: 300px;
  }

  .rt-btns { display: flex; gap: 12px; }

  .rt-btn {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 50px;
    padding: 10px 22px;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.88rem;
    font-weight: 600;
    cursor: pointer;
    color: var(--text);
    transition: all 0.2s;
  }
  .rt-btn:hover { border-color: var(--accent); color: var(--accent); }
  .rt-btn.primary { background: var(--accent); border-color: var(--accent); color: white; }

  /* ============================================================
     3. ACTIVE WORKOUT MODE
  ============================================================ */
  #active-workout-overlay {
    position: fixed;
    inset: 0;
    z-index: 7000;
    background: var(--bg);
    display: none;
    flex-direction: column;
    overflow: hidden;
  }
  #active-workout-overlay.open { display: flex; }

  .aw-header {
    padding: 16px 20px;
    background: rgba(10,10,10,0.95);
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    gap: 14px;
    flex-shrink: 0;
  }

  .aw-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1.3rem;
    letter-spacing: 2px;
    color: var(--accent);
    flex: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .aw-progress-wrap { padding: 0 20px 10px; background: var(--surface); flex-shrink: 0; }
  .aw-progress-bar { height: 4px; background: var(--surface2); border-radius: 2px; margin-top: 10px; }
  .aw-progress-fill { height: 100%; background: var(--accent); border-radius: 2px; transition: width 0.4s ease; }
  .aw-progress-label { font-family: 'Space Mono', monospace; font-size: 0.65rem; color: var(--muted); margin-top: 4px; }

  .aw-body {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 16px;
  }

  .aw-ex-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    overflow: hidden;
    transition: border-color 0.2s;
  }
  .aw-ex-card.current { border-color: var(--accent); box-shadow: 0 0 0 1px var(--accent); }
  .aw-ex-card.done { opacity: 0.45; }

  .aw-ex-header {
    padding: 14px 18px;
    display: flex;
    align-items: center;
    gap: 12px;
    border-bottom: 1px solid var(--border);
  }

  .aw-ex-num {
    width: 28px; height: 28px;
    border-radius: 50%;
    background: var(--accent);
    color: white;
    font-family: 'Space Mono', monospace;
    font-size: 0.72rem;
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
    font-weight: 700;
  }
  .aw-ex-card.done .aw-ex-num { background: var(--green); }

  .aw-ex-info { flex: 1; }
  .aw-ex-name { font-weight: 700; font-size: 0.95rem; }
  .aw-ex-muscle { font-size: 0.72rem; color: var(--accent); font-family: 'Space Mono', monospace; text-transform: uppercase; letter-spacing: 1px; }

  .aw-sets {
    padding: 14px 18px;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .aw-set-row {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 14px;
    background: var(--surface2);
    border-radius: 8px;
    transition: all 0.2s;
    cursor: pointer;
  }
  .aw-set-row.done-set { background: rgba(0,230,118,0.1); border: 1px solid rgba(0,230,118,0.3); }
  .aw-set-row.done-set .aw-set-num { color: var(--green); }

  .aw-set-num {
    font-family: 'Space Mono', monospace;
    font-size: 0.7rem;
    color: var(--muted);
    min-width: 50px;
  }
  .aw-set-info { flex: 1; font-size: 0.88rem; }
  .aw-set-weight { font-family: 'Space Mono', monospace; font-size: 0.8rem; }

  .aw-set-weight input {
    background: transparent;
    border: none;
    border-bottom: 1px solid var(--border);
    width: 56px;
    color: var(--text);
    font-family: 'Space Mono', monospace;
    font-size: 0.8rem;
    padding: 2px 4px;
    text-align: right;
    outline: none;
  }
  .aw-set-weight input:focus { border-color: var(--accent); }

  .aw-set-check {
    width: 26px; height: 26px;
    border-radius: 50%;
    border: 2px solid var(--border);
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
    transition: all 0.2s;
  }
  .aw-set-row.done-set .aw-set-check { background: var(--green); border-color: var(--green); }

  .aw-footer {
    padding: 14px 20px;
    border-top: 1px solid var(--border);
    display: flex;
    gap: 10px;
    flex-shrink: 0;
    background: var(--surface);
  }

  .aw-btn {
    flex: 1;
    background: var(--accent);
    color: white;
    border: none;
    border-radius: 10px;
    padding: 14px;
    font-family: 'DM Sans', sans-serif;
    font-weight: 700;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.25s;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  .aw-btn:hover { background: #ff5722; }
  .aw-btn.secondary {
    background: transparent;
    border: 1px solid var(--border);
    color: var(--muted);
    flex: 0 0 auto;
    padding: 14px 18px;
  }
  .aw-btn.secondary:hover { border-color: var(--accent); color: var(--accent); }

  .aw-elapsed {
    font-family: 'Space Mono', monospace;
    font-size: 0.75rem;
    color: var(--muted);
    white-space: nowrap;
    padding-top: 14px;
  }

  /* ============================================================
     4. PROGRESS TRACKER PAGE
  ============================================================ */
  .progress-ex-select {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 18px;
    margin-bottom: 24px;
  }

  .progress-chart-wrap {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 22px;
    margin-bottom: 24px;
    min-height: 220px;
  }

  .progress-log-form {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 22px;
    margin-bottom: 24px;
    display: grid;
    grid-template-columns: 1fr 1fr 1fr auto;
    gap: 12px;
    align-items: end;
  }

  .progress-log-history {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    overflow: hidden;
    margin-bottom: 24px;
  }

  .prog-entry {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 12px 18px;
    border-bottom: 1px solid rgba(255,255,255,0.04);
    font-size: 0.88rem;
  }
  .prog-entry:last-child { border-bottom: none; }
  .prog-date { font-family: 'Space Mono', monospace; font-size: 0.7rem; color: var(--muted); min-width: 80px; }
  .prog-weight { font-family: 'Bebas Neue', sans-serif; font-size: 1.4rem; color: var(--accent); min-width: 70px; }
  .prog-reps { color: var(--muted); font-size: 0.82rem; flex: 1; }
  .prog-del { background: none; border: none; color: var(--muted); cursor: pointer; font-size: 1rem; padding: 4px; transition: color 0.2s; }
  .prog-del:hover { color: var(--accent); }

  /* mini SVG chart */
  .sparkline { width: 100%; height: 140px; }
  .sparkline-empty { display: flex; align-items: center; justify-content: center; height: 140px; color: var(--muted); font-size: 0.85rem; }

  /* ============================================================
     5. WORKOUT HISTORY PAGE
  ============================================================ */
  .history-calendar {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 6px;
    margin-bottom: 28px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 20px;
  }

  .cal-header { grid-column: 1/-1; display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
  .cal-month { font-family: 'Bebas Neue', sans-serif; font-size: 1.4rem; letter-spacing: 2px; color: var(--accent); }
  .cal-nav { background: none; border: 1px solid var(--border); border-radius: 6px; padding: 4px 10px; color: var(--text); cursor: pointer; }
  .cal-nav:hover { border-color: var(--accent); }

  .cal-day-label { font-family: 'Space Mono', monospace; font-size: 0.6rem; color: var(--muted); text-align: center; text-transform: uppercase; padding-bottom: 6px; }

  .cal-day {
    aspect-ratio: 1;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.78rem;
    color: var(--muted);
    cursor: default;
    transition: all 0.15s;
  }
  .cal-day.has-workout { background: rgba(255,61,0,0.15); color: var(--accent); border: 1px solid rgba(255,61,0,0.3); font-weight: 700; cursor: pointer; }
  .cal-day.has-workout:hover { background: rgba(255,61,0,0.3); }
  .cal-day.today { border: 1px solid var(--muted); color: var(--text); }
  .cal-day.empty { opacity: 0; pointer-events: none; }

  .history-streak {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 14px;
    margin-bottom: 24px;
  }

  .streak-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 18px;
    text-align: center;
  }
  .streak-val { font-family: 'Bebas Neue', sans-serif; font-size: 2.4rem; color: var(--accent); line-height: 1; }
  .streak-label { font-size: 0.72rem; color: var(--muted); font-family: 'Space Mono', monospace; margin-top: 4px; }

  .history-list { display: flex; flex-direction: column; gap: 10px; }

  .history-item {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 16px 18px;
    display: flex;
    align-items: center;
    gap: 14px;
    transition: border-color 0.2s;
  }
  .history-item:hover { border-color: rgba(255,61,0,0.3); }

  .history-dot {
    width: 10px; height: 10px;
    border-radius: 50%;
    background: var(--accent);
    flex-shrink: 0;
  }
  .history-name { font-weight: 700; font-size: 0.92rem; flex: 1; }
  .history-meta { font-size: 0.75rem; color: var(--muted); font-family: 'Space Mono', monospace; white-space: nowrap; }
  .history-duration { font-size: 0.75rem; color: var(--accent2); font-family: 'Space Mono', monospace; }

  /* ============================================================
     6. IMC CALCULATOR
  ============================================================ */
  .imc-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--card-radius);
    overflow: hidden;
    max-width: 680px;
    margin: 0 auto 32px;
  }

  .imc-result-bar {
    height: 16px;
    background: linear-gradient(90deg, #00e676 0%, #ffb300 35%, #ff6e40 65%, #ff1744 100%);
    border-radius: 8px;
    position: relative;
    margin: 20px 0 8px;
  }

  .imc-needle {
    position: absolute;
    top: -6px;
    width: 4px; height: 28px;
    background: white;
    border-radius: 2px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.5);
    transform: translateX(-50%);
    transition: left 0.6s ease;
  }

  .imc-labels {
    display: flex;
    justify-content: space-between;
    font-family: 'Space Mono', monospace;
    font-size: 0.6rem;
    color: var(--muted);
    margin-bottom: 20px;
  }

  .imc-result-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
    margin-top: 20px;
  }

  .imc-stat {
    background: var(--surface2);
    border-radius: 10px;
    padding: 16px;
    text-align: center;
  }

  .imc-stat-val { font-family: 'Bebas Neue', sans-serif; font-size: 2rem; line-height: 1; }
  .imc-stat-label { font-size: 0.72rem; color: var(--muted); font-family: 'Space Mono', monospace; margin-top: 4px; }

  /* ============================================================
     7. SHARE WORKOUT
  ============================================================ */
  #share-modal {
    position: fixed;
    inset: 0;
    z-index: 6000;
    background: rgba(0,0,0,0.85);
    display: none;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }
  #share-modal.open { display: flex; }

  .share-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    overflow: hidden;
    width: 100%;
    max-width: 400px;
    box-shadow: 0 30px 80px rgba(0,0,0,0.6);
  }

  /* ============================================================
     8. NOTIFICATIONS BANNER
  ============================================================ */
  #notif-banner {
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 5000;
    background: var(--surface);
    border: 1px solid var(--border);
    border-left: 3px solid var(--accent);
    border-radius: 12px;
    padding: 14px 18px;
    max-width: 320px;
    box-shadow: 0 16px 48px rgba(0,0,0,0.5);
    display: none;
    animation: slideUp 0.4s ease both;
  }
  #notif-banner.show { display: flex; gap: 12px; align-items: flex-start; }
  .notif-icon { flex-shrink: 0; margin-top: 2px; }
  .notif-title { font-weight: 700; font-size: 0.88rem; margin-bottom: 2px; }
  .notif-text { font-size: 0.78rem; color: var(--muted); line-height: 1.4; }
  .notif-close { background: none; border: none; color: var(--muted); cursor: pointer; font-size: 1.1rem; margin-left: auto; padding: 0; flex-shrink: 0; }

  /* ============================================================
     EXTRA UTILITY
  ============================================================ */
  .badge-new {
    background: var(--accent);
    color: white;
    font-size: 0.55rem;
    font-family: 'Space Mono', monospace;
    padding: 1px 5px;
    border-radius: 4px;
    letter-spacing: 0.5px;
    vertical-align: middle;
    margin-left: 4px;
    text-transform: uppercase;
  }

  /* Responsive */
  /* ============================================================
     LOGIN SCREEN
  ============================================================ */
  #login-screen {
    position: fixed;
    inset: 0;
    z-index: 9999;
    background: var(--bg);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
  }

  .login-card {
    width: 100%;
    max-width: 420px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 40px 100px rgba(0,0,0,0.6);
    animation: slideUp 0.5s ease both;
  }

  .login-top {
    background: linear-gradient(135deg, #120000 0%, #0a0a0a 100%);
    padding: 40px 36px 32px;
    border-bottom: 1px solid var(--border);
    position: relative;
    overflow: hidden;
  }

  .login-top::before {
    content: 'FORJA';
    position: absolute;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 9rem;
    color: rgba(255,61,0,0.04);
    right: -20px;
    bottom: -20px;
    letter-spacing: 4px;
    user-select: none;
  }

  .login-logo {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 3rem;
    letter-spacing: 6px;
    color: var(--accent);
    text-shadow: 0 0 40px rgba(255,61,0,0.4);
    position: relative;
  }

  .login-tagline {
    font-family: 'Space Mono', monospace;
    font-size: 0.68rem;
    letter-spacing: 2px;
    color: var(--muted);
    text-transform: uppercase;
    margin-top: 6px;
    position: relative;
  }

  .login-body { padding: 32px 36px; }

  .login-tabs {
    display: flex;
    background: var(--surface2);
    border-radius: 10px;
    padding: 4px;
    margin-bottom: 28px;
    gap: 4px;
  }

  .login-tab {
    flex: 1;
    background: transparent;
    border: none;
    border-radius: 8px;
    padding: 10px;
    font-family: 'DM Sans', sans-serif;
    font-size: 0.88rem;
    font-weight: 600;
    color: var(--muted);
    cursor: pointer;
    transition: all 0.2s;
  }

  .login-tab.active {
    background: var(--accent);
    color: white;
  }

  .login-form { display: flex; flex-direction: column; gap: 14px; }

  .login-field { display: flex; flex-direction: column; gap: 6px; }

  .login-label {
    font-family: 'Space Mono', monospace;
    font-size: 0.65rem;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: var(--accent);
  }

  .login-input {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 13px 16px;
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    font-size: 0.95rem;
    outline: none;
    transition: border-color 0.2s;
    width: 100%;
  }

  .login-input:focus { border-color: var(--accent); }

  .login-btn {
    background: var(--accent);
    color: white;
    border: none;
    border-radius: 10px;
    padding: 14px;
    font-family: 'DM Sans', sans-serif;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    transition: all 0.25s;
    margin-top: 4px;
  }

  .login-btn:hover {
    background: #ff5722;
    box-shadow: 0 8px 30px rgba(255,61,0,0.4);
    transform: translateY(-1px);
  }

  .login-error {
    color: var(--accent);
    font-size: 0.82rem;
    font-family: 'Space Mono', monospace;
    text-align: center;
    padding: 8px;
    background: rgba(255,61,0,0.08);
    border-radius: 8px;
    border: 1px solid rgba(255,61,0,0.2);
    display: none;
  }

  .login-error.visible { display: block; }

  .login-footer {
    text-align: center;
    padding: 16px 36px 28px;
    font-size: 0.78rem;
    color: var(--muted);
  }

  /* â”€â”€ User badge in header â”€â”€ */
  .user-badge {
    display: flex;
    align-items: center;
    gap: 10px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 50px;
    padding: 6px 14px 6px 8px;
    cursor: pointer;
    transition: border-color 0.2s;
    flex-shrink: 0;
  }

  .user-badge:hover { border-color: var(--accent); }

  .user-avatar {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: var(--accent);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 1rem;
    color: white;
    letter-spacing: 1px;
  }

  .user-name {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text);
  }

  .user-menu {
    position: absolute;
    top: calc(100% + 8px);
    right: 0;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 8px;
    min-width: 180px;
    z-index: 2000;
    box-shadow: 0 16px 48px rgba(0,0,0,0.5);
    display: none;
  }

  .user-menu.open { display: block; }

  .user-menu-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 12px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.88rem;
    color: var(--text);
    transition: background 0.15s;
    border: none;
    background: none;
    width: 100%;
    text-align: left;
    font-family: 'DM Sans', sans-serif;
  }

  .user-menu-item:hover { background: var(--surface2); }
  .user-menu-item.danger { color: var(--accent); }
  .user-menu-divider { border: none; border-top: 1px solid var(--border); margin: 6px 0; }

  .header-right {
    display: flex;
    align-items: center;
    gap: 12px;
    position: relative;
  }

  /* ============================================================
     MOBILE â€” atÃ© 768px
  ============================================================ */
  @media (max-width: 768px) {

    /* â”€â”€ Header / Nav â”€â”€ */
    header {
      padding: 10px 16px;
      flex-direction: column;
      gap: 8px;
      align-items: flex-start;
      --header-h: 100px;
    }

    nav {
      width: 100%;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      gap: 4px;
      padding-bottom: 2px;
    }

    nav::-webkit-scrollbar { display: none; }

    nav button {
      padding: 7px 13px;
      font-size: 0.75rem;
      white-space: nowrap;
      flex-shrink: 0;
    }

    .logo { font-size: 1.7rem; }

    /* â”€â”€ Sections â”€â”€ */
    section {
      padding: 120px 16px 60px;
    }

    /* override inline padding-top on all page sections */
    .page section[style*="padding-top"] {
      padding-top: 120px !important;
    }

    .section-title { font-size: 2.2rem; }
    .section-sub { font-size: 0.88rem; margin-bottom: 32px; }

    /* â”€â”€ Hero â”€â”€ */
    .hero { padding: 110px 20px 70px; min-height: auto; }
    .hero h1 { font-size: clamp(3rem, 14vw, 5rem); }
    .hero p { font-size: 0.95rem; }
    .hero-stats { display: none; }
    .hero-deco { display: none; }
    .hero-cta { flex-direction: column; gap: 12px; }
    .btn-primary, .btn-secondary { width: 100%; text-align: center; padding: 14px; }

    /* â”€â”€ Muscle chips â”€â”€ */
    .muscles-overview {
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }
    .muscle-chip { padding: 14px 8px; }
    .muscle-chip-name { font-size: 0.75rem; }

    /* â”€â”€ Exercise grid â”€â”€ */
    .exercise-grid { grid-template-columns: 1fr; gap: 16px; }
    .exercise-visual { height: 160px; }

    /* â”€â”€ Filter bar â”€â”€ */
    .filter-bar {
      flex-wrap: nowrap;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      padding-bottom: 6px;
      gap: 8px;
      scrollbar-width: none;
      margin-bottom: 28px;
    }
    .filter-bar::-webkit-scrollbar { display: none; }
    .filter-btn { white-space: nowrap; flex-shrink: 0; padding: 7px 16px; font-size: 0.8rem; }

    /* â”€â”€ Modal â”€â”€ */
    .modal {
      width: 100%;
      max-width: 100%;
      height: 100dvh;
      border-radius: 0;
      margin: 0;
      overflow-y: auto;
    }
    .modal-hero { height: 200px; }
    .modal-body { padding: 20px; }
    .modal-title { font-size: 1.8rem; }
    .modal-sets { grid-template-columns: repeat(3,1fr); gap: 8px; }
    .modal-close { top: 14px; right: 14px; }

    /* â”€â”€ Diet page â”€â”€ */
    .diet-grid { grid-template-columns: 1fr; gap: 16px; }
    .meal-row {
      flex-direction: column;
      gap: 6px;
      padding: 16px;
    }
    .meal-time { min-width: unset; }
    .meal-cal { align-self: flex-end; }
    .meal-plan-header { flex-direction: column; gap: 4px; padding: 16px; }

    /* â”€â”€ Equipment â”€â”€ */
    .equip-category-nav {
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
    }
    .equipment-grid { grid-template-columns: 1fr; gap: 16px; }

    /* â”€â”€ Workout Builder â”€â”€ */
    .wb-layout { grid-template-columns: 1fr; gap: 16px; }
    .wb-exercise-list { max-height: 320px; }
    .wb-workout-items { max-height: 320px; }
    .wb-item-controls { grid-template-columns: 1fr 1fr 1fr; gap: 6px; }

    /* â”€â”€ Suggested Plans â”€â”€ */
    .plan-grid { grid-template-columns: 1fr; gap: 16px; }
    .plan-banner { height: 100px; }
    .plan-banner-title { font-size: 1.4rem; }

    /* â”€â”€ Custom Diet Calculator â”€â”€ */
    .diet-calc-form { grid-template-columns: 1fr; gap: 14px; padding: 18px; }
    .dc-field.full { grid-column: 1; }
    .objetivo-grid { grid-template-columns: 1fr; gap: 10px; }
    .result-macros { grid-template-columns: repeat(2,1fr); gap: 10px; }
    .result-tips { grid-template-columns: 1fr; }
    .diet-calc-card { margin: 0 0 32px; }

    /* â”€â”€ Saved workouts â”€â”€ */
    .wb-saved-actions { flex-direction: column; }
    .wb-panel-footer { flex-direction: column; gap: 8px; }
    .wb-save-btn, .wb-clear-btn { width: 100%; }

    /* â”€â”€ Login â”€â”€ */
    #login-screen { padding: 16px; align-items: flex-end; padding-bottom: 0; }
    .login-card { border-radius: 20px 20px 0 0; max-width: 100%; }
    .login-top { padding: 28px 24px 22px; }
    .login-body { padding: 24px; }
    .login-footer { padding: 12px 24px 24px; }

    /* â”€â”€ Header user badge â”€â”€ */
    .user-name { display: none; }
    .user-badge { padding: 5px 10px 5px 6px; }
    .user-menu { right: 0; }
    .header-right { margin-left: auto; }

    /* â”€â”€ Progress page â”€â”€ */
    .progress-log-form { grid-template-columns: 1fr 1fr; gap: 10px; }
    .progress-log-form .dc-field:last-child { grid-column: 1/-1; }

    /* â”€â”€ History calendar â”€â”€ */
    .history-streak { grid-template-columns: repeat(3,1fr); gap: 10px; }
    .streak-val { font-size: 1.8rem; }

    /* â”€â”€ Rest timer â”€â”€ */
    .rt-ring { width: 180px; height: 180px; }
    .rt-svg { width: 180px; height: 180px; }
    .rt-seconds { font-size: 4rem; }

    /* â”€â”€ Active workout â”€â”€ */
    .aw-set-row { flex-wrap: wrap; gap: 6px; }
    .aw-set-weight input { width: 44px; }

    /* â”€â”€ Notif banner â”€â”€ */
    #notif-banner { bottom: 12px; right: 12px; left: 12px; max-width: none; }

    /* â”€â”€ IMC result â”€â”€ */
    .imc-result-grid { grid-template-columns: 1fr 1fr; }
  }

  /* ============================================================
     SMALL PHONES â€” atÃ© 420px
  ============================================================ */
  @media (max-width: 420px) {
    .muscles-overview { grid-template-columns: repeat(2, 1fr); }
    .hero h1 { font-size: 2.8rem; }
    .result-macros { grid-template-columns: 1fr 1fr; }
    .equip-category-nav { grid-template-columns: repeat(2, 1fr); }
    .wb-item-controls { grid-template-columns: 1fr 1fr; }
    .plan-tags { gap: 6px; }
    .plan-tag { font-size: 0.65rem; padding: 2px 8px; }
    section { padding: 95px 14px 50px; }
    .login-card { border-radius: 12px; }
    .login-top { padding: 24px 18px 18px; }
    .login-body { padding: 18px; }
  }
</style>
</head>
<body>

<!-- ============================
     LOGIN SCREEN
============================= -->
<div id="login-screen">
  <div class="login-card">
    <div class="login-top">
      <div class="login-logo">FORJA</div>
      <div class="login-tagline">// Academia & Treino</div>
    </div>
    <div class="login-body">
      <div class="login-tabs">
        <button type="button" class="login-tab active" onclick="switchLoginTab('login',this)">Entrar</button>
        <button type="button" class="login-tab" onclick="switchLoginTab('register',this)">Criar Conta</button>
      </div>

      <!-- Login Form -->
      <div id="form-login" class="login-form">
        <div class="login-field">
          <label class="login-label">UsuÃ¡rio</label>
          <input class="login-input" type="text" id="login-user" placeholder="Seu usuÃ¡rio" autocomplete="username">
        </div>
        <div class="login-field">
          <label class="login-label">Senha</label>
          <input class="login-input" type="password" id="login-pass" placeholder="Sua senha" autocomplete="current-password">
        </div>
        <div class="login-error" id="login-error">UsuÃ¡rio ou senha incorretos</div>
        <button type="button" class="login-btn" onclick="doLogin()">Entrar</button>
      </div>

      <!-- Register Form -->
      <div id="form-register" class="login-form" style="display:none;">
        <div class="login-field">
          <label class="login-label">Nome</label>
          <input class="login-input" type="text" id="reg-name" placeholder="Seu nome completo">
        </div>
        <div class="login-field">
          <label class="login-label">UsuÃ¡rio</label>
          <input class="login-input" type="text" id="reg-user" placeholder="Escolha um usuÃ¡rio">
        </div>
        <div class="login-field">
          <label class="login-label">Senha</label>
          <input class="login-input" type="password" id="reg-pass" placeholder="MÃ­nimo 4 caracteres">
        </div>
        <div class="login-error" id="reg-error"></div>
        <button type="button" class="login-btn" onclick="doRegister()">Criar Conta</button>
      </div>
    </div>
    <div class="login-footer">Seus treinos ficam salvos por usuÃ¡rio ðŸ’ª</div>
  </div>
</div>

<!-- HEADER -->
<header id="main-header" style="display:none;">
  <a class="logo" href="#" onclick="showPage('home')">FORJA</a>
  <nav>
    <button class="active" onclick="showPage('home')">InÃ­cio</button>
    <button onclick="showPage('exercises')">ExercÃ­cios</button>
    <button onclick="showPage('workout')">Meu Treino</button>
    <button onclick="showPage('suggested')">Treinos Prontos</button>
    <button onclick="showPage('diet-custom')">Minha Dieta</button>
    <button onclick="showPage('imc')">IMC</button>
    <button onclick="showPage('progress')">Progresso</button>
    <button onclick="showPage('history')">HistÃ³rico</button>
    <button onclick="showPage('equipment')">Equipamentos</button>
  </nav>
  <div class="header-right">
    <button type="button" class="theme-btn" id="theme-btn" onclick="toggleTheme()" title="Alternar tema">
      <svg id="theme-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
    </button>
    <div class="user-badge" onclick="toggleUserMenu()">
      <div class="user-avatar" id="header-avatar">?</div>
      <span class="user-name" id="header-username">UsuÃ¡rio</span>
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="var(--muted)" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
    </div>
    <div class="user-menu" id="user-menu">
      <button type="button" class="user-menu-item" onclick="showPage('workout');closeUserMenu()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><rect x="1" y="11" width="3" height="3" rx="1"/><rect x="20" y="11" width="3" height="3" rx="1"/><rect x="4" y="10" width="2" height="5" rx="1"/><rect x="18" y="10" width="2" height="5" rx="1"/><line x1="6" y1="12.5" x2="18" y2="12.5"/></svg>
        Meus Treinos
      </button>
      <button type="button" class="user-menu-item" onclick="showPage('progress');closeUserMenu()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
        Progresso de Carga
      </button>
      <button type="button" class="user-menu-item" onclick="showPage('history');closeUserMenu()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
        HistÃ³rico
      </button>
      <button type="button" class="user-menu-item" onclick="showPage('diet-custom');closeUserMenu()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><path d="M18 8h1a4 4 0 0 1 0 8h-1"/><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/></svg>
        Minha Dieta
      </button>
      <hr class="user-menu-divider">
      <button type="button" class="user-menu-item" onclick="toggleTheme();closeUserMenu()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/></svg>
        Alternar Tema
      </button>
      <button type="button" class="user-menu-item danger" onclick="doLogout()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
        Sair
      </button>
    </div>
  </div>
</header>

<!-- ============================
     PAGE: HOME
============================= -->
<div id="page-home" class="page active">
  <div class="hero">
    <div class="hero-bg"></div>
    <div class="hero-grid"></div>

    <div class="hero-deco">
      <div class="hero-deco-ring" style="inset:0;"></div>
      <div class="hero-deco-ring" style="inset:40px;"></div>
      <div class="hero-deco-ring" style="inset:100px; border-color: rgba(255,179,0,0.08);"></div>
      <div class="hero-deco-ring" style="inset:160px; border-color: rgba(255,61,0,0.15);"></div>
    </div>

    <div class="hero-content">
      <div class="hero-tag">// Seu guia completo de treino</div>
      <h1>
        MOLDE
        <span>SEU CORPO.</span>
      </h1>
      <p>ExercÃ­cios com tÃ©cnica certa, dicas de alimentaÃ§Ã£o e planos de treino para todos os nÃ­veis. Comece sua transformaÃ§Ã£o hoje.</p>
      <div class="hero-cta">
        <button class="btn-primary" onclick="showPage('exercises')">Ver ExercÃ­cios</button>
        <button class="btn-secondary" onclick="showPage('diet')">Plano de Dieta</button>
      </div>
    </div>

    <div class="hero-stats">
      <div class="stat">
        <div class="stat-num">12</div>
        <div class="stat-label">Equipamentos</div>
      </div>
      <div class="stat">
        <div class="stat-num">86+</div>
        <div class="stat-label">ExercÃ­cios</div>
      </div>
      <div class="stat">
        <div class="stat-num">11</div>
        <div class="stat-label">Grupos Musculares</div>
      </div>
      <div class="stat">
        <div class="stat-num">3</div>
        <div class="stat-label">NÃ­veis</div>
      </div>
    </div>
  </div>

  <!-- MUSCLE GROUPS -->
  <section>
    <div class="section-label">// Grupos musculares</div>
    <div class="section-title">ONDE VOCÃŠ QUER FOCAR?</div>
    <div class="section-sub">Selecione um grupo muscular para ver os melhores exercÃ­cios e dicas de execuÃ§Ã£o.</div>
    <div class="muscles-overview" id="muscle-overview">
      <div class="muscle-chip" onclick="filterAndGo('Peito')">
        <div class="muscle-chip-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12h18M3 6h4l2 6 4-9 2 6 4-3"/></svg></div>
        <div class="muscle-chip-name">Peito</div>
      </div>
      <div class="muscle-chip" onclick="filterAndGo('Costas')">
        <div class="muscle-chip-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><line x1="4" y1="3" x2="20" y2="3"/><path d="M9 3v4l-2 3v3l2 5 3-2 3 2 2-5v-3l-2-3V3"/></svg></div>
        <div class="muscle-chip-name">Costas</div>
      </div>
      <div class="muscle-chip" onclick="filterAndGo('Ombros')">
        <div class="muscle-chip-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="6" r="2"/><line x1="12" y1="8" x2="12" y2="14"/><path d="M12 11l-7 3M12 11l7 3"/><line x1="5" y1="14" x2="2" y2="14"/><line x1="19" y1="14" x2="22" y2="14"/></svg></div>
        <div class="muscle-chip-name">Ombros</div>
      </div>
      <div class="muscle-chip" onclick="filterAndGo('BÃ­ceps')">
        <div class="muscle-chip-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M7 20h10"/><path d="M12 20v-8"/><path d="M8 12a4 4 0 0 1 8 0"/><circle cx="12" cy="7" r="1.5"/></svg></div>
        <div class="muscle-chip-name">BÃ­ceps</div>
      </div>
      <div class="muscle-chip" onclick="filterAndGo('TrÃ­ceps')">
        <div class="muscle-chip-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="3" x2="16" y2="3"/><line x1="12" y1="3" x2="12" y2="21"/><polyline points="8 17 12 21 16 17"/></svg></div>
        <div class="muscle-chip-name">TrÃ­ceps</div>
      </div>
      <div class="muscle-chip" onclick="filterAndGo('Pernas')">
        <div class="muscle-chip-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="4" r="2"/><path d="M12 6v5l-4 5v4"/><path d="M12 11l4 5v4"/><line x1="5" y1="20" x2="19" y2="20"/></svg></div>
        <div class="muscle-chip-name">Pernas</div>
      </div>
      <div class="muscle-chip" onclick="filterAndGo('GlÃºteos')">
        <div class="muscle-chip-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M3 18c0-5 4-9 9-9s9 4 9 9"/><line x1="3" y1="18" x2="21" y2="18"/></svg></div>
        <div class="muscle-chip-name">GlÃºteos</div>
      </div>
      <div class="muscle-chip" onclick="filterAndGo('AbdÃ´men')">
        <div class="muscle-chip-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="8" width="18" height="10" rx="2"/><line x1="7" y1="8" x2="7" y2="18"/><line x1="12" y1="8" x2="12" y2="18"/><line x1="17" y1="8" x2="17" y2="18"/><line x1="3" y1="13" x2="21" y2="13"/></svg></div>
        <div class="muscle-chip-name">AbdÃ´men</div>
      </div>
      <div class="muscle-chip" onclick="filterAndGo('AntebraÃ§o')">
        <div class="muscle-chip-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M4 16h16"/><path d="M7 16V8a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v8"/></svg></div>
        <div class="muscle-chip-name">AntebraÃ§o</div>
      </div>
      <div class="muscle-chip" onclick="filterAndGo('Funcional')">
        <div class="muscle-chip-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg></div>
        <div class="muscle-chip-name">Funcional</div>
      </div>
      <div class="muscle-chip" onclick="showPage('equipment')">
        <div class="muscle-chip-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="11" width="3" height="3" rx="1"/><rect x="20" y="11" width="3" height="3" rx="1"/><rect x="4" y="10" width="2" height="5" rx="1"/><rect x="18" y="10" width="2" height="5" rx="1"/><line x1="6" y1="12.5" x2="18" y2="12.5"/></svg></div>
        <div class="muscle-chip-name">Equipamentos</div>
      </div>
    </div>
  </section>
</div>

<!-- ============================
     PAGE: EXERCISES
============================= -->
<div id="page-exercises" class="page">
  <section style="padding-top: 130px;">
    <div class="section-label">// Biblioteca de treinos</div>
    <div class="section-title">EXERCÃCIOS</div>
    <div class="section-sub">TÃ©cnica correta e dicas de execuÃ§Ã£o para maximizar seus resultados e evitar lesÃµes.</div>

    <div class="filter-bar" id="filter-bar">
      <button class="filter-btn active" onclick="filterExercises('todos', this)">Todos</button>
      <button class="filter-btn" onclick="filterExercises('Peito', this)">Peito</button>
      <button class="filter-btn" onclick="filterExercises('Costas', this)">Costas</button>
      <button class="filter-btn" onclick="filterExercises('Ombros', this)">Ombros</button>
      <button class="filter-btn" onclick="filterExercises('BÃ­ceps', this)">BÃ­ceps</button>
      <button class="filter-btn" onclick="filterExercises('TrÃ­ceps', this)">TrÃ­ceps</button>
      <button class="filter-btn" onclick="filterExercises('Pernas', this)">Pernas</button>
      <button class="filter-btn" onclick="filterExercises('GlÃºteos', this)">GlÃºteos</button>
      <button class="filter-btn" onclick="filterExercises('AbdÃ´men', this)">AbdÃ´men</button>
      <button class="filter-btn" onclick="filterExercises('AntebraÃ§o', this)">AntebraÃ§o</button>
      <button class="filter-btn" onclick="filterExercises('Funcional', this)">Funcional</button>
    </div>

    <div class="exercise-grid" id="exercise-grid"></div>
  </section>
</div>

<!-- ============================
     PAGE: DIET
============================= -->
<div id="page-diet" class="page">
  <section style="padding-top: 130px;">
    <div class="section-label">// NutriÃ§Ã£o & alimentaÃ§Ã£o</div>
    <div class="section-title">DIETA E NUTRIÃ‡ÃƒO</div>
    <div class="section-sub">AlimentaÃ§Ã£o inteligente para potencializar seus treinos e acelerar sua recuperaÃ§Ã£o muscular.</div>

    <!-- MACROS -->
    <div class="section-label" style="margin-bottom: 24px;">// Macronutrientes</div>
    <div class="macro-cards">
      <div class="macro-card">
        <div class="macro-circle">30%</div>
        <div class="macro-name">ProteÃ­nas</div>
        <div class="macro-desc">ConstruÃ§Ã£o e recuperaÃ§Ã£o muscular</div>
      </div>
      <div class="macro-card">
        <div class="macro-circle">45%</div>
        <div class="macro-name">Carboidratos</div>
        <div class="macro-desc">Principal fonte de energia para treinos</div>
      </div>
      <div class="macro-card">
        <div class="macro-circle">25%</div>
        <div class="macro-name">Gorduras</div>
        <div class="macro-desc">HormÃ´nios e absorÃ§Ã£o de vitaminas</div>
      </div>
      <div class="macro-card">
        <div class="macro-circle">2L+</div>
        <div class="macro-name">Ãgua</div>
        <div class="macro-desc">HidrataÃ§Ã£o ideal para performance</div>
      </div>
    </div>

    <!-- DIET CARDS -->
    <div class="section-label" style="margin-bottom: 24px;">// Guia nutricional</div>
    <div class="diet-grid">
      <div class="diet-card proteina">
        <div class="diet-icon"><svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8h1a4 4 0 0 1 0 8h-1"/><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/></svg></div>
        <div class="diet-category">ProteÃ­nas</div>
        <div class="diet-title">CONSTRUÃ‡ÃƒO MUSCULAR</div>
        <div class="diet-text">Consuma 1,6 a 2,2g de proteÃ­na por kg de peso corporal. Distribua a ingestÃ£o ao longo do dia em 4â€“6 refeiÃ§Ãµes para maximizar a sÃ­ntese proteica muscular.</div>
        <div class="diet-foods">
          <span class="food-tag">Ovos</span>
          <span class="food-tag">Frango</span>
          <span class="food-tag">Atum</span>
          <span class="food-tag">Carne magra</span>
          <span class="food-tag">Whey</span>
          <span class="food-tag">GrÃ£o-de-bico</span>
        </div>
      </div>

      <div class="diet-card carbo">
        <div class="diet-icon"><svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 1 0 10 10"/><path d="M12 6v6l4 2"/><path d="M16 2l4 4-4 4"/><line x1="22" y1="2" x2="18" y2="6"/></svg></div>
        <div class="diet-category">Carboidratos</div>
        <div class="diet-title">ENERGIA PARA TREINAR</div>
        <div class="diet-text">Priorize carboidratos complexos de baixo Ã­ndice glicÃªmico. Consuma carboidratos antes do treino para ter energia e apÃ³s o treino para repor o glicogÃªnio muscular.</div>
        <div class="diet-foods">
          <span class="food-tag">Batata-doce</span>
          <span class="food-tag">Arroz integral</span>
          <span class="food-tag">Aveia</span>
          <span class="food-tag">Banana</span>
          <span class="food-tag">PÃ£o integral</span>
          <span class="food-tag">Mandioca</span>
        </div>
      </div>

      <div class="diet-card gordura">
        <div class="diet-icon"><svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></div>
        <div class="diet-category">Gorduras Boas</div>
        <div class="diet-title">ESSENCIAIS AO CORPO</div>
        <div class="diet-text">Gorduras saudÃ¡veis sÃ£o fundamentais para a produÃ§Ã£o de testosterona e absorÃ§Ã£o de vitaminas. NÃ£o elimine as gorduras â€” escolha as certas!</div>
        <div class="diet-foods">
          <span class="food-tag">Abacate</span>
          <span class="food-tag">Azeite</span>
          <span class="food-tag">Amendoim</span>
          <span class="food-tag">SalmÃ£o</span>
          <span class="food-tag">Castanhas</span>
          <span class="food-tag">Coco</span>
        </div>
      </div>

      <div class="diet-card hidratacao">
        <div class="diet-icon"><svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"/></svg></div>
        <div class="diet-category">HidrataÃ§Ã£o</div>
        <div class="diet-title">PERFORMANCE MÃXIMA</div>
        <div class="diet-text">DesidrataÃ§Ã£o de apenas 2% prejudica performance em atÃ© 25%. Beba 35â€“40ml de Ã¡gua por kg corporal por dia. Antes, durante e apÃ³s o treino.</div>
        <div class="diet-foods">
          <span class="food-tag">Ãgua</span>
          <span class="food-tag">Ãgua com limÃ£o</span>
          <span class="food-tag">ChÃ¡ verde</span>
          <span class="food-tag">Ãgua de coco</span>
          <span class="food-tag">Melancia</span>
          <span class="food-tag">Pepino</span>
        </div>
      </div>
    </div>

    <!-- MEAL PLAN -->
    <div class="section-label" style="margin-bottom: 24px;">// Plano alimentar exemplo</div>
    <div class="meal-plan">
      <div class="meal-plan-header">
        <div class="meal-plan-title">DIA DE TREINO â€” 2.400 KCAL</div>
        <div style="font-size:0.8rem; color: var(--muted); font-family: 'Space Mono', monospace;">ProteÃ­na: 180g Â· Carbo: 260g Â· Gordura: 65g</div>
      </div>
      <div class="meal-rows">
        <div class="meal-row">
          <div class="meal-time">07:00</div>
          <div class="meal-details">
            <div class="meal-name"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" style="margin-right:6px;opacity:.7"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>CafÃ© da manhÃ£</div>
            <div class="meal-items">4 ovos mexidos + 2 fatias pÃ£o integral + 1 banana + cafÃ© sem aÃ§Ãºcar</div>
          </div>
          <div class="meal-cal">~480 kcal</div>
        </div>
        <div class="meal-row">
          <div class="meal-time">10:00</div>
          <div class="meal-details">
            <div class="meal-name"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" style="margin-right:6px;opacity:.7"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>Lanche matinal</div>
            <div class="meal-items">Iogurte grego (200g) + granola (30g) + frutas vermelhas</div>
          </div>
          <div class="meal-cal">~320 kcal</div>
        </div>
        <div class="meal-row">
          <div class="meal-time">12:30</div>
          <div class="meal-details">
            <div class="meal-name"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" style="margin-right:6px;opacity:.7"><path d="M18 8h1a4 4 0 0 1 0 8h-1"/><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/></svg>AlmoÃ§o</div>
            <div class="meal-items">Frango grelhado (200g) + arroz integral (150g) + batata-doce (100g) + salada Ã  vontade</div>
          </div>
          <div class="meal-cal">~650 kcal</div>
        </div>
        <div class="meal-row">
          <div class="meal-time">15:30</div>
          <div class="meal-details">
            <div class="meal-name"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" style="margin-right:6px;opacity:.7"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>PrÃ©-treino</div>
            <div class="meal-items">Banana + pasta de amendoim (1 col) + cafÃ© preto</div>
          </div>
          <div class="meal-cal">~250 kcal</div>
        </div>
        <div class="meal-row">
          <div class="meal-time">17:00</div>
          <div class="meal-details">
            <div class="meal-name"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" style="margin-right:6px;opacity:.7"><rect x="1" y="11" width="3" height="3" rx="1"/><rect x="20" y="11" width="3" height="3" rx="1"/><rect x="4" y="10" width="2" height="5" rx="1"/><rect x="18" y="10" width="2" height="5" rx="1"/><line x1="6" y1="12.5" x2="18" y2="12.5"/></svg>TREINO</div>
            <div class="meal-items">Beba 500â€“700ml de Ã¡gua durante o treino</div>
          </div>
          <div class="meal-cal">â€”</div>
        </div>
        <div class="meal-row">
          <div class="meal-time">18:30</div>
          <div class="meal-details">
            <div class="meal-name"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" style="margin-right:6px;opacity:.7"><path d="M7 20h10"/><path d="M12 20v-8"/><path d="M8 12a4 4 0 0 1 8 0"/><circle cx="12" cy="7" r="1.5"/></svg>PÃ³s-treino</div>
            <div class="meal-items">Whey protein (40g) + Ã¡gua ou leite desnatado â€” consumir atÃ© 30 min apÃ³s treino</div>
          </div>
          <div class="meal-cal">~160 kcal</div>
        </div>
        <div class="meal-row">
          <div class="meal-time">20:00</div>
          <div class="meal-details">
            <div class="meal-name"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" style="margin-right:6px;opacity:.7"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>Jantar</div>
            <div class="meal-items">SalmÃ£o (180g) + quinoa (120g) + legumes assados (abobrinha, brÃ³colis, cenoura)</div>
          </div>
          <div class="meal-cal">~540 kcal</div>
        </div>
      </div>
    </div>

    <!-- TIPS -->
    <div style="margin-top: 48px;">
      <div class="section-label" style="margin-bottom: 16px;">// Dicas gerais de nutriÃ§Ã£o</div>
      <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px;">
        <div style="background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 22px;">
          <div style="margin-bottom: 14px;"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="1.5" stroke-linecap="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg></div>
          <div style="font-weight: 700; margin-bottom: 8px;">Timing Ã© tudo</div>
          <div style="color: var(--muted); font-size: 0.87rem; line-height: 1.6;">Consuma proteÃ­na dentro de 30 a 60 minutos apÃ³s o treino. Isso maximiza a janela anabÃ³lica e acelera a recuperaÃ§Ã£o muscular.</div>
        </div>
        <div style="background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 22px;">
          <div style="margin-bottom: 14px;"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="1.5" stroke-linecap="round"><path d="M18 8h1a4 4 0 0 1 0 8h-1"/><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/></svg></div>
          <div style="font-weight: 700; margin-bottom: 8px;">Mastigar devagar</div>
          <div style="color: var(--muted); font-size: 0.87rem; line-height: 1.6;">Comer devagar melhora a digestÃ£o e a absorÃ§Ã£o de nutrientes. Leva ~20 min para o cÃ©rebro registrar a saciedade â€” nÃ£o se apresse!</div>
        </div>
        <div style="background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 22px;">
          <div style="margin-bottom: 14px;"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="1.5" stroke-linecap="round"><circle cx="12" cy="12" r="10"/><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"/></svg></div>
          <div style="font-weight: 700; margin-bottom: 8px;">Evite ultraprocessados</div>
          <div style="color: var(--muted); font-size: 0.87rem; line-height: 1.6;">Alimentos ultraprocessados causam inflamaÃ§Ã£o, prejudicam a recuperaÃ§Ã£o e sabotam seus ganhos. Prefira sempre alimentos naturais e minimamente processados.</div>
        </div>
        <div style="background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 22px;">
          <div style="margin-bottom: 14px;"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="1.5" stroke-linecap="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg></div>
          <div style="font-weight: 700; margin-bottom: 8px;">Sono e recuperaÃ§Ã£o</div>
          <div style="color: var(--muted); font-size: 0.87rem; line-height: 1.6;">O mÃºsculo cresce durante o descanso. Durma 7â€“9 horas por noite. Considere caseÃ­na ou cottage antes de dormir para alimentar os mÃºsculos durante a noite.</div>
        </div>
        <div style="background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 22px;">
          <div style="margin-bottom: 14px;"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="1.5" stroke-linecap="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg></div>
          <div style="font-weight: 700; margin-bottom: 8px;">SuperÃ¡vit ou dÃ©ficit</div>
          <div style="color: var(--muted); font-size: 0.87rem; line-height: 1.6;">Para ganhar massa: coma 200â€“300 kcal a mais que seu gasto. Para perder gordura: dÃ©ficit de 300â€“500 kcal. Nunca abaixo de 1.200 kcal por dia.</div>
        </div>
        <div style="background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 22px;">
          <div style="margin-bottom: 14px;"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="1.5" stroke-linecap="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></div>
          <div style="font-weight: 700; margin-bottom: 8px;">Micronutrientes</div>
          <div style="color: var(--muted); font-size: 0.87rem; line-height: 1.6;">Vitaminas e minerais sÃ£o essenciais para performance. Inclua bastante vegetais coloridos, frutas e, se necessÃ¡rio, um multivitamÃ­nico de qualidade.</div>
        </div>
      </div>
    </div>
  </section>
</div>

<!-- ============================
     PAGE: EQUIPMENT
============================= -->
<div id="page-equipment" class="page">
  <section style="padding-top: 130px;">
    <div class="section-label">// Arsenal de treino</div>
    <div class="section-title">EQUIPAMENTOS</div>
    <div class="section-sub">ConheÃ§a cada equipamento, para que serve, quais exercÃ­cios permite e o nÃ­vel de dificuldade de uso.</div>

    <!-- Category nav -->
    <div class="equip-category-nav" id="equip-cat-nav"></div>

    <!-- Equipment grid -->
    <div class="equipment-grid" id="equipment-grid"></div>
  </section>
</div>

<!-- ============================
     PAGE: WORKOUT BUILDER
============================= -->
<div id="page-workout" class="page">
  <section style="padding-top:130px;">
    <div class="section-label">// Monte seu treino</div>
    <div class="section-title">MEU TREINO</div>
    <div class="section-sub">Selecione exercÃ­cios, defina sÃ©ries e repetiÃ§Ãµes e salve seu treino personalizado.</div>

    <div class="wb-layout">
      <!-- LEFT: exercise picker -->
      <div>
        <div class="wb-panel">
          <div class="wb-panel-header">
            <div class="wb-panel-title">BIBLIOTECA</div>
            <span style="font-size:0.75rem;color:var(--muted);font-family:'Space Mono',monospace;" id="wb-count"></span>
          </div>
          <div class="wb-search">
            <input type="text" id="wb-search-input" placeholder="Buscar exercÃ­cio..." oninput="wbFilter()">
          </div>
          <div class="wb-muscle-tabs" id="wb-tabs"></div>
          <div class="wb-exercise-list" id="wb-list"></div>
        </div>
      </div>

      <!-- RIGHT: my workout -->
      <div>
        <div class="wb-panel">
          <div class="wb-panel-header">
            <div class="wb-panel-title">MEU TREINO</div>
            <span style="font-size:0.75rem;color:var(--muted);font-family:'Space Mono',monospace;" id="wb-item-count">0 exercÃ­cios</span>
          </div>
          <div class="wb-workout-name-wrap">
            <input class="wb-workout-name" id="wb-name" type="text" placeholder="NOME DO TREINO..." maxlength="40">
          </div>
          <div class="wb-workout-items" id="wb-workout-items">
            <div class="wb-workout-empty" id="wb-empty">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1" stroke-linecap="round"><rect x="1" y="11" width="3" height="3" rx="1"/><rect x="20" y="11" width="3" height="3" rx="1"/><rect x="4" y="10" width="2" height="5" rx="1"/><rect x="18" y="10" width="2" height="5" rx="1"/><line x1="6" y1="12.5" x2="18" y2="12.5"/></svg>
              <p>Nenhum exercÃ­cio adicionado.<br>Selecione da biblioteca ao lado.</p>
            </div>
          </div>
          <div class="wb-panel-footer">
            <button class="wb-save-btn" onclick="saveWorkout()">Salvar Treino</button>
            <button class="wb-clear-btn" onclick="clearWorkout()">Limpar</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Saved workouts -->
    <div id="wb-saved-section" style="margin-top:48px; display:none;">
      <div class="section-label" style="margin-bottom:20px;">// Treinos salvos</div>
      <div class="wb-saved-list" id="wb-saved-list"></div>
    </div>
  </section>
</div>

<!-- ============================
     PAGE: SUGGESTED PLANS
============================= -->
<div id="page-suggested" class="page">
  <section style="padding-top:130px;">
    <div class="section-label">// Treinos prontos</div>
    <div class="section-title">TREINOS SUGERIDOS</div>
    <div class="section-sub">Planos de treino montados por objetivo. Escolha o seu e siga o protocolo.</div>

    <div class="plan-grid" id="plan-grid"></div>
  </section>
</div>

<!-- ============================
     PAGE: CUSTOM DIET
============================= -->
<div id="page-diet-custom" class="page">
  <section style="padding-top:130px;">
    <div class="section-label">// NutriÃ§Ã£o personalizada</div>
    <div class="section-title">MINHA DIETA</div>
    <div class="section-sub">Insira seus dados e receba um plano alimentar calculado para o seu objetivo.</div>

    <div class="diet-calc-card">
      <div class="diet-calc-header">
        <div class="diet-calc-title">CALCULADORA NUTRICIONAL</div>
        <div class="diet-calc-sub">Baseada na fÃ³rmula de Mifflin-St Jeor com ajuste de atividade fÃ­sica</div>
      </div>
      <div class="diet-calc-form">
        <div class="dc-field">
          <label class="dc-label">Peso (kg)</label>
          <input class="dc-input" type="number" id="dc-peso" placeholder="Ex: 75" min="30" max="300">
        </div>
        <div class="dc-field">
          <label class="dc-label">Altura (cm)</label>
          <input class="dc-input" type="number" id="dc-altura" placeholder="Ex: 175" min="100" max="250">
        </div>
        <div class="dc-field">
          <label class="dc-label">Idade</label>
          <input class="dc-input" type="number" id="dc-idade" placeholder="Ex: 25" min="14" max="90">
        </div>
        <div class="dc-field">
          <label class="dc-label">Sexo</label>
          <select class="dc-select" id="dc-sexo">
            <option value="m">Masculino</option>
            <option value="f">Feminino</option>
          </select>
        </div>
        <div class="dc-field full">
          <label class="dc-label">NÃ­vel de atividade fÃ­sica</label>
          <select class="dc-select" id="dc-atividade">
            <option value="1.2">SedentÃ¡rio (sem exercÃ­cio)</option>
            <option value="1.375">Levemente ativo (1â€“3x semana)</option>
            <option value="1.55" selected>Moderadamente ativo (3â€“5x semana)</option>
            <option value="1.725">Muito ativo (6â€“7x semana)</option>
            <option value="1.9">Extremamente ativo (2x/dia)</option>
          </select>
        </div>
        <div class="dc-field full">
          <label class="dc-label">Objetivo</label>
          <div class="objetivo-grid">
            <button type="button" class="obj-btn selected" onclick="selectObj(this,'emagrecer')" data-obj="emagrecer">
              <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="1.5" stroke-linecap="round"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>
              <div class="obj-btn-title">Emagrecer</div>
              <div class="obj-btn-sub">DÃ©ficit calÃ³rico</div>
            </button>
            <button type="button" class="obj-btn" onclick="selectObj(this,'manter')" data-obj="manter">
              <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--accent2)" stroke-width="1.5" stroke-linecap="round"><line x1="5" y1="12" x2="19" y2="12"/></svg>
              <div class="obj-btn-title">Manter Peso</div>
              <div class="obj-btn-sub">TDEE exato</div>
            </button>
            <button type="button" class="obj-btn" onclick="selectObj(this,'ganhar')" data-obj="ganhar">
              <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="1.5" stroke-linecap="round"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"/><polyline points="17 18 23 18 23 12"/></svg>
              <div class="obj-btn-title">Ganhar Massa</div>
              <div class="obj-btn-sub">SuperÃ¡vit calÃ³rico</div>
            </button>
          </div>
        </div>
        <button type="button" class="dc-calc-btn" onclick="calcDiet()">Calcular Minha Dieta</button>
      </div>
    </div>

    <!-- Result -->
    <div class="diet-result" id="diet-result">
      <div class="result-macros" id="result-macros"></div>
      <div class="result-plan" id="result-plan"></div>
      <div class="section-label" style="margin-bottom:16px;">// Dicas para seu objetivo</div>
      <div class="result-tips" id="result-tips"></div>
    </div>
  </section>
</div>

<!-- ============================
     PAGE: PROGRESS TRACKER
============================= -->
<div id="page-progress" class="page">
  <section style="padding-top:130px;">
    <div class="section-label">// EvoluÃ§Ã£o de carga</div>
    <div class="section-title">MEU PROGRESSO</div>
    <div class="section-sub">Registre o peso usado em cada exercÃ­cio e acompanhe sua evoluÃ§Ã£o com grÃ¡fico.</div>

    <div class="progress-ex-select">
      <div class="dc-label" style="margin-bottom:8px;">ExercÃ­cio</div>
      <select class="dc-select" id="prog-ex-select" onchange="renderProgressChart()" style="width:100%;max-width:400px;">
        <option value="">â€” Selecione um exercÃ­cio â€”</option>
      </select>
    </div>

    <div class="progress-chart-wrap">
      <div id="prog-chart-container"><div class="sparkline-empty">Selecione um exercÃ­cio para ver o grÃ¡fico</div></div>
    </div>

    <div class="progress-log-form">
      <div class="dc-field">
        <label class="dc-label">Peso (kg)</label>
        <input class="dc-input" type="number" id="prog-weight" placeholder="Ex: 60" step="0.5">
      </div>
      <div class="dc-field">
        <label class="dc-label">RepetiÃ§Ãµes</label>
        <input class="dc-input" type="number" id="prog-reps" placeholder="Ex: 10">
      </div>
      <div class="dc-field">
        <label class="dc-label">ObservaÃ§Ã£o</label>
        <input class="dc-input" type="text" id="prog-note" placeholder="Opcional">
      </div>
      <div class="dc-field">
        <label class="dc-label" style="opacity:0;">.</label>
        <button type="button" class="wb-save-btn" style="padding:12px 20px;" onclick="logProgress()">Registrar</button>
      </div>
    </div>

    <div class="progress-log-history">
      <div style="padding:16px 18px;border-bottom:1px solid var(--border);font-family:'Bebas Neue',sans-serif;font-size:1.1rem;letter-spacing:2px;color:var(--accent);">HISTÃ“RICO DE REGISTROS</div>
      <div id="prog-history-list"><div style="padding:32px;text-align:center;color:var(--muted);font-size:0.85rem;">Nenhum registro ainda. Selecione um exercÃ­cio e registre sua carga.</div></div>
    </div>
  </section>
</div>

<!-- ============================
     PAGE: WORKOUT HISTORY
============================= -->
<div id="page-history" class="page">
  <section style="padding-top:130px;">
    <div class="section-label">// Seus treinos realizados</div>
    <div class="section-title">HISTÃ“RICO</div>
    <div class="section-sub">Acompanhe sua frequÃªncia, sequÃªncia e evoluÃ§Ã£o ao longo do tempo.</div>

    <div class="history-streak" id="history-streak"></div>
    <div class="history-calendar" id="history-calendar"></div>
    <div class="section-label" style="margin-bottom:14px;">// Treinos recentes</div>
    <div class="history-list" id="history-list"></div>
  </section>
</div>

<!-- ============================
     PAGE: IMC + BODY CALC
============================= -->
<div id="page-imc" class="page">
  <section style="padding-top:130px;">
    <div class="section-label">// ComposiÃ§Ã£o corporal</div>
    <div class="section-title">IMC & PESO IDEAL</div>
    <div class="section-sub">Calcule seu IMC, percentual de gordura estimado e o peso ideal para seu objetivo.</div>

    <div class="imc-card">
      <div class="diet-calc-header">
        <div class="diet-calc-title">CALCULADORA CORPORAL</div>
        <div class="diet-calc-sub">IMC Â· Gordura corporal estimada Â· Peso ideal</div>
      </div>
      <div class="diet-calc-form">
        <div class="dc-field">
          <label class="dc-label">Peso (kg)</label>
          <input class="dc-input" type="number" id="imc-peso" placeholder="Ex: 80">
        </div>
        <div class="dc-field">
          <label class="dc-label">Altura (cm)</label>
          <input class="dc-input" type="number" id="imc-altura" placeholder="Ex: 178">
        </div>
        <div class="dc-field">
          <label class="dc-label">Idade</label>
          <input class="dc-input" type="number" id="imc-idade" placeholder="Ex: 28">
        </div>
        <div class="dc-field">
          <label class="dc-label">Sexo</label>
          <select class="dc-select" id="imc-sexo">
            <option value="m">Masculino</option>
            <option value="f">Feminino</option>
          </select>
        </div>
        <button type="button" class="dc-calc-btn" onclick="calcIMC()">Calcular</button>
      </div>
    </div>

    <div id="imc-result" style="display:none;max-width:680px;margin:0 auto;">
      <div class="imc-card" style="padding:24px;">
        <div style="font-family:'Bebas Neue',sans-serif;font-size:1.2rem;letter-spacing:2px;color:var(--accent);margin-bottom:16px;">RESULTADO</div>
        <div style="display:flex;align-items:baseline;gap:8px;margin-bottom:4px;">
          <span style="font-family:'Bebas Neue',sans-serif;font-size:4rem;line-height:1;" id="imc-val">â€”</span>
          <span style="font-family:'Space Mono',monospace;font-size:0.75rem;color:var(--muted);">IMC</span>
        </div>
        <div style="font-weight:700;font-size:1.1rem;margin-bottom:16px;" id="imc-class">â€”</div>
        <div class="imc-result-bar"><div class="imc-needle" id="imc-needle"></div></div>
        <div class="imc-labels"><span>Abaixo 16</span><span>Normal</span><span>Obeso</span><span>40+</span></div>
        <div class="imc-result-grid" id="imc-grid"></div>
      </div>
    </div>
  </section>
</div>

<!-- ============================
     REST TIMER OVERLAY
============================= -->
<div id="rest-timer-overlay">
  <div class="rt-title">DESCANSO</div>
  <div class="rt-ring">
    <svg class="rt-svg" viewBox="0 0 220 220">
      <circle class="rt-track" cx="110" cy="110" r="96"/>
      <circle class="rt-progress" id="rt-circle" cx="110" cy="110" r="96" stroke-dasharray="603" stroke-dashoffset="0"/>
    </svg>
    <div class="rt-time">
      <div class="rt-seconds" id="rt-seconds">60</div>
      <div class="rt-label">segundos</div>
    </div>
  </div>
  <div class="rt-ex-name" id="rt-ex-name"></div>
  <div class="rt-btns">
    <button type="button" class="rt-btn" onclick="addRestTime(15)">+15s</button>
    <button type="button" class="rt-btn primary" onclick="skipRest()">Pular</button>
    <button type="button" class="rt-btn" onclick="closeRestTimer()">Fechar</button>
  </div>
</div>

<!-- ============================
     ACTIVE WORKOUT OVERLAY
============================= -->
<div id="active-workout-overlay">
  <div class="aw-header">
    <button type="button" class="aw-btn secondary" style="flex:0 0 auto;padding:8px 14px;" onclick="confirmEndWorkout()">âœ•</button>
    <div class="aw-title" id="aw-title">TREINO</div>
    <div class="aw-elapsed" id="aw-elapsed">00:00</div>
  </div>
  <div class="aw-progress-wrap">
    <div class="aw-progress-bar"><div class="aw-progress-fill" id="aw-progress-fill" style="width:0%"></div></div>
    <div class="aw-progress-label" id="aw-progress-label">0 de 0 exercÃ­cios</div>
  </div>
  <div class="aw-body" id="aw-body"></div>
  <div class="aw-footer">
    <button type="button" class="aw-btn secondary" onclick="confirmEndWorkout()">Encerrar</button>
    <button type="button" class="aw-btn" onclick="nextExercise()">PrÃ³ximo ExercÃ­cio</button>
  </div>
</div>

<!-- ============================
     SHARE MODAL
============================= -->
<div id="share-modal">
  <div class="share-card">
    <div style="padding:18px 20px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;">
      <div style="font-family:'Bebas Neue',sans-serif;font-size:1.2rem;letter-spacing:2px;color:var(--accent);">COMPARTILHAR TREINO</div>
      <button type="button" onclick="closeShareModal()" style="background:none;border:none;color:var(--muted);cursor:pointer;font-size:1.2rem;">âœ•</button>
    </div>
    <div id="share-preview" style="padding:20px;"></div>
    <div style="padding:0 20px 20px;display:flex;flex-direction:column;gap:10px;">
      <button type="button" class="wb-save-btn" onclick="copyShareText()">Copiar texto</button>
      <button type="button" class="wb-clear-btn" onclick="closeShareModal()">Fechar</button>
    </div>
  </div>
</div>

<!-- ============================
     NOTIFICATION BANNER
============================= -->
<div id="notif-banner">
  <div class="notif-icon">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="1.5" stroke-linecap="round">
      <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
      <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
    </svg>
  </div>
  <div>
    <div class="notif-title" id="notif-title">Hora de treinar!</div>
    <div class="notif-text" id="notif-text">VocÃª nÃ£o registra um treino hÃ¡ 2 dias.</div>
  </div>
  <button type="button" class="notif-close" onclick="closeNotif()">âœ•</button>
</div>

<!-- MODAL -->
<div class="modal-overlay" id="modal-overlay" onclick="closeModal(event)">
  <div class="modal" id="modal">
    <button class="modal-close" onclick="closeModalBtn()">âœ•</button>
    <div class="modal-hero" id="modal-hero"></div>
    <div class="modal-body">
      <div class="modal-tag" id="modal-tag"></div>
      <div class="modal-title" id="modal-title"></div>
      <div class="modal-desc" id="modal-desc"></div>
      <div class="tips-title">// Dicas de execuÃ§Ã£o</div>
      <ul class="tips-list" id="modal-tips"></ul>
      <div class="modal-sets" id="modal-sets"></div>
    </div>
  </div>
</div>

<script>
// ==============================
// DATA
// ==============================
const exercises = [
  // PEITO
  {
    id: 1, name: "Supino Reto", muscle: "Peito", emoji: "ðŸ‹ï¸", difficulty: "iniciante",
    desc: "O exercÃ­cio mais clÃ¡ssico para desenvolvimento do peitoral. Trabalha peitoral maior, deltÃ³ide anterior e trÃ­ceps.",
    longDesc: "O supino reto Ã© considerado o rei dos exercÃ­cios de peito. Trabalha primariamente o peitoral maior, com ativaÃ§Ã£o secundÃ¡ria do deltÃ³ide anterior e trÃ­ceps braquial. Ã‰ o exercÃ­cio base para desenvolvimento de forÃ§a e massa na regiÃ£o peitoral.",
    tips: [
      "Mantenha os pÃ©s firmemente no chÃ£o durante todo o movimento",
      "RetraÃ§Ã£o escapular: aperte as escÃ¡pulas para criar uma base estÃ¡vel",
      "DesÃ§a a barra atÃ© tocar levemente o peito, sem quicar",
      "Cotovelos a 45â€“75Â° do corpo, nunca totalmente abertos",
      "Expire ao empurrar a barra para cima, inspire na descida"
    ],
    series: "4", reps: "8â€“12", descanso: "90s",
    bg: "linear-gradient(135deg, #1a0a0a 0%, #2a0a0a 100%)"
  },
  {
    id: 2, name: "Supino Inclinado", muscle: "Peito", emoji: "ðŸ’ª", difficulty: "intermediario",
    desc: "Foca na parte superior do peitoral com o banco a 30â€“45Â°. Excelente para a clavicular do peitoral.",
    longDesc: "O supino inclinado, realizado com o banco entre 30 e 45 graus, enfatiza a porÃ§Ã£o clavicular do peitoral maior. Ã‰ fundamental para quem quer peito alto e bem desenvolvido. TambÃ©m Ã© realizado com halteres para maior amplitude.",
    tips: [
      "Ajuste o banco entre 30Â° e 45Â° â€” acima disso, vira exercÃ­cio de ombro",
      "Controle a descida dos halteres de 2 a 3 segundos",
      "Esprema o peitoral no topo do movimento por 1 segundo",
      "Halteres descem alinhados ao nÃ­vel do peito superior",
      "NÃ£o trave os cotovelos no topo â€” mantenha leve tensÃ£o"
    ],
    series: "3", reps: "10â€“12", descanso: "75s",
    bg: "linear-gradient(135deg, #1a0a0a 0%, #1a1020 100%)"
  },
  {
    id: 3, name: "Crucifixo", muscle: "Peito", emoji: "ðŸ¦…", difficulty: "intermediario",
    desc: "Isolamento do peitoral com grande amplitude de movimento. Perfeito para alongar e detalhar o peitoral.",
    longDesc: "O crucifixo Ã© um exercÃ­cio de isolamento que maximiza o alongamento do peitoral. Realizado com halteres ou no peck deck, promove grande desenvolvimento da largura do peito e melhora a separaÃ§Ã£o entre os mÃºsculos.",
    tips: [
      "Leve flexÃ£o nos cotovelos â€” nunca trave os braÃ§os",
      "DesÃ§a os halteres em arco, sentindo o peitoral alongar",
      "NÃ£o desÃ§a abaixo do nÃ­vel do peito para proteger os ombros",
      "A fase negativa deve ser lenta e controlada (2â€“3 segundos)",
      "Imagine abraÃ§ar uma Ã¡rvore grande ao subir os halteres"
    ],
    series: "3", reps: "12â€“15", descanso: "60s",
    bg: "linear-gradient(135deg, #0a1010 0%, #0a1a1a 100%)"
  },
  {
    id: 4, name: "FlexÃ£o de BraÃ§o", muscle: "Peito", emoji: "ðŸ¤¸", difficulty: "iniciante",
    desc: "ExercÃ­cio calistÃªnico fundamental. Pode ser feito em qualquer lugar, sem equipamento.",
    longDesc: "A flexÃ£o de braÃ§o Ã© um dos exercÃ­cios mais completos do fitness. AlÃ©m do peitoral, trabalha trÃ­ceps, ombros e core. Pode ser adaptada para iniciantes (joelhos) atÃ© avanÃ§ados (declinada, com palmas fechadas, etc).",
    tips: [
      "Corpo em linha reta da cabeÃ§a aos calcanhares durante todo movimento",
      "MÃ£os ligeiramente mais largas que a largura dos ombros",
      "Core contraÃ­do â€” nÃ£o deixe o quadril cair ou subir",
      "DesÃ§a atÃ© o peito quase tocar o chÃ£o",
      "VariaÃ§Ãµes: inclinada (mais fÃ¡cil), declinada (foca peito superior), diamante (trÃ­ceps)"
    ],
    series: "4", reps: "15â€“20", descanso: "60s",
    bg: "linear-gradient(135deg, #0a0a1a 0%, #1a0a2a 100%)"
  },

  // COSTAS
  {
    id: 5, name: "Barra Fixa", muscle: "Costas", emoji: "ðŸ§—", difficulty: "intermediario",
    desc: "O melhor exercÃ­cio para largura de costas. Trabalha latÃ­ssimo do dorso intensamente.",
    longDesc: "A barra fixa (pull-up) Ã© frequentemente chamada de 'agachamento para costas'. Trabalha o latÃ­ssimo do dorso, bÃ­ceps, rombÃ³ides e trapÃ©zio. Ã‰ um dos melhores indicadores de forÃ§a relativa ao peso corporal.",
    tips: [
      "Pegada com mÃ£os um pouco mais largas que os ombros",
      "Inicie o movimento contraindo as escÃ¡pulas para baixo e para trÃ¡s",
      "Cotovelos apontam para baixo e para fora durante a subida",
      "Suba atÃ© o queixo passar a barra; desÃ§a de forma controlada",
      "Se nÃ£o consegue ainda, use elÃ¡stico de assistÃªncia ou lat pulldown"
    ],
    series: "4", reps: "6â€“10", descanso: "120s",
    bg: "linear-gradient(135deg, #0a1a0a 0%, #0a2a0a 100%)"
  },
  {
    id: 6, name: "Remada Curvada", muscle: "Costas", emoji: "â›µ", difficulty: "intermediario",
    desc: "Desenvolvimento de espessura da costas. Trabalha toda a regiÃ£o central e inferior das costas.",
    longDesc: "A remada curvada com barra Ã© um dos melhores exercÃ­cios para espessura e massa da costas. Trabalha primariamente latÃ­ssimo, rombÃ³ides, trapÃ©zio mÃ©dio e infraespinhal, com estÃ­mulo secundÃ¡rio no bÃ­ceps.",
    tips: [
      "Tronco inclinado entre 45Â° e 90Â°, coluna neutra â€” nunca curvada",
      "Puxe a barra em direÃ§Ã£o ao umbigo, cotovelos prÃ³ximos ao corpo",
      "Contraia as escÃ¡pulas no ponto de contraÃ§Ã£o mÃ¡xima",
      "NÃ£o use os braÃ§os para puxar â€” pense em puxar pelos cotovelos",
      "Fase excÃªntrica de 2â€“3 segundos para maximizar tempo sob tensÃ£o"
    ],
    series: "4", reps: "8â€“12", descanso: "90s",
    bg: "linear-gradient(135deg, #1a0a10 0%, #2a0a1a 100%)"
  },
  {
    id: 7, name: "Levantamento Terra", muscle: "Costas", emoji: "ðŸ”ï¸", difficulty: "avancado",
    desc: "Rei dos exercÃ­cios compostos. Trabalha toda a cadeia posterior do corpo com carga mÃ¡xima.",
    longDesc: "O levantamento terra Ã© talvez o exercÃ­cio mais completo da musculaÃ§Ã£o. Trabalha isquiotibiais, glÃºteos, eretores da espinha, trapÃ©zio, latÃ­ssimo, rombÃ³ides e muito mais. Exige tÃ©cnica impecÃ¡vel para evitar lesÃµes.",
    tips: [
      "PÃ©s na largura dos quadris, barra sobre o meio do pÃ©",
      "Joelhos dobrados, quadril abaixado â€” costas NUNCA arredondadas",
      "Empurre o chÃ£o com os pÃ©s ao subir (nÃ£o puxe a barra)",
      "Mantenha a barra raspando as pernas do inÃ­cio ao fim",
      "Respire fundo antes de cada rep (manobra de Valsalva) para estabilizar"
    ],
    series: "5", reps: "3â€“6", descanso: "180s",
    bg: "linear-gradient(135deg, #1a0a0a 0%, #2a1a0a 100%)"
  },
  {
    id: 8, name: "Puxada Frontal", muscle: "Costas", emoji: "ðŸŽ¯", difficulty: "iniciante",
    desc: "Excelente substituto da barra fixa para iniciantes. Foca no latÃ­ssimo do dorso.",
    longDesc: "A puxada frontal (lat pulldown) Ã© ideal para iniciantes que ainda nÃ£o conseguem realizar a barra fixa. Trabalha diretamente o latÃ­ssimo do dorso e permite progressÃ£o de carga de forma segura e controlada.",
    tips: [
      "Puxe a barra atÃ© a altura do queixo ou do tÃ³rax superior",
      "NÃ£o incline excessivamente o tronco para trÃ¡s",
      "Cotovelos apontando para o chÃ£o no ponto de contraÃ§Ã£o",
      "Volte lentamente â€” a fase excÃªntrica Ã© muito importante",
      "Varie a pegada: aberta (latÃ­ssimo), fechada (rombÃ³ides), supinada (bÃ­ceps)"
    ],
    series: "3", reps: "10â€“15", descanso: "75s",
    bg: "linear-gradient(135deg, #0a0a1a 0%, #0a1020 100%)"
  },

  // OMBROS
  {
    id: 9, name: "Desenvolvimento", muscle: "Ombros", emoji: "ðŸ—ï¸", difficulty: "intermediario",
    desc: "ExercÃ­cio fundamental para ombros grandes e fortes. Trabalha os trÃªs feixes do deltÃ³ide.",
    longDesc: "O desenvolvimento com barra ou halteres Ã© o exercÃ­cio base para ombros. Trabalha primariamente o deltÃ³ide anterior e mÃ©dio, com ativaÃ§Ã£o do trapÃ©zio e trÃ­ceps. Ã‰ um dos melhores para ganho de massa nos ombros.",
    tips: [
      "PosiÃ§Ã£o sentada com encosto para proteger a coluna lombar",
      "Agarre a barra um pouco mais larga que os ombros",
      "DesÃ§a a barra atÃ© a altura do queixo â€” nÃ£o atrÃ¡s da cabeÃ§a",
      "NÃ£o trave totalmente os cotovelos no topo",
      "Core ativado durante todo o movimento â€” nÃ£o hiperestenha lombar"
    ],
    series: "4", reps: "8â€“12", descanso: "90s",
    bg: "linear-gradient(135deg, #1a1a0a 0%, #2a2a0a 100%)"
  },
  {
    id: 10, name: "ElevaÃ§Ã£o Lateral", muscle: "Ombros", emoji: "ðŸ¦œ", difficulty: "iniciante",
    desc: "Isolamento do deltÃ³ide mÃ©dio. Essencial para ombros largos e bem definidos.",
    longDesc: "A elevaÃ§Ã£o lateral Ã© o exercÃ­cio mais especÃ­fico para o deltÃ³ide mÃ©dio, responsÃ¡vel pela largura dos ombros. Deve ser feita com cargas moderadas e foco na execuÃ§Ã£o, nÃ£o na carga.",
    tips: [
      "Leve flexÃ£o nos cotovelos (15â€“20Â°) durante todo o movimento",
      "Eleve atÃ© a altura dos ombros â€” nÃ£o acima",
      "O polegar deve ficar ligeiramente abaixo do dedo mÃ­nimo (como verter Ã¡gua)",
      "Movimento lento e controlado â€” sem balanÃ§ar o corpo",
      "Fase excÃªntrica de 3 segundos para mÃ¡ximo recrutamento do deltÃ³ide mÃ©dio"
    ],
    series: "4", reps: "12â€“15", descanso: "60s",
    bg: "linear-gradient(135deg, #100a1a 0%, #1a0a2a 100%)"
  },
  {
    id: 11, name: "Encolhimento de Ombros", muscle: "Ombros", emoji: "ðŸ—»", difficulty: "iniciante",
    desc: "ExercÃ­cio especÃ­fico para o trapÃ©zio superior. Melhora postura e forÃ§a da regiÃ£o cervical.",
    longDesc: "O encolhimento de ombros trabalha especificamente o trapÃ©zio superior e elevador da escÃ¡pula. Ã‰ importante para equilÃ­brio muscular e postura, especialmente para quem trabalha muito sentado.",
    tips: [
      "Eleve os ombros diretamente para cima â€” nÃ£o gire",
      "Segure no topo por 1â€“2 segundos para mÃ¡xima contraÃ§Ã£o",
      "DesÃ§a completamente para alongar o trapÃ©zio",
      "Mantenha os braÃ§os retos â€” apenas os ombros se movem",
      "NÃ£o use cargas excessivas â€” priorize a execuÃ§Ã£o"
    ],
    series: "3", reps: "15â€“20", descanso: "60s",
    bg: "linear-gradient(135deg, #0a1a10 0%, #0a2a1a 100%)"
  },

  // BÃCEPS
  {
    id: 12, name: "Rosca Direta", muscle: "BÃ­ceps", emoji: "ðŸ’ª", difficulty: "iniciante",
    desc: "O clÃ¡ssico para bÃ­ceps. ExercÃ­cio base para ganho de massa e forÃ§a nos braÃ§os.",
    longDesc: "A rosca direta com barra Ã© o exercÃ­cio mais conhecido para bÃ­ceps. Trabalha o bÃ­ceps braquial e braquial. Ã‰ um exercÃ­cio de isolamento que permite progressÃ£o de carga direta.",
    tips: [
      "Cotovelos fixos prÃ³ximos ao corpo â€” nÃ£o avance para frente",
      "Pegada supinada (palmas para cima) para mÃ¡ximo recrutamento do bÃ­ceps",
      "NÃ£o balance o corpo para levantar o peso â€” sinal de peso excessivo",
      "Suba completamente e desÃ§a de forma controlada",
      "Varie com halteres para maior amplitude e contraÃ§Ã£o unilateral"
    ],
    series: "3", reps: "10â€“12", descanso: "60s",
    bg: "linear-gradient(135deg, #0a0a1a 0%, #0a0a2a 100%)"
  },
  {
    id: 13, name: "Rosca Alternada", muscle: "BÃ­ceps", emoji: "ðŸ”„", difficulty: "iniciante",
    desc: "Trabalha cada braÃ§o individualmente para corrigir assimetrias e maximizar a contraÃ§Ã£o.",
    longDesc: "A rosca alternada com halteres permite maior amplitude e contraÃ§Ã£o do bÃ­ceps. O movimento de supinaÃ§Ã£o do pulso durante a elevaÃ§Ã£o maximiza a contraÃ§Ã£o do bÃ­ceps braquial.",
    tips: [
      "Ao subir, gire o pulso de neutro para supinado (polegar para fora)",
      "Mantenha o cotovelo estÃ¡tico â€” apenas o antebraÃ§o se move",
      "Olhe para o bÃ­ceps durante a contraÃ§Ã£o (foco neuromuscular)",
      "DesÃ§a de forma controlada aproveitando a fase excÃªntrica",
      "Mantenha a postura ereta â€” nÃ£o incline o tronco para ajudar"
    ],
    series: "3", reps: "10â€“12 por lado", descanso: "60s",
    bg: "linear-gradient(135deg, #1a0a10 0%, #2a0a20 100%)"
  },
  {
    id: 14, name: "Rosca Concentrada", muscle: "BÃ­ceps", emoji: "ðŸŽ¯", difficulty: "iniciante",
    desc: "MÃ¡ximo isolamento do bÃ­ceps. Excelente para pico muscular e definiÃ§Ã£o.",
    longDesc: "A rosca concentrada, realizada com o cotovelo apoiado na coxa, isola completamente o bÃ­ceps. Ã‰ um exercÃ­cio valioso para desenvolvimento de pico e forma do bÃ­ceps.",
    tips: [
      "Cotovelo apoiado na parte interna da coxa â€” totalmente fixo",
      "Movimento puramente do antebraÃ§o â€” nada mais se move",
      "Squeeze no topo: contraia o bÃ­ceps ao mÃ¡ximo por 1 segundo",
      "DesÃ§a completamente para extensÃ£o total",
      "Use carga moderada â€” foco total na contraÃ§Ã£o, nÃ£o na carga"
    ],
    series: "3", reps: "12â€“15 por lado", descanso: "45s",
    bg: "linear-gradient(135deg, #0a1a0a 0%, #0a2010 100%)"
  },

  // TRÃCEPS
  {
    id: 15, name: "TrÃ­ceps Testa", muscle: "TrÃ­ceps", emoji: "ðŸ§ ", difficulty: "intermediario",
    desc: "Excelente isolamento para o trÃ­ceps, com foco na cabeÃ§a longa do mÃºsculo.",
    longDesc: "O trÃ­ceps testa (skull crusher) Ã© um dos exercÃ­cios mais eficazes para desenvolvimento do trÃ­ceps, especialmente a cabeÃ§a longa. Realizado deitado no banco, oferece grande amplitude de movimento.",
    tips: [
      "DesÃ§a a barra atÃ© a testa ou ligeiramente atrÃ¡s da cabeÃ§a",
      "Cotovelos apontando para cima â€” nÃ£o abram para os lados",
      "ExtensÃ£o completa no topo sem travar completamente",
      "Pegada com mÃ£os na largura dos ombros ou ligeiramente mais fechada",
      "Cuidado ao iniciar: use carga leve atÃ© dominar a execuÃ§Ã£o"
    ],
    series: "3", reps: "10â€“12", descanso: "75s",
    bg: "linear-gradient(135deg, #1a0a1a 0%, #2a0a2a 100%)"
  },
  {
    id: 16, name: "TrÃ­ceps Pulley", muscle: "TrÃ­ceps", emoji: "â¬‡ï¸", difficulty: "iniciante",
    desc: "Isolamento clÃ¡ssico no cabo. Trabalha todas as cabeÃ§as do trÃ­ceps de forma constante.",
    longDesc: "O trÃ­ceps no pulley (polia) oferece tensÃ£o constante durante todo o movimento. Ã‰ excelente para isolamento e definiÃ§Ã£o do trÃ­ceps, sendo ideal tanto para iniciantes quanto para avanÃ§ados.",
    tips: [
      "Cotovelos fixos prÃ³ximos ao corpo durante todo o movimento",
      "DesÃ§a atÃ© a extensÃ£o completa â€” squeeze no final",
      "Mantenha o tronco levemente inclinado para frente (10â€“15Â°)",
      "Controle a subida â€” nÃ£o deixe o peso subir sozinho",
      "Varie: corda (ativa as 3 cabeÃ§as), barra reta, barra V"
    ],
    series: "3", reps: "12â€“15", descanso: "60s",
    bg: "linear-gradient(135deg, #0a1010 0%, #0a1a20 100%)"
  },
  {
    id: 17, name: "Mergulho (Dip)", muscle: "TrÃ­ceps", emoji: "ðŸŠ", difficulty: "intermediario",
    desc: "ExercÃ­cio composto e poderoso para trÃ­ceps. Excelente para ganho de massa e forÃ§a.",
    longDesc: "O mergulho nas paralelas Ã© um exercÃ­cio composto que trabalha trÃ­ceps, peitoral inferior e deltÃ³ide anterior. Ã‰ um dos melhores movimentos para desenvolvimento do trÃ­ceps e da parte inferior do peito.",
    tips: [
      "Incline levemente o corpo para frente para focar o peitoral inferior",
      "Corpo reto ao inclinar o tronco menos foca o trÃ­ceps",
      "DesÃ§a atÃ© os cotovelos formarem 90Â° â€” nÃ£o abaixo disso para iniciantes",
      "Suba completamente sem travar os cotovelos",
      "Adicione peso com cinto quando o prÃ³prio corpo ficar fÃ¡cil"
    ],
    series: "4", reps: "8â€“12", descanso: "90s",
    bg: "linear-gradient(135deg, #1a1a0a 0%, #2a2a10 100%)"
  },

  // PERNAS
  {
    id: 18, name: "Agachamento Livre", muscle: "Pernas", emoji: "ðŸ¦", difficulty: "intermediario",
    desc: "Rei dos exercÃ­cios. Trabalha quadrÃ­ceps, glÃºteos, isquiotibiais e muito mais.",
    longDesc: "O agachamento livre Ã© frequentemente chamado de rei dos exercÃ­cios por trabalhar quase todos os mÃºsculos do corpo. O foco Ã© nos quadrÃ­ceps, glÃºteos e isquiotibiais, mas tambÃ©m recruta core, eretores e mais.",
    tips: [
      "PÃ©s na largura dos ombros, dedos ligeiramente virados para fora",
      "Joelhos seguem a direÃ§Ã£o dos dedos â€” nunca entrem para dentro (valgo)",
      "DesÃ§a atÃ© a dobra do quadril passar abaixo dos joelhos (full squat)",
      "Coluna neutra â€” nÃ£o arredonde a lombar ao descer",
      "Distribua o peso em todo o pÃ©, nÃ£o apenas nas pontas ou calcanhar"
    ],
    series: "4", reps: "8â€“12", descanso: "120s",
    bg: "linear-gradient(135deg, #1a0a0a 0%, #2a1010 100%)"
  },
  {
    id: 19, name: "Leg Press", muscle: "Pernas", emoji: "ðŸ¦µ", difficulty: "iniciante",
    desc: "Excelente para carga alta em quadrÃ­ceps e glÃºteos. Menor risco que o agachamento livre.",
    longDesc: "O leg press permite trabalhar quadrÃ­ceps e glÃºteos com cargas muito elevadas, com menor demanda sobre a lombar em comparaÃ§Ã£o ao agachamento livre. Ideal para hipertrofia de pernas.",
    tips: [
      "PÃ©s posicionados mais alto ativa mais glÃºteo; mais baixo, quadrÃ­ceps",
      "NÃ£o deixe os joelhos ultrapassar muito as pontas dos pÃ©s",
      "NÃ£o trave os joelhos completamente no topo â€” leve flexÃ£o",
      "Nunca retire a lombar do encosto durante o movimento",
      "DesÃ§a atÃ© 90Â° de flexÃ£o nos joelhos para amplitude adequada"
    ],
    series: "4", reps: "10â€“15", descanso: "90s",
    bg: "linear-gradient(135deg, #0a1010 0%, #0a1a1a 100%)"
  },
  {
    id: 20, name: "AvanÃ§o (Lunge)", muscle: "Pernas", emoji: "ðŸš¶", difficulty: "iniciante",
    desc: "Excelente para glÃºteos e quadrÃ­ceps. Melhora equilÃ­brio e corrige assimetrias.",
    longDesc: "O avanÃ§o Ã© um exercÃ­cio funcional que trabalha quadrÃ­ceps, glÃºteos e isquiotibiais unilateralmente. Ã‰ excelente para corrigir desequilÃ­brios musculares entre os dois lados do corpo.",
    tips: [
      "Passo largo o suficiente para o joelho de trÃ¡s nÃ£o tocar o chÃ£o com forÃ§a",
      "Joelho da frente nunca passa a ponta do pÃ©",
      "Tronco ereto durante todo o movimento",
      "Peso distribuÃ­do principalmente no calcanhar da perna da frente",
      "Olhe para frente â€” nÃ£o para baixo (ajuda no equilÃ­brio)"
    ],
    series: "3", reps: "12 por perna", descanso: "75s",
    bg: "linear-gradient(135deg, #0a0a1a 0%, #1a0a2a 100%)"
  },
  {
    id: 21, name: "Stiff", muscle: "Pernas", emoji: "ðŸ”§", difficulty: "intermediario",
    desc: "Isolamento de isquiotibiais e glÃºteos. Fundamental para equilÃ­brio muscular das pernas.",
    longDesc: "O stiff (levantamento terra com pernas semi-estendidas) Ã© um dos melhores exercÃ­cios para isquiotibiais e glÃºteo mÃ¡ximo. Foca na cadeia posterior da perna.",
    tips: [
      "Joelhos levemente flexionados â€” nÃ£o totalmente estendidos",
      "DesÃ§a sentindo o alongamento dos isquiotibiais",
      "Coluna neutra durante todo o movimento â€” nÃ£o arredonde",
      "Quadril empurra para trÃ¡s ao descer (articulaÃ§Ã£o do quadril, nÃ£o a lombar)",
      "Barra prÃ³xima Ã s pernas durante todo o percurso"
    ],
    series: "3", reps: "10â€“12", descanso: "90s",
    bg: "linear-gradient(135deg, #1a1a0a 0%, #2a2010 100%)"
  },
  {
    id: 22, name: "Panturrilha", muscle: "Pernas", emoji: "ðŸ¦¶", difficulty: "iniciante",
    desc: "Desenvolvimento das panturrilhas (gastrocnÃªmio e sÃ³leo). Essencial para completar o visual das pernas.",
    longDesc: "O treinamento de panturrilha Ã© frequentemente negligenciado, mas Ã© essencial para um fÃ­sico equilibrado e para performance esportiva. O gastrocnÃªmio e o sÃ³leo sÃ£o mÃºsculos altamente resistentes e respondem bem a altas repetiÃ§Ãµes.",
    tips: [
      "Amplitude mÃ¡xima: desÃ§a completamente (calcanhar abaixo da plataforma)",
      "Suba atÃ© a extensÃ£o completa na ponta do pÃ©",
      "Pause 1 segundo no topo para mÃ¡xima contraÃ§Ã£o",
      "Use altas repetiÃ§Ãµes (15â€“25) â€” panturrilha Ã© muito resistente",
      "Varie a posiÃ§Ã£o dos pÃ©s: reto (gastrocnÃªmio), ponta para dentro/fora"
    ],
    series: "4", reps: "15â€“25", descanso: "45s",
    bg: "linear-gradient(135deg, #0a1a0a 0%, #101a10 100%)"
  },

  // â”€â”€ PEITO extra â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 26, name: "Supino Declinado", muscle: "Peito", emoji: "â¬‡ï¸", difficulty: "intermediario",
    desc: "Trabalha a porÃ§Ã£o inferior do peitoral com o banco em -15Â° a -30Â°. DÃ¡ espessura na parte baixa do peito.",
    longDesc: "O supino declinado foca na porÃ§Ã£o esternocostal inferior do peitoral maior. Por reduzir a ativaÃ§Ã£o do deltÃ³ide anterior, permite cargas maiores que o supino reto. Exige banco declinado ajustÃ¡vel ou suporte para os pÃ©s.",
    tips: ["Prenda os pÃ©s firmemente antes de iniciar o movimento","Amplitude completa: barra desce atÃ© a parte inferior do peito","NÃ£o hiperestenda a lombar â€” mantenha a coluna neutra","Descida controlada de 2â€“3 segundos","Evite travar totalmente os cotovelos no topo"],
    series: "4", reps: "8â€“12", descanso: "90s", bg: "linear-gradient(135deg, #1a0a0a 0%, #250a15 100%)"
  },
  {
    id: 27, name: "Crossover no Cabo", muscle: "Peito", emoji: "âœ‚ï¸", difficulty: "intermediario",
    desc: "Isolamento de alta qualidade no peitoral com tensÃ£o constante durante toda a amplitude.",
    longDesc: "O crossover no cabo Ã© excelente para definiÃ§Ã£o e separaÃ§Ã£o do peitoral. A tensÃ£o constante do cabo ao longo de todo o arco do movimento garante estimulaÃ§Ã£o contÃ­nua das fibras do peitoral maior.",
    tips: ["Poias no alto: foca parte inferior; polias no baixo: foca parte superior","Leve flexÃ£o no cotovelo â€” mantenha durante todo o movimento","Traga as mÃ£os em arco, como abraÃ§ar â€” nÃ£o empurrar","Espremem as mÃ£os no final por 1â€“2 s para mÃ¡xima contraÃ§Ã£o","NÃ£o traga os braÃ§os alÃ©m da linha central do corpo"],
    series: "3", reps: "12â€“15", descanso: "60s", bg: "linear-gradient(135deg, #0a0a1a 0%, #120a20 100%)"
  },
  {
    id: 28, name: "Peck Deck (Voador)", muscle: "Peito", emoji: "ðŸ¦…", difficulty: "iniciante",
    desc: "MÃ¡quina de isolamento do peitoral. Ã“tima para finalizar o treino e maximizar a contraÃ§Ã£o.",
    longDesc: "O peck deck ou voador na mÃ¡quina Ã© um exercÃ­cio de isolamento que trabalha o peitoral maior com baixo risco de lesÃ£o. Ideal para finalizaÃ§Ã£o de treino e para quem estÃ¡ aprendendo a sentir o peitoral durante o exercÃ­cio.",
    tips: ["Ajuste o assento para que os cotovelos fiquem na altura dos ombros","Empurre com os cotovelos, nÃ£o com as mÃ£os","NÃ£o abra alÃ©m do nÃ­vel dos ombros para proteger o ombro","Fase excÃªntrica lenta â€” sinta o alongamento do peitoral","Squeeze de 2 s no ponto de contraÃ§Ã£o mÃ¡xima"],
    series: "3", reps: "12â€“15", descanso: "60s", bg: "linear-gradient(135deg, #0a1510 0%, #0a2018 100%)"
  },
  {
    id: 29, name: "Supino com Halteres", muscle: "Peito", emoji: "ðŸ”", difficulty: "iniciante",
    desc: "VersÃ£o com halteres do supino reto. Maior amplitude e trabalho de estabilizaÃ§Ã£o.",
    longDesc: "O supino com halteres permite maior amplitude de movimento do que com a barra e recruta mais mÃºsculos estabilizadores. Cada braÃ§o trabalha de forma independente, corrigindo assimetrias musculares.",
    tips: ["Inicie com halteres nos ombros â€” leve impulsÃ£o do joelho para subir","DesÃ§a atÃ© sentir um bom alongamento no peito (halteres ao nÃ­vel do tÃ³rax)","Leve rotaÃ§Ã£o interna dos pulsos ao subir Ã© natural","NÃ£o deixe os halteres se tocarem no topo â€” mantenha leve tensÃ£o","Core contraÃ­do durante todo o movimento"],
    series: "4", reps: "10â€“12", descanso: "75s", bg: "linear-gradient(135deg, #1a0a1a 0%, #200a25 100%)"
  },
  {
    id: 30, name: "Mergulho no Banco", muscle: "Peito", emoji: "ðŸª‘", difficulty: "iniciante",
    desc: "ExercÃ­cio de peso corporal que foca o peitoral inferior e o trÃ­ceps. Pode ser feito em qualquer banco.",
    longDesc: "O mergulho no banco (bench dip) Ã© uma excelente opÃ§Ã£o para treino em casa ou como exercÃ­cio complementar em academia. Com os pÃ©s no chÃ£o, trabalha principalmente o trÃ­ceps; com os pÃ©s elevados, foca mais no peitoral inferior.",
    tips: ["MÃ£os apoiadas no banco, dedos para frente","PÃ©s no chÃ£o ou elevados em outro banco para maior dificuldade","DesÃ§a atÃ© os cotovelos formarem 90Â° no mÃ­nimo","Cotovelos prÃ³ximos ao corpo â€” nÃ£o deixe abrir lateralmente","Adicione anilha no colo para progressÃ£o de carga"],
    series: "3", reps: "12â€“20", descanso: "60s", bg: "linear-gradient(135deg, #1a1a0a 0%, #252515 100%)"
  },

  // â”€â”€ COSTAS extra â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 31, name: "Remada Unilateral", muscle: "Costas", emoji: "ðŸŽ£", difficulty: "iniciante",
    desc: "Remada com halter apoiado no banco. Excelente para espessura e corrige assimetrias.",
    longDesc: "A remada unilateral com halter Ã© um dos exercÃ­cios mais eficazes para desenvolvimento do latÃ­ssimo dorso e rombÃ³ides. O apoio no banco protege a coluna e permite foco total no lado trabalhado.",
    tips: ["Apoie joelho e mÃ£o ipsilateral no banco â€” coluna paralela ao chÃ£o","Puxe o halter em direÃ§Ã£o ao quadril, nÃ£o Ã  axila","No topo, contraia a escÃ¡pula por 1 segundo","DesÃ§a completamente para alongar o latÃ­ssimo","NÃ£o gire o tronco para ajudar â€” movimento puro de costas"],
    series: "4", reps: "10â€“12 por lado", descanso: "75s", bg: "linear-gradient(135deg, #0a1a0a 0%, #0a2510 100%)"
  },
  {
    id: 32, name: "Remada Sentado (Cabo)", muscle: "Costas", emoji: "ðŸš£", difficulty: "iniciante",
    desc: "Remada na polia baixa, sentado. Ã“tima para espessura de costas com boa estabilizaÃ§Ã£o.",
    longDesc: "A remada sentada no cabo (seated cable row) combina eficiÃªncia e seguranÃ§a. Trabalha latÃ­ssimo do dorso, rombÃ³ides e trapÃ©zio mÃ©dio com tensÃ£o constante, sendo ideal para iniciantes e avanÃ§ados.",
    tips: ["Sente ereto â€” nÃ£o curve as costas para alcanÃ§ar o cabo","Puxe o triangulo (ou barra) atÃ© o abdÃ´men","Cotovelos passam prÃ³ximos ao corpo na fase de puxada","EscÃ¡pulas contraem no final do movimento â€” nÃ£o apenas os braÃ§os","Controle a fase de retorno â€” nÃ£o deixe o peso puxar"],
    series: "4", reps: "10â€“12", descanso: "75s", bg: "linear-gradient(135deg, #100a1a 0%, #180a20 100%)"
  },
  {
    id: 33, name: "Puxada Neutra (TriÃ¢ngulo)", muscle: "Costas", emoji: "ðŸ”º", difficulty: "iniciante",
    desc: "Puxada com pegada neutra, foca no latÃ­ssimo e bÃ­ceps com menor esforÃ§o no ombro.",
    longDesc: "A puxada com triÃ¢ngulo (pegada neutra) Ã© mais confortÃ¡vel para os ombros e permite uma boa ativaÃ§Ã£o do latÃ­ssimo dorso e do braquial. Ã‰ uma excelente variaÃ§Ã£o para quem tem desconforto nas pegadas prona ou supinada.",
    tips: ["Puxe o triÃ¢ngulo atÃ© o peito â€” nÃ£o abaixo do queixo","Cotovelos apontam diretamente para o chÃ£o no ponto de contraÃ§Ã£o","Mantenha leve inclinaÃ§Ã£o do tronco para trÃ¡s (10â€“15Â°)","DesÃ§a de forma controlada atÃ© extensÃ£o quase completa","Aperte as escÃ¡pulas juntas no ponto de contraÃ§Ã£o mÃ¡xima"],
    series: "3", reps: "10â€“12", descanso: "75s", bg: "linear-gradient(135deg, #0a0a1a 0%, #120a18 100%)"
  },
  {
    id: 34, name: "Pullover com Halter", muscle: "Costas", emoji: "ðŸŒ€", difficulty: "intermediario",
    desc: "ExercÃ­cio Ãºnico que trabalha latÃ­ssimo do dorso e serrÃ¡til anterior com grande amplitude.",
    longDesc: "O pullover com halter Ã© considerado um exercÃ­cio 'caixa torÃ¡cica' pela enorme amplitude que proporciona. Trabalha latÃ­ssimo do dorso, serrÃ¡til anterior, peitoral maior e trÃ­ceps cabeÃ§a longa. Recomendado ao final do treino de costas ou peito.",
    tips: ["Deite perpendicular ao banco â€” apenas a parte superior das costas apoiada","Segure o halter com as duas mÃ£os acima do peito","DesÃ§a em arco atrÃ¡s da cabeÃ§a, sentindo o latÃ­ssimo alongar","BraÃ§os levemente flexionados durante todo o movimento","NÃ£o desÃ§a alÃ©m do nÃ­vel do banco para proteger os ombros"],
    series: "3", reps: "12â€“15", descanso: "60s", bg: "linear-gradient(135deg, #1a1010 0%, #201515 100%)"
  },
  {
    id: 35, name: "Face Pull", muscle: "Costas", emoji: "ðŸ˜¤", difficulty: "iniciante",
    desc: "ExercÃ­cio para deltÃ³ide posterior e manguito rotador. Fundamental para saÃºde dos ombros.",
    longDesc: "O face pull com corda no cabo Ã© um dos exercÃ­cios mais importantes para saÃºde dos ombros e postura. Trabalha o deltÃ³ide posterior, rombÃ³ides e manguito rotador â€” mÃºsculos frequentemente negligenciados.",
    tips: ["Polia na altura dos olhos ou ligeiramente acima","Puxe a corda em direÃ§Ã£o ao rosto, separando as pontas ao final","Cotovelos sobem atÃ© a altura dos ombros ou acima","RotaÃ§Ã£o externa dos ombros ao final â€” polegar aponta para trÃ¡s","Use carga leve â€” foco total na execuÃ§Ã£o e sensaÃ§Ã£o muscular"],
    series: "3", reps: "15â€“20", descanso: "45s", bg: "linear-gradient(135deg, #1a0a10 0%, #200a18 100%)"
  },
  {
    id: 36, name: "Barra Supinada (Chin-up)", muscle: "Costas", emoji: "ðŸ”", difficulty: "intermediario",
    desc: "Barra fixa com pegada supinada â€” ativa mais o bÃ­ceps e o latÃ­ssimo inferior.",
    longDesc: "O chin-up (barra supinada) diferencia-se do pull-up pela pegada com palmas voltadas para vocÃª. Essa posiÃ§Ã£o permite maior ativaÃ§Ã£o do bÃ­ceps e proporciona uma posiÃ§Ã£o de ombro mais confortÃ¡vel para muitas pessoas.",
    tips: ["Pegada com mÃ£os na largura dos ombros, palmas para vocÃª","Inicie da posiÃ§Ã£o morta â€” cotovelos estendidos","Suba atÃ© o queixo ultrapassar a barra","Movimento controlado â€” nÃ£o balance o corpo","Fase de descida de 3 segundos para mÃ¡ximo estÃ­mulo"],
    series: "4", reps: "6â€“10", descanso: "120s", bg: "linear-gradient(135deg, #0a1a10 0%, #102010 100%)"
  },
  {
    id: 37, name: "HiperextensÃ£o", muscle: "Costas", emoji: "ðŸ¦´", difficulty: "iniciante",
    desc: "Fortalece os eretores da espinha e glÃºteos. Essencial para saÃºde da coluna lombar.",
    longDesc: "A hiperextensÃ£o na cadeira romana trabalha os eretores da espinha, glÃºteo mÃ¡ximo e isquiotibiais. Ã‰ fundamental para equilÃ­brio muscular e prevenÃ§Ã£o de lesÃµes lombares. Pode ser feita com ou sem carga adicional.",
    tips: ["Quadril na borda do aparelho â€” tronco livre para movimentar","DesÃ§a atÃ© sentir alongamento nos isquiotibiais (90Â° aproximadamente)","Suba atÃ© ficar alinhado â€” nÃ£o hiperestenha (nÃ£o vÃ¡ alÃ©m do neutro)","MÃ£os cruzadas no peito ou atrÃ¡s da cabeÃ§a para iniciantes","Adicione anilha no peito para aumentar a carga"],
    series: "3", reps: "12â€“15", descanso: "60s", bg: "linear-gradient(135deg, #1a1a0a 0%, #252010 100%)"
  },

  // â”€â”€ OMBROS extra â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 38, name: "ElevaÃ§Ã£o Frontal", muscle: "Ombros", emoji: "â¬†ï¸", difficulty: "iniciante",
    desc: "Isolamento do deltÃ³ide anterior. Complementa o desenvolvimento para ombros completos.",
    longDesc: "A elevaÃ§Ã£o frontal com halteres ou barra trabalha especificamente o deltÃ³ide anterior (feixe da frente). Ã‰ um exercÃ­cio de isolamento importante para quem quer ombros completos e bem desenvolvidos em todos os feixes.",
    tips: ["Eleve os braÃ§os Ã  frente do corpo atÃ© a altura dos ombros","Leve flexÃ£o nos cotovelos â€” braÃ§os nÃ£o totalmente estendidos","Movimento alternado (um braÃ§o de cada vez) ou simultÃ¢neo","Fase excÃªntrica de 2â€“3 segundos","NÃ£o balanceie o tronco para trÃ¡s para auxiliar o movimento"],
    series: "3", reps: "12â€“15", descanso: "60s", bg: "linear-gradient(135deg, #0a0a1a 0%, #100a20 100%)"
  },
  {
    id: 39, name: "Desenvolvimento Arnold", muscle: "Ombros", emoji: "ðŸ†", difficulty: "intermediario",
    desc: "Criado por Arnold Schwarzenegger. Trabalha os trÃªs feixes do deltÃ³ide em um Ãºnico movimento.",
    longDesc: "O desenvolvimento Arnold combina uma rotaÃ§Ã£o do pulso durante o movimento, ativando progressivamente os trÃªs feixes do deltÃ³ide (anterior, mÃ©dio e posterior). Ã‰ um dos exercÃ­cios mais completos para ombros.",
    tips: ["Inicie com halteres na frente, palmas para vocÃª (como tÃ©rmino de rosca)","Ao empurrar, gire os pulsos atÃ© palmas ficarem para frente no topo","DesÃ§a fazendo o movimento inverso â€” rotaÃ§Ã£o de volta","ExecuÃ§Ã£o lenta e controlada â€” foco na amplitude completa","NÃ£o trave os cotovelos no topo"],
    series: "3", reps: "10â€“12", descanso: "90s", bg: "linear-gradient(135deg, #1a0a0a 0%, #220a10 100%)"
  },
  {
    id: 40, name: "ElevaÃ§Ã£o Lateral Cabo", muscle: "Ombros", emoji: "ðŸ”Œ", difficulty: "iniciante",
    desc: "ElevaÃ§Ã£o lateral com cabo para tensÃ£o constante. Superior ao halter no deltÃ³ide mÃ©dio.",
    longDesc: "A elevaÃ§Ã£o lateral com cabo oferece tensÃ£o constante ao longo de todo o arco do movimento, diferente dos halteres que tÃªm tensÃ£o zero na posiÃ§Ã£o inicial. Isso resulta em maior estÃ­mulo para o deltÃ³ide mÃ©dio.",
    tips: ["Polia na posiÃ§Ã£o mais baixa possÃ­vel","Cabo passa Ã  frente do corpo (braÃ§o cruzado) para maior amplitude","Cotovelos ligeiramente flexionados durante todo o movimento","Eleve atÃ© a altura do ombro â€” nÃ£o acima","Realize lentamente â€” o objetivo nÃ£o Ã© a carga, mas a sensaÃ§Ã£o"],
    series: "3", reps: "12â€“15", descanso: "60s", bg: "linear-gradient(135deg, #0a1a0a 0%, #102010 100%)"
  },
  {
    id: 41, name: "ElevaÃ§Ã£o Posterior", muscle: "Ombros", emoji: "ðŸ¦¢", difficulty: "iniciante",
    desc: "Trabalha o deltÃ³ide posterior â€” o feixe mais negligenciado. Fundamental para postura.",
    longDesc: "A elevaÃ§Ã£o posterior (reverse fly) com halteres ou no banco inclina trabalha o deltÃ³ide posterior e os rombÃ³ides. Ã‰ um exercÃ­cio essencial para postura e saÃºde dos ombros, frequentemente ignorado nos treinos.",
    tips: ["Tronco inclinado a quase 90Â° ou deitado no banco inclinado de frente","Leve flexÃ£o nos cotovelos durante todo o movimento","Movimento em arco â€” cotovelos saem para os lados e para cima","Squeeze nas escÃ¡pulas no topo do movimento","Use carga leve â€” deltÃ³ide posterior Ã© fraco em maioria das pessoas"],
    series: "3", reps: "15â€“20", descanso: "45s", bg: "linear-gradient(135deg, #1a1a0a 0%, #201a10 100%)"
  },
  {
    id: 42, name: "Desenvolvimento Militar", muscle: "Ombros", emoji: "ðŸŽ–ï¸", difficulty: "avancado",
    desc: "Desenvolvimento em pÃ© com barra. O mais desafiador para ombros â€” envolve core total.",
    longDesc: "O desenvolvimento militar (standing overhead press) Ã© realizado em pÃ©, exigindo estabilizaÃ§Ã£o de todo o corpo. Recruta core, glÃºteos e pernas para estabilizar, alÃ©m dos mÃºsculos primÃ¡rios (deltÃ³ides e trÃ­ceps). Excelente para forÃ§a funcional.",
    tips: ["Em pÃ©, pÃ©s na largura dos ombros â€” posiÃ§Ã£o estÃ¡vel","Core contraÃ­do â€” nÃ£o hiperestenha a lombar para ajudar","Barra desce atÃ© a altura do queixo â€” nÃ£o atrÃ¡s da cabeÃ§a","Pressione ativamente atravÃ©s da barra ao subir","Olhe levemente para cima conforme a barra sobe"],
    series: "4", reps: "6â€“10", descanso: "120s", bg: "linear-gradient(135deg, #100a1a 0%, #1a0a22 100%)"
  },

  // â”€â”€ BÃCEPS extra â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 43, name: "Rosca 21", muscle: "BÃ­ceps", emoji: "2ï¸âƒ£1ï¸âƒ£", difficulty: "intermediario",
    desc: "TÃ©cnica avanÃ§ada: 7 meias reps baixas + 7 meias reps altas + 7 completas = 21 reps.",
    longDesc: "A rosca 21 Ã© uma tÃ©cnica de intensidade que divide o movimento do bÃ­ceps em trÃªs partes. Cria enorme tensÃ£o e pump muscular ao trabalhar separadamente a parte inferior, superior e completa do movimento.",
    tips: ["Use carga 30â€“40% menor que o normal na rosca direta","7 reps: somente da posiÃ§Ã£o baixa atÃ© 90Â° (metade inferior)","7 reps: somente de 90Â° atÃ© o topo (metade superior)","7 reps: movimento completo de baixo a cima","Sem pausa entre as fases â€” continue fluindo"],
    series: "3", reps: "21 (3Ã—7)", descanso: "90s", bg: "linear-gradient(135deg, #0a0a1a 0%, #100a25 100%)"
  },
  {
    id: 44, name: "Rosca Martelo", muscle: "BÃ­ceps", emoji: "ðŸ”¨", difficulty: "iniciante",
    desc: "Pegada neutra que trabalha braquial e braquiorradial alÃ©m do bÃ­ceps.",
    longDesc: "A rosca martelo (hammer curl) usa pegada neutra (polegar para cima), ativando alÃ©m do bÃ­ceps braquial o braquial e o braquiorradial. Desenvolve a espessura do braÃ§o e o mÃºsculo lateral do antebraÃ§o, dando volume total ao braÃ§o.",
    tips: ["Pegada neutra â€” polegar aponta para cima durante todo o movimento","Cotovelos fixos ao lado do corpo","Movimento pode ser alternado ou simultÃ¢neo","NÃ£o gire o pulso â€” mantenha neutro do inÃ­cio ao fim","Excelente para finalizar treino de bÃ­ceps"],
    series: "3", reps: "10â€“12", descanso: "60s", bg: "linear-gradient(135deg, #1a0a10 0%, #200a18 100%)"
  },
  {
    id: 45, name: "Rosca Scott (Preacher)", muscle: "BÃ­ceps", emoji: "ðŸ“", difficulty: "iniciante",
    desc: "No banco Scott, isola completamente o bÃ­ceps. Ã“tima para pico e para eliminar trapaÃ§as.",
    longDesc: "A rosca Scott no banco preacher Ã© um exercÃ­cio de isolamento que elimina qualquer possibilidade de movimento compensatÃ³rio. O braÃ§o apoiado no banco forÃ§a o bÃ­ceps a trabalhar sozinho, sendo excelente para desenvolvimento de pico muscular.",
    tips: ["Cotovelos apoiados firmemente no banco â€” nÃ£o levante","NÃ£o trave totalmente os cotovelos na descida â€” mantenha leve tensÃ£o","Amplitude total: desÃ§a quase completamente e suba atÃ© a contraÃ§Ã£o","Velocidade controlada especialmente na fase excÃªntrica","Pode ser feito com barra reta, EZ ou halteres"],
    series: "3", reps: "10â€“12", descanso: "60s", bg: "linear-gradient(135deg, #0a1010 0%, #0a1820 100%)"
  },
  {
    id: 46, name: "Rosca Inversa", muscle: "BÃ­ceps", emoji: "ðŸ”ƒ", difficulty: "iniciante",
    desc: "Pegada pronada que trabalha braquiorradial e antebraÃ§o extensores.",
    longDesc: "A rosca inversa com pegada pronada (palmas para baixo) trabalha primariamente o braquiorradial e os extensores do antebraÃ§o, com ativaÃ§Ã£o secundÃ¡ria do bÃ­ceps. Essencial para desenvolvimento completo e equilibrado dos braÃ§os.",
    tips: ["Pegada pronada â€” palmas para baixo durante todo o movimento","Cotovelos prÃ³ximos ao corpo e fixos","Use carga menor que na rosca direta â€” Ã© exercÃ­cio mais difÃ­cil","Amplitude completa do movimento","Ajuda a prevenir lesÃµes de antebraÃ§o e cotovelo (epicondilite)"],
    series: "3", reps: "12â€“15", descanso: "60s", bg: "linear-gradient(135deg, #1a1010 0%, #201818 100%)"
  },
  {
    id: 47, name: "Rosca no Cabo", muscle: "BÃ­ceps", emoji: "ðŸ”—", difficulty: "iniciante",
    desc: "Rosca na polia baixa. TensÃ£o constante superior ao halter â€” Ã³tima para finalizaÃ§Ã£o.",
    longDesc: "A rosca no cabo (cable curl) oferece tensÃ£o constante em todo o arco do movimento. Pode ser feita com barra reta, barra EZ ou com corda. Excelente opÃ§Ã£o para finalizar o treino de bÃ­ceps com alto volume e pump.",
    tips: ["Polia na posiÃ§Ã£o mais baixa","Segure a barra EZ ou corda e recue um passo","Cotovelos fixos ao lado do corpo","SupinaÃ§Ã£o mÃ¡xima ao chegar no topo se usar corda","Fase excÃªntrica de 3 s para mÃ¡ximo estÃ­mulo"],
    series: "3", reps: "15â€“20", descanso: "45s", bg: "linear-gradient(135deg, #0a0a1a 0%, #0f0a1e 100%)"
  },

  // â”€â”€ TRÃCEPS extra â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 48, name: "TrÃ­ceps FrancÃªs", muscle: "TrÃ­ceps", emoji: "ðŸ—¼", difficulty: "intermediario",
    desc: "ExercÃ­cio sentado ou em pÃ© com halter atrÃ¡s da cabeÃ§a. Foca a cabeÃ§a longa do trÃ­ceps.",
    longDesc: "O trÃ­ceps francÃªs (overhead triceps extension) coloca o trÃ­ceps em posiÃ§Ã£o de maior prÃ©-estiramento, especialmente a cabeÃ§a longa. Pode ser feito em pÃ©, sentado, ou unilateral. Excelente para desenvolver espessura no trÃ­ceps.",
    tips: ["Segure o halter com as duas mÃ£os acima da cabeÃ§a","DesÃ§a atrÃ¡s da cabeÃ§a â€” cotovelos apontam para cima","Cotovelos prÃ³ximos Ã  cabeÃ§a â€” nÃ£o devem abrir","ExtensÃ£o completa no topo sem travar","Alternativa: barra EZ ou cabo para conforto no pulso"],
    series: "3", reps: "10â€“12", descanso: "75s", bg: "linear-gradient(135deg, #1a0a1a 0%, #220a22 100%)"
  },
  {
    id: 49, name: "TrÃ­ceps Kickback", muscle: "TrÃ­ceps", emoji: "ðŸ¦µ", difficulty: "iniciante",
    desc: "ExtensÃ£o do cotovelo inclinado com halter. Excelente isolamento e definiÃ§Ã£o do trÃ­ceps.",
    longDesc: "O kickback com halter isola muito bem o trÃ­ceps, especialmente na extensÃ£o final. Realizado com o tronco inclinado e o braÃ§o paralelo ao chÃ£o, Ã© Ã³timo para finalizar o treino de trÃ­ceps com alto grau de isolamento.",
    tips: ["Tronco inclinado quase paralelo ao chÃ£o","BraÃ§o superior (Ãºmero) paralelo ao chÃ£o e fixo durante todo o movimento","Estenda o cotovelo completamente no final","Sem balanÃ§o â€” apenas o antebraÃ§o se move","Carga leve a moderada: o isolamento Ã© o objetivo"],
    series: "3", reps: "12â€“15", descanso: "45s", bg: "linear-gradient(135deg, #0a1a0a 0%, #0f2010 100%)"
  },
  {
    id: 50, name: "Pushdown com Corda", muscle: "TrÃ­ceps", emoji: "ðŸª¢", difficulty: "iniciante",
    desc: "VariaÃ§Ã£o do pulley com corda que permite maior supinaÃ§Ã£o e ativaÃ§Ã£o das trÃªs cabeÃ§as.",
    longDesc: "O pushdown com corda no cabo permite separar as pontas da corda ao final do movimento, criando maior supinaÃ§Ã£o e ativando as trÃªs cabeÃ§as do trÃ­ceps simultaneamente. Ã‰ uma das variaÃ§Ãµes mais populares de trÃ­ceps na polia.",
    tips: ["Separe as pontas da corda ao final do movimento (pronaÃ§Ã£o para baixo)","Cotovelos fixos prÃ³ximos ao corpo","ExtensÃ£o completa â€” sinta a contraÃ§Ã£o das trÃªs cabeÃ§as","NÃ£o incline o tronco para usar peso maior","Fase excÃªntrica de 2 s controlando a corda ao subir"],
    series: "3", reps: "12â€“15", descanso: "60s", bg: "linear-gradient(135deg, #0a0a10 0%, #0f0f18 100%)"
  },
  {
    id: 51, name: "TrÃ­ceps no Banco (Paralelas)", muscle: "TrÃ­ceps", emoji: "ðŸ—ï¸", difficulty: "intermediario",
    desc: "Mergulho nas paralelas com foco no trÃ­ceps. Excelente exercÃ­cio composto de empurrar.",
    longDesc: "O mergulho nas paralelas com tronco ereto foca o trabalho no trÃ­ceps, ao contrÃ¡rio da versÃ£o inclinada que prioriza o peitoral. Ã‰ um exercÃ­cio composto poderoso para ganho de massa e forÃ§a no trÃ­ceps.",
    tips: ["Tronco ereto durante o movimento para foco no trÃ­ceps","Cotovelos prÃ³ximos ao corpo â€” nÃ£o devem abrir","DesÃ§a atÃ© 90Â° de flexÃ£o nos cotovelos","Suba completamente sem travar","Adicione peso com cinto quando o prÃ³prio corpo se tornar fÃ¡cil"],
    series: "4", reps: "8â€“12", descanso: "90s", bg: "linear-gradient(135deg, #1a0a1a 0%, #220a20 100%)"
  },
  {
    id: 52, name: "TrÃ­ceps Unilateral Cabo", muscle: "TrÃ­ceps", emoji: "1ï¸âƒ£", difficulty: "iniciante",
    desc: "TrÃ­ceps no cabo com um braÃ§o. Corrige assimetrias e maximiza a contraÃ§Ã£o.",
    longDesc: "O trÃ­ceps unilateral no cabo permite trabalhar cada braÃ§o de forma independente, corrigindo desequilÃ­brios musculares. A tensÃ£o constante do cabo garante estimulaÃ§Ã£o ao longo de toda a amplitude do movimento.",
    tips: ["Polia na altura dos ombros ou acima","Cotovelo fixo e prÃ³ximo ao corpo â€” apenas o antebraÃ§o se move","ExtensÃ£o completa â€” torÃ§a o pulso levemente ao final (supinaÃ§Ã£o)","Realize sem espelhar o lado mais forte â€” o objetivo Ã© equilÃ­brio","Carga levemente menor que no pulley com as duas mÃ£os"],
    series: "3", reps: "12â€“15 por braÃ§o", descanso: "45s", bg: "linear-gradient(135deg, #0a1010 0%, #101818 100%)"
  },

  // â”€â”€ PERNAS extra â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 53, name: "Agachamento BÃºlgaro", muscle: "Pernas", emoji: "ðŸ‡§ðŸ‡¬", difficulty: "avancado",
    desc: "Agachamento unilateral com pÃ© traseiro elevado. Excelente para glÃºteo e quadrÃ­ceps.",
    longDesc: "O agachamento bÃºlgaro (split squat bÃºlgaro) Ã© um dos exercÃ­cios unilaterais mais eficazes para pernas. Com o pÃ© traseiro elevado em um banco, toda a carga cai sobre a perna da frente, criando enorme estÃ­mulo no quadrÃ­ceps e glÃºteo.",
    tips: ["PÃ© traseiro apoiado no banco â€” meia-sola ou peito do pÃ©","Passo frontal longo o suficiente para joelho nÃ£o ultrapassar muito o pÃ©","DesÃ§a verticalmente â€” o joelho traseiro vai em direÃ§Ã£o ao chÃ£o","Tronco levemente inclinado para frente (15â€“20Â°)","Segure halteres dos lados ou barra nas costas para carga"],
    series: "4", reps: "8â€“10 por perna", descanso: "90s", bg: "linear-gradient(135deg, #1a0a0a 0%, #200a0a 100%)"
  },
  {
    id: 54, name: "ExtensÃ£o de Perna", muscle: "Pernas", emoji: "ðŸ¦¿", difficulty: "iniciante",
    desc: "Isolamento do quadrÃ­ceps na cadeira extensora. Ã“timo para finalizaÃ§Ã£o e definiÃ§Ã£o.",
    longDesc: "A extensÃ£o de perna na cadeira extensora isola os quatro mÃºsculos do quadrÃ­ceps (reto femoral, vasto lateral, vasto medial, vasto intermÃ©dio). Ã‰ frequentemente usada para finalizaÃ§Ã£o de treino e para reabilitaÃ§Ã£o de joelho.",
    tips: ["Ajuste o banco para que o joelho fique alinhado com o eixo da mÃ¡quina","NÃ£o trave o joelho completamente no topo â€” leve flexÃ£o","Fase excÃªntrica lenta (3 s) para mÃ¡ximo recrutamento do quadrÃ­ceps","Pause 1 s no topo para squeeze do vasto medial","NÃ£o use momentum â€” movimento limpo e controlado"],
    series: "3", reps: "12â€“15", descanso: "60s", bg: "linear-gradient(135deg, #0a0a1a 0%, #100a20 100%)"
  },
  {
    id: 55, name: "FlexÃ£o de Perna (Leg Curl)", muscle: "Pernas", emoji: "ðŸ¦µ", difficulty: "iniciante",
    desc: "Isolamento dos isquiotibiais. Essencial para equilÃ­brio muscular e saÃºde do joelho.",
    longDesc: "A flexÃ£o de perna na mesa ou cadeira isola os isquiotibiais (bÃ­ceps femoral, semitendÃ­neo, semimembranoso). Ã‰ fundamental para equilÃ­brio agonista-antagonista com o quadrÃ­ceps e para prevenÃ§Ã£o de lesÃµes.",
    tips: ["Ajuste para que o joelho fique no eixo da mÃ¡quina","Puxe o calcanhar em direÃ§Ã£o aos glÃºteos â€” amplitude mÃ¡xima","Squeeze de 1 s no topo para mÃ¡xima contraÃ§Ã£o do isquiotibial","Fase excÃªntrica de 3 s â€” nÃ£o deixe o peso cair","Mantenha os quadris no banco durante toda a execuÃ§Ã£o"],
    series: "3", reps: "12â€“15", descanso: "60s", bg: "linear-gradient(135deg, #0a1a0a 0%, #101a10 100%)"
  },
  {
    id: 56, name: "Agachamento SumÃ´", muscle: "Pernas", emoji: "ðŸ¯", difficulty: "iniciante",
    desc: "Agachamento com pÃ©s muito abertos. Foca glÃºteos e adutores alÃ©m do quadrÃ­ceps.",
    longDesc: "O agachamento sumÃ´ tem base mais larga que o agachamento convencional, com dedos dos pÃ©s virados mais para fora. Essa posiÃ§Ã£o recruta mais glÃºteos, adutores e isquiotibiais, alÃ©m do quadrÃ­ceps.",
    tips: ["PÃ©s 2â€“3x a largura dos ombros, dedos virados 45â€“60Â° para fora","Joelhos seguem a direÃ§Ã£o dos dedos durante a descida","DesÃ§a atÃ© as coxas ficarem paralelas ao chÃ£o","Tronco mais ereto que no agachamento convencional","Pode ser feito com barra, halteres ou kettlebell"],
    series: "4", reps: "10â€“12", descanso: "90s", bg: "linear-gradient(135deg, #1a1a0a 0%, #201a0a 100%)"
  },
  {
    id: 57, name: "Cadeira Adutora", muscle: "Pernas", emoji: "ðŸ¦µ", difficulty: "iniciante",
    desc: "Isolamento dos adutores da coxa. Importante para estabilidade do joelho e quadril.",
    longDesc: "A cadeira adutora isola os mÃºsculos adutores da coxa (pectÃ­neo, adutor longo, adutor magno, grÃ¡cil). Esses mÃºsculos sÃ£o importantes para estabilidade do quadril e joelho, alÃ©m de estÃ©tica da regiÃ£o interna da coxa.",
    tips: ["Ajuste o aparelho conforme a amplitude confortÃ¡vel","Mova as pernas de forma controlada â€” sem bater as almofadas","Fase excÃªntrica de 3 s resistindo Ã  abertura das pernas","Squeeze de 2 s ao fechar as pernas completamente","Evite carga excessiva â€” foco na contraÃ§Ã£o dos adutores"],
    series: "3", reps: "15â€“20", descanso: "45s", bg: "linear-gradient(135deg, #1a0a1a 0%, #200a20 100%)"
  },
  {
    id: 58, name: "Cadeira Abdutora", muscle: "Pernas", emoji: "ðŸ¦¶", difficulty: "iniciante",
    desc: "Isolamento dos abdutores do quadril e glÃºteo mÃ©dio. Essencial para estabilidade pÃ©lvica.",
    longDesc: "A cadeira abdutora trabalha o glÃºteo mÃ©dio, glÃºteo mÃ­nimo e tensor da fÃ¡scia lata. O glÃºteo mÃ©dio Ã© fundamental para estabilidade pÃ©lvica, prevenÃ§Ã£o de lesÃµes e para estÃ©tica glÃºtea completa.",
    tips: ["Ajuste o banco para que os joelhos fiquem a 90Â°","Abra as pernas de forma controlada â€” nÃ£o jogue","Squeeze do glÃºteo mÃ©dio no ponto de abertura mÃ¡xima","Retorne lentamente â€” fase excÃªntrica de 2â€“3 s","Sentar levemente inclinado para frente aumenta ativaÃ§Ã£o do glÃºteo mÃ©dio"],
    series: "3", reps: "15â€“20", descanso: "45s", bg: "linear-gradient(135deg, #0a0a1a 0%, #100a15 100%)"
  },
  {
    id: 59, name: "Hip Thrust", muscle: "Pernas", emoji: "ðŸ‘", difficulty: "intermediario",
    desc: "O melhor exercÃ­cio para glÃºteo mÃ¡ximo. AtivaÃ§Ã£o superior a qualquer agachamento.",
    longDesc: "O hip thrust Ã© considerado o exercÃ­cio mais eficaz para o desenvolvimento do glÃºteo mÃ¡ximo, com estudos mostrando ativaÃ§Ã£o muscular superior ao agachamento e ao levantamento terra. Realizado com a parte superior das costas apoiada em banco.",
    tips: ["Parte superior das costas (escÃ¡pulas) apoiada no banco","PÃ©s na largura dos quadris, joelhos a 90Â° no topo","Empurre o quadril para cima atÃ© ficar paralelo ao chÃ£o","Squeeze mÃ¡ximo do glÃºteo no topo â€” pause 1â€“2 s","NÃ£o hiperestenha a lombar â€” movimento vem do quadril"],
    series: "4", reps: "10â€“15", descanso: "75s", bg: "linear-gradient(135deg, #1a0a0a 0%, #220a12 100%)"
  },
  {
    id: 60, name: "Step Up", muscle: "Pernas", emoji: "ðŸªœ", difficulty: "iniciante",
    desc: "ExercÃ­cio funcional com step ou banco. Trabalha quadrÃ­ceps e glÃºteos unilateralmente.",
    longDesc: "O step up Ã© um exercÃ­cio funcional que imita o movimento de subir escadas. Trabalha quadrÃ­ceps, glÃºteos e isquiotibiais de forma unilateral, melhorando equilÃ­brio e corrigindo assimetrias entre os membros.",
    tips: ["Use um step ou banco com altura de 40â€“60 cm","Suba completamente com uma perna â€” evite impulso do pÃ© de baixo","DesÃ§a de forma controlada e lenta","Mantenha o tronco ereto durante todo o movimento","Segure halteres para progressÃ£o de carga"],
    series: "3", reps: "12 por perna", descanso: "60s", bg: "linear-gradient(135deg, #0a1a10 0%, #102010 100%)"
  },
  {
    id: 61, name: "Good Morning", muscle: "Pernas", emoji: "ðŸŒ…", difficulty: "avancado",
    desc: "ExercÃ­cio com barra nas costas inclinando o tronco. Forte ativaÃ§Ã£o de isquiotibiais e lombar.",
    longDesc: "O good morning Ã© um exercÃ­cio de cadeia posterior que trabalha isquiotibiais, glÃºteos e eretores da espinha. Requer boa tÃ©cnica e flexibilidade dos isquiotibiais. Excelente para atletas de forÃ§a.",
    tips: ["Barra apoiada nos trapÃ©zios (posiÃ§Ã£o alta) â€” nÃ£o no pescoÃ§o","Joelhos levemente flexionados durante todo o movimento","Incline o tronco para frente dobrando no quadril â€” nÃ£o na lombar","DesÃ§a atÃ© sentir alongamento nos isquiotibiais (idealmente 90Â°)","Suba contraindo os glÃºteos e isquiotibiais"],
    series: "3", reps: "8â€“12", descanso: "90s", bg: "linear-gradient(135deg, #1a1a0a 0%, #222010 100%)"
  },
  {
    id: 62, name: "Passada Reversa", muscle: "Pernas", emoji: "â†©ï¸", difficulty: "iniciante",
    desc: "AvanÃ§o para trÃ¡s â€” mais seguro para joelhos que o avanÃ§o frontal.",
    longDesc: "A passada reversa (reverse lunge) Ã© considerada mais segura para os joelhos do que o avanÃ§o frontal tradicional, pois reduz a forÃ§a de cisalhamento sobre o joelho da frente. Trabalha quadrÃ­ceps, glÃºteos e isquiotibiais.",
    tips: ["DÃª um passo para trÃ¡s â€” nÃ£o para a frente","Joelho da frente nÃ£o deve ultrapassar muito a ponta do pÃ©","DesÃ§a atÃ© o joelho traseiro quase tocar o chÃ£o","Tronco ereto durante todo o movimento","Empurre pelo calcanhar da perna da frente ao subir"],
    series: "3", reps: "12 por perna", descanso: "60s", bg: "linear-gradient(135deg, #0a0a1a 0%, #0f0f20 100%)"
  },
  {
    id: 63, name: "Panturrilha no Leg Press", muscle: "Pernas", emoji: "ðŸ¦µ", difficulty: "iniciante",
    desc: "Panturrilha realizada na mÃ¡quina leg press. Permite carga alta com seguranÃ§a.",
    longDesc: "A panturrilha realizada no leg press permite trabalhar com cargas muito maiores do que em pÃ©, sobrecarregando gastrocnÃªmio e sÃ³leo de forma eficiente. A plataforma inclinada permite boa amplitude de movimento.",
    tips: ["Posicione apenas as pontas dos pÃ©s na plataforma do leg press","Amplitude mÃ¡xima: pÃ©s flexionados e extendidos completamente","Realize lentamente â€” 2 s subindo, 2 s descendo","Pause no topo por 1 s para squeeze do gastrocnÃªmio","NÃ£o trave o joelho â€” mantenha levemente flexionado"],
    series: "4", reps: "15â€“20", descanso: "45s", bg: "linear-gradient(135deg, #0a1a1a 0%, #102020 100%)"
  },

  // â”€â”€ ABDÃ”MEN extra â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 64, name: "Abdominal Crunch", muscle: "AbdÃ´men", emoji: "ðŸ”¥", difficulty: "iniciante",
    desc: "ExercÃ­cio bÃ¡sico para abdÃ´men. Trabalha o reto abdominal na parte superior.",
    longDesc: "O crunch abdominal Ã© o exercÃ­cio mais bÃ¡sico para a musculatura do core. Trabalha principalmente o reto abdominal e pode ser variado de diversas formas para aumentar a dificuldade.",
    tips: ["MÃ£os atrÃ¡s da cabeÃ§a â€” nÃ£o force o pescoÃ§o para frente","Olhe para o teto durante todo o movimento","Contraia o abdÃ´men ao subir â€” nÃ£o use o pescoÃ§o","Amplitude parcial Ã© ok â€” o que importa Ã© a contraÃ§Ã£o do abdÃ´men","Expire ao contrair, inspire ao descer"],
    series: "3", reps: "20â€“25", descanso: "45s", bg: "linear-gradient(135deg, #1a0a0a 0%, #2a0808 100%)"
  },
  {
    id: 65, name: "Prancha", muscle: "AbdÃ´men", emoji: "ðŸ§±", difficulty: "iniciante",
    desc: "IsomÃ©trico poderoso para core. Trabalha toda a faixa abdominal e estabilizadores.",
    longDesc: "A prancha (plank) Ã© um dos melhores exercÃ­cios isomÃ©tricos para o core. Trabalha reto abdominal, transverso, oblÃ­quos e estabilizadores da coluna. Ã‰ fundamental para saÃºde lombar e performance esportiva.",
    tips: ["Corpo em linha reta da cabeÃ§a aos calcanhares â€” sem afundar o quadril","Cotovelos abaixo dos ombros, antebraÃ§os no chÃ£o","Contraia o abdÃ´men e glÃºteos durante todo o tempo","Respire normalmente â€” nÃ£o prenda a respiraÃ§Ã£o","Progrida: prancha lateral, com elevaÃ§Ã£o de membros, prancha dinÃ¢mica"],
    series: "3", reps: "30â€“60s", descanso: "30s", bg: "linear-gradient(135deg, #0a0a1a 0%, #10100a 100%)"
  },
  {
    id: 66, name: "ElevaÃ§Ã£o de Pernas", muscle: "AbdÃ´men", emoji: "ðŸ¦¿", difficulty: "intermediario",
    desc: "Foca na parte inferior do abdÃ´men. Excelente para fortalecer o core inferior.",
    longDesc: "A elevaÃ§Ã£o de pernas trabalha intensamente a parte inferior do reto abdominal, psoas ilÃ­aco e flexores do quadril. Ã‰ um exercÃ­cio mais avanÃ§ado que o crunch e demanda maior forÃ§a de core.",
    tips: ["Realize deitado com as mÃ£os abaixo do glÃºteo para suporte lombar","Pernas levemente flexionadas nos joelhos para reduzir a tensÃ£o lombar","DesÃ§a as pernas lentamente â€” nÃ£o deixe cair","Lombar deve permanecer em contato com o chÃ£o","ProgressÃ£o: joelhos dobrados â†’ pernas semi-estendidas â†’ pernas retas"],
    series: "3", reps: "15â€“20", descanso: "45s", bg: "linear-gradient(135deg, #0a1a0a 0%, #081a08 100%)"
  },
  {
    id: 67, name: "Abdominal OblÃ­quo", muscle: "AbdÃ´men", emoji: "â†—ï¸", difficulty: "iniciante",
    desc: "RotaÃ§Ã£o do tronco para trabalhar os oblÃ­quos. Essencial para cintura definida.",
    longDesc: "O crunch oblÃ­quo trabalha os mÃºsculos oblÃ­quos externos e internos, responsÃ¡veis pela rotaÃ§Ã£o do tronco e pela definiÃ§Ã£o lateral da cintura. Ã‰ fundamental para um core equilibrado e funcional.",
    tips: ["Deite com joelhos dobrados, pÃ©s no chÃ£o","Leve o cotovelo direito ao joelho esquerdo e vice-versa","NÃ£o puxe o pescoÃ§o â€” mÃ£os levemente apoiadas atrÃ¡s da orelha","Foque na rotaÃ§Ã£o do tronco, nÃ£o na aproximaÃ§Ã£o do cotovelo","Expire na fase de contraÃ§Ã£o, inspire ao descer"],
    series: "3", reps: "20 por lado", descanso: "45s", bg: "linear-gradient(135deg, #1a1a0a 0%, #201810 100%)"
  },
  {
    id: 68, name: "Russian Twist", muscle: "AbdÃ´men", emoji: "ðŸ”„", difficulty: "intermediario",
    desc: "RotaÃ§Ã£o do tronco sentado com ou sem peso. Foca nos oblÃ­quos e core rotacional.",
    longDesc: "O Russian Twist Ã© um exercÃ­cio dinÃ¢mico de rotaÃ§Ã£o do core que trabalha oblÃ­quos, reto abdominal e transverso. Pode ser feito com o peso do corpo, halter, medicine ball ou disco.",
    tips: ["Sente com joelhos flexionados, pÃ©s ligeiramente elevados do chÃ£o","Tronco inclinado cerca de 45Â° para trÃ¡s â€” nÃ£o muito deitado","Gire o tronco levando as mÃ£os de um lado ao outro","Movimento amplo â€” toque o chÃ£o ao lado do quadril","Segure um peso para maior intensidade"],
    series: "3", reps: "20 (10 por lado)", descanso: "45s", bg: "linear-gradient(135deg, #0a0a1a 0%, #0f0f1a 100%)"
  },
  {
    id: 69, name: "Mountain Climber", muscle: "AbdÃ´men", emoji: "ðŸ§—", difficulty: "intermediario",
    desc: "ExercÃ­cio dinÃ¢mico que combina core e cardio. Queima gordura e fortalece o abdÃ´men.",
    longDesc: "O mountain climber Ã© um exercÃ­cio dinÃ¢mico que combina forÃ§a de core com cardio. Trabalha reto abdominal, oblÃ­quos, flexores do quadril e ombros. Por ser realizado em ritmo rÃ¡pido, tambÃ©m tem bom componente aerÃ³bico.",
    tips: ["PosiÃ§Ã£o de flexÃ£o â€” corpo em linha reta","Traga os joelhos alternadamente em direÃ§Ã£o ao peito rapidamente","Core fortemente contraÃ­do â€” nÃ£o deixe o quadril subir","Mantenha a respiraÃ§Ã£o durante todo o movimento","Pode ser feito em ritmo lento (forÃ§a) ou rÃ¡pido (cardio/HIIT)"],
    series: "3", reps: "30sâ€“60s", descanso: "30s", bg: "linear-gradient(135deg, #1a0a0a 0%, #1a0f0a 100%)"
  },
  {
    id: 70, name: "Abdominal no Cabo", muscle: "AbdÃ´men", emoji: "ðŸ”—", difficulty: "intermediario",
    desc: "Crunch com resistÃªncia do cabo. Permite progressÃ£o de carga no abdÃ´men como qualquer mÃºsculo.",
    longDesc: "O crunch no cabo (cable crunch) Ã© um dos raros exercÃ­cios abdominais que permitem progressÃ£o de carga sistematicamente. Realizado de joelhos com polia alta, Ã© excelente para desenvolvimento de massa no reto abdominal.",
    tips: ["Ajoelhe-se de frente para a polia alta â€” segure a corda atrÃ¡s da cabeÃ§a","Incline o tronco para frente contraindo o abdÃ´men â€” nÃ£o o pescoÃ§o","Leve as costelas em direÃ§Ã£o ao quadril â€” nÃ£o a cabeÃ§a","FaÃ§a uma pausa de 1 s na contraÃ§Ã£o mÃ¡xima","Suba de forma controlada â€” nÃ£o deixe o peso te puxar"],
    series: "3", reps: "15â€“20", descanso: "45s", bg: "linear-gradient(135deg, #0a1a0a 0%, #0f2010 100%)"
  },
  {
    id: 71, name: "Dead Bug", muscle: "AbdÃ´men", emoji: "ðŸ›", difficulty: "iniciante",
    desc: "ExercÃ­cio de anti-extensÃ£o do core. Fundamental para estabilizaÃ§Ã£o e saÃºde lombar.",
    longDesc: "O dead bug Ã© um exercÃ­cio de estabilizaÃ§Ã£o do core baseado em anti-extensÃ£o. Trabalha o transverso do abdÃ´men, reto abdominal e multÃ­fidos. Ã‰ frequentemente prescrito em reabilitaÃ§Ã£o e como base para treino funcional.",
    tips: ["Deite de costas, pernas e braÃ§os estendidos para cima (90Â°)","Baixe um braÃ§o e a perna oposta simultaneamente","Lombar deve permanecer em contato total com o chÃ£o","Expire ao abaixar o membro â€” expire ao retornar","Movimento lento e controlado â€” nÃ£o Ã© para ser rÃ¡pido"],
    series: "3", reps: "10 por lado", descanso: "30s", bg: "linear-gradient(135deg, #1a1a1a 0%, #222020 100%)"
  },
  {
    id: 72, name: "Prancha Lateral", muscle: "AbdÃ´men", emoji: "â†”ï¸", difficulty: "intermediario",
    desc: "VariaÃ§Ã£o da prancha que foca os oblÃ­quos e o quadrado lombar.",
    longDesc: "A prancha lateral (side plank) Ã© um exercÃ­cio isomÃ©trico que trabalha intensamente os oblÃ­quos externos e internos, o quadrado lombar e o glÃºteo mÃ©dio. Ã‰ essencial para estabilidade lateral do core.",
    tips: ["Apoie no antebraÃ§o â€” cotovelo diretamente abaixo do ombro","Quadril elevado â€” corpo em linha reta lateral","NÃ£o deixe o quadril afundar ou subir demais","BraÃ§o livre pode ficar no quadril ou estendido para o teto","ProgressÃ£o: elevar o quadril dinamicamente (elevaÃ§Ã£o de quadril lateral)"],
    series: "3", reps: "30â€“45s por lado", descanso: "30s", bg: "linear-gradient(135deg, #0a0a1a 0%, #0f0f22 100%)"
  },
  {
    id: 73, name: "Bicicleta (Bicycle Crunch)", muscle: "AbdÃ´men", emoji: "ðŸš´", difficulty: "iniciante",
    desc: "Crunch com movimento de pedalada. Ativa reto abdominal e oblÃ­quos simultaneamente.",
    longDesc: "O crunch bicicleta combina o movimento de crunch com rotaÃ§Ã£o, ativando reto abdominal e oblÃ­quos ao mesmo tempo. Estudos do ACE o classificam como um dos exercÃ­cios abdominais mais eficazes.",
    tips: ["Pernas em movimento de pedalada â€” joelhos alternativamente vÃªm ao peito","Cotovelo oposto vai em direÃ§Ã£o ao joelho que se aproxima","NÃ£o force o pescoÃ§o â€” foco na rotaÃ§Ã£o do tronco","Pernas nÃ£o tocam o chÃ£o â€” manter tensÃ£o contÃ­nua","Ritmo moderado â€” nÃ£o tÃ£o rÃ¡pido que perca a rotaÃ§Ã£o"],
    series: "3", reps: "30 (15 por lado)", descanso: "45s", bg: "linear-gradient(135deg, #1a0a1a 0%, #1a0f20 100%)"
  },

  // â”€â”€ GLÃšTEOS (grupo extra) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 74, name: "GlÃºteo na Polia", muscle: "GlÃºteos", emoji: "ðŸ‘", difficulty: "iniciante",
    desc: "ExtensÃ£o do quadril na polia baixa. Isolamento direto do glÃºteo mÃ¡ximo.",
    longDesc: "O glÃºteo na polia (cable kickback) isola diretamente o glÃºteo mÃ¡ximo com tensÃ£o constante ao longo de todo o movimento. Ã‰ excelente para desenvolvimento de forma e volume dos glÃºteos.",
    tips: ["Polia na posiÃ§Ã£o mais baixa â€” fixe a alÃ§a no tornozelo","Incline levemente o tronco para frente segurando no suporte","Empurre a perna para trÃ¡s e para cima â€” foco no glÃºteo, nÃ£o na lombar","Squeeze mÃ¡ximo do glÃºteo no ponto de extensÃ£o","NÃ£o use momentum â€” movimento lento e controlado"],
    series: "3", reps: "15 por lado", descanso: "45s", bg: "linear-gradient(135deg, #1a0a10 0%, #220a18 100%)"
  },
  {
    id: 75, name: "Agachamento GlÃºteo", muscle: "GlÃºteos", emoji: "ðŸ”»", difficulty: "iniciante",
    desc: "Agachamento com foco nos glÃºteos. PosiÃ§Ã£o larga e descida profunda.",
    longDesc: "O agachamento com foco glÃºteo usa base larga, postura mais inclinada e descida alÃ©m do paralelo para maximizar o recrutamento do glÃºteo mÃ¡ximo. Muito popular em treinos especÃ­ficos para glÃºteos.",
    tips: ["Base larga (ligeiramente mais ampla que sumÃ´)","DesÃ§a abaixo do paralelo â€” Ã¢ngulo de quadril aberto","Empurre os joelhos para fora durante a subida","Squeeze dos glÃºteos no topo do movimento","Pode ser feito com barra, halteres, kettlebell ou no Smith"],
    series: "4", reps: "12â€“15", descanso: "75s", bg: "linear-gradient(135deg, #1a0a0a 0%, #201012 100%)"
  },
  {
    id: 76, name: "GlÃºteo 4 apoios", muscle: "GlÃºteos", emoji: "ðŸ¾", difficulty: "iniciante",
    desc: "ExercÃ­cio no chÃ£o em 4 apoios. Excelente ativaÃ§Ã£o do glÃºteo com ou sem carga.",
    longDesc: "O exercÃ­cio de glÃºteo nos 4 apoios (donkey kick) Ã© um clÃ¡ssico de treino em casa e academia. Em posiÃ§Ã£o de gato, a extensÃ£o do quadril recruta diretamente o glÃºteo mÃ¡ximo. Pode ser feito com elÃ¡stico ou polia para progressÃ£o.",
    tips: ["Joelhos e mÃ£os no chÃ£o â€” coluna neutra","Empurre o calcanhar para cima e para trÃ¡s mantendo o joelho a 90Â°","NÃ£o hiperestenha a lombar â€” movimento vem do quadril","Squeeze do glÃºteo no ponto mais alto","Use elÃ¡stico no joelho ou polia para adicionar resistÃªncia"],
    series: "3", reps: "15â€“20 por lado", descanso: "45s", bg: "linear-gradient(135deg, #1a1010 0%, #201818 100%)"
  },
  {
    id: 77, name: "Ponte de GlÃºteos", muscle: "GlÃºteos", emoji: "ðŸŒ‰", difficulty: "iniciante",
    desc: "VersÃ£o no chÃ£o do hip thrust. Ã“tima para iniciantes e aquecimento glÃºteo.",
    longDesc: "A ponte de glÃºteos Ã© a versÃ£o deitada no chÃ£o do hip thrust. Ã‰ mais acessÃ­vel para iniciantes e pode ser progressiva (duas pernas â†’ uma perna). Trabalha glÃºteo mÃ¡ximo e isquiotibiais.",
    tips: ["Deite de costas, joelhos dobrados, pÃ©s no chÃ£o perto dos glÃºteos","Empurre o quadril para cima contraindo os glÃºteos","Corpo forma uma linha reta do joelho aos ombros no topo","Squeeze mÃ¡ximo de 1â€“2 s no topo","ProgressÃ£o: eleve um pÃ© (ponte unilateral)"],
    series: "3", reps: "15â€“20", descanso: "45s", bg: "linear-gradient(135deg, #0a1a10 0%, #102010 100%)"
  },

  // â”€â”€ ANTEBRAÃ‡O â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 78, name: "Rosca de Pulso (Wrist Curl)", muscle: "AntebraÃ§o", emoji: "ðŸ¤œ", difficulty: "iniciante",
    desc: "FlexÃ£o do pulso para fortalecer os flexores do antebraÃ§o. Essencial para pegada forte.",
    longDesc: "A rosca de pulso trabalha os mÃºsculos flexores do antebraÃ§o (flexor radial, flexor ulnar do carpo). Uma pegada forte Ã© fundamental para todos os exercÃ­cios de puxada e para esportes de combate.",
    tips: ["Sente com os antebraÃ§os apoiados nas coxas, pulsos alÃ©m dos joelhos","Segure a barra com pegada supinada â€” palmas para cima","Flexione o pulso completamente para cima e desÃ§a completamente","Movimento apenas do pulso â€” antebraÃ§o fica estÃ¡tico","Use carga leve â€” foco na amplitude e contraÃ§Ã£o"],
    series: "3", reps: "15â€“20", descanso: "30s", bg: "linear-gradient(135deg, #0a0a1a 0%, #0f0f1a 100%)"
  },
  {
    id: 79, name: "Rosca de Pulso Inversa", muscle: "AntebraÃ§o", emoji: "ðŸ¤›", difficulty: "iniciante",
    desc: "ExtensÃ£o do pulso para os extensores do antebraÃ§o. Previne epicondilite.",
    longDesc: "A rosca de pulso inversa trabalha os extensores do antebraÃ§o. O equilÃ­brio entre flexores e extensores do antebraÃ§o Ã© fundamental para saÃºde do cotovelo e prevenÃ§Ã£o de epicondilite lateral (cotovelo de tenista).",
    tips: ["Sente com antebraÃ§os apoiados nas coxas, pulsos alÃ©m dos joelhos","Segure a barra com pegada pronada â€” palmas para baixo","Estenda o pulso para cima e desÃ§a completamente","Use carga muito leve â€” extensores sÃ£o significativamente mais fracos","Pode ser feito com barra EZ para menor tensÃ£o no pulso"],
    series: "3", reps: "15â€“20", descanso: "30s", bg: "linear-gradient(135deg, #1a1010 0%, #201818 100%)"
  },
  {
    id: 80, name: "Farmer Walk", muscle: "AntebraÃ§o", emoji: "ðŸŒ¾", difficulty: "intermediario",
    desc: "Caminhada segurando pesos pesados. Desenvolve a pegada e o core de forma funcional.",
    longDesc: "O Farmer Walk (caminhada do fazendeiro) Ã© um exercÃ­cio funcional completo. Carregando pesos pesados bilateralmente, trabalha pegada, trapÃ©zio, core, quadrÃ­ceps e panturrilhas. Ã‰ um dos exercÃ­cios mais funcionais que existem.",
    tips: ["Segure halteres, kettlebells ou barras pesadas ao lado do corpo","Mantenha postura ereta â€” ombros para trÃ¡s e para baixo","Passos curtos e firmes â€” nÃ£o arraste os pÃ©s","Core fortemente contraÃ­do durante toda a caminhada","ProgressÃ£o: aumentar carga, distÃ¢ncia ou tempo"],
    series: "3", reps: "30â€“40m por sÃ©rie", descanso: "90s", bg: "linear-gradient(135deg, #1a1a0a 0%, #201a10 100%)"
  },

  // â”€â”€ CARDIO / FUNCIONAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  {
    id: 81, name: "Burpee", muscle: "Funcional", emoji: "ðŸ’¥", difficulty: "avancado",
    desc: "O exercÃ­cio mais completo do fitness. Trabalha todo o corpo com altÃ­ssimo gasto calÃ³rico.",
    longDesc: "O burpee combina agachamento, flexÃ£o de braÃ§o, salto e elevaÃ§Ã£o dos braÃ§os em um Ãºnico movimento fluido. Ã‰ considerado um dos exercÃ­cios mais eficientes para gasto calÃ³rico e condicionamento cardiovascular.",
    tips: ["SequÃªncia: agache â†’ apoie as mÃ£os â†’ pule para posiÃ§Ã£o de flexÃ£o â†’ flexÃ£o â†’ pule para perto das mÃ£os â†’ salte","Mantenha o core ativo durante todo o movimento","FlexÃ£o completa no meio â€” nÃ£o faÃ§a meia flexÃ£o","No salto, eleve os braÃ§os completamente acima da cabeÃ§a","Comece lento para aprender o padrÃ£o antes de acelerar"],
    series: "4", reps: "10â€“15", descanso: "60s", bg: "linear-gradient(135deg, #1a0a0a 0%, #201010 100%)"
  },
  {
    id: 82, name: "Swing com Kettlebell", muscle: "Funcional", emoji: "ðŸ””", difficulty: "intermediario",
    desc: "Movimento explosivo de quadril com kettlebell. Treina cadeia posterior e potÃªncia.",
    longDesc: "O kettlebell swing Ã© um dos exercÃ­cios mais eficientes para desenvolvimento de potÃªncia da cadeia posterior. Trabalha glÃºteos, isquiotibiais, eretores e core de forma explosiva. TambÃ©m tem componente aerÃ³bico significativo.",
    tips: ["PÃ©s na largura dos ombros, kettlebell Ã  frente","Quadril dobra (nÃ£o a lombar!) ao levar o kettlebell para trÃ¡s entre as pernas","ExtensÃ£o explosiva do quadril para projetar o kettlebell para frente","O kettlebell vai atÃ© a altura dos ombros â€” nÃ£o Ã© um exercÃ­cio de braÃ§os","Respire: expire na extensÃ£o do quadril, inspire ao descer"],
    series: "4", reps: "15â€“20", descanso: "60s", bg: "linear-gradient(135deg, #0a1a0a 0%, #102010 100%)"
  },
  {
    id: 83, name: "Box Jump", muscle: "Funcional", emoji: "ðŸ“¦", difficulty: "intermediario",
    desc: "Salto em caixote. Desenvolve potÃªncia explosiva dos membros inferiores.",
    longDesc: "O box jump Ã© um exercÃ­cio pliomÃ©trico que desenvolve potÃªncia explosiva nas pernas. Trabalha quadrÃ­ceps, glÃºteos, isquiotibiais e panturrilhas de forma explosiva. Ã‰ amplamente usado em treinos de atletismo e CrossFit.",
    tips: ["Posicione-se prÃ³ximo Ã  caixa â€” pÃ©s na largura dos ombros","Agache parcialmente e salte com os dois pÃ©s simultaneamente","Use os braÃ§os para impulso â€” balanceie para frente no salto","Pouse suavemente na caixa â€” joelhos absorvem o impacto","DesÃ§a da caixa caminhando â€” nÃ£o salte de volta para baixo"],
    series: "4", reps: "8â€“10", descanso: "90s", bg: "linear-gradient(135deg, #1a1a0a 0%, #201a10 100%)"
  },
  {
    id: 84, name: "Thruster", muscle: "Funcional", emoji: "ðŸš€", difficulty: "avancado",
    desc: "CombinaÃ§Ã£o de agachamento frontal + desenvolvimento. ExercÃ­cio total body de alta intensidade.",
    longDesc: "O thruster combina agachamento frontal com desenvolvimento em um movimento contÃ­nuo e fluido. Ã‰ um dos exercÃ­cios mais completos e exigentes do fitness, trabalhando quase todos os grupos musculares simultaneamente.",
    tips: ["Barra na posiÃ§Ã£o de limpeza (clean) sobre os ombros","Agache completamente â€” abaixo do paralelo","Ao subir do agachamento, use o momentum das pernas para empurrar a barra acima da cabeÃ§a","Barra deve atingir extensÃ£o completa dos braÃ§os no topo","Muito usado em WODs de CrossFit â€” comece com peso leve"],
    series: "4", reps: "8â€“10", descanso: "120s", bg: "linear-gradient(135deg, #0a0a1a 0%, #101025 100%)"
  },
  {
    id: 85, name: "Corda de Pular", muscle: "Funcional", emoji: "ðŸª¢", difficulty: "iniciante",
    desc: "Cardio eficiente e melhora a coordenaÃ§Ã£o motora. Queima atÃ© 700 kcal/h.",
    longDesc: "A corda de pular Ã© um dos exercÃ­cios cardiovasculares mais eficientes. AlÃ©m do gasto calÃ³rico, melhora coordenaÃ§Ã£o, ritmo, agilidade e forÃ§a de panturrilha. Pode ser realizada de diversas formas (simples, dupla, alternada).",
    tips: ["Ajuste o comprimento: pise na corda â€” pontas devem chegar Ã s axilas","Salte apenas o suficiente para a corda passar â€” nÃ£o precisa saltar alto","Pouso nas pontas dos pÃ©s â€” nÃ£o no calcanhar","Cotovelos prÃ³ximos ao corpo â€” gire apenas os pulsos","ProgressÃ£o: simples â†’ alternada â†’ dupla girada â†’ crossover"],
    series: "3", reps: "1â€“3 minutos", descanso: "60s", bg: "linear-gradient(135deg, #1a0a1a 0%, #200f20 100%)"
  },
  {
    id: 86, name: "Agachamento com Salto", muscle: "Funcional", emoji: "ðŸ¦˜", difficulty: "intermediario",
    desc: "VariaÃ§Ã£o explosiva do agachamento. Aumenta potÃªncia, gasto calÃ³rico e condicionamento.",
    longDesc: "O jump squat (agachamento com salto) adiciona componente pliomÃ©trico ao agachamento tradicional. Desenvolve potÃªncia explosiva nos membros inferiores e aumenta o gasto calÃ³rico do treino. Excelente para treino HIIT.",
    tips: ["Agache atÃ© paralelo (coxa paralela ao chÃ£o)","Salte explosivamente â€” tente maximizar a altura","Pouso com joelhos suavemente flexionados para absorver o impacto","VÃ¡ direto para o prÃ³ximo agachamento ao pousar","BraÃ§os ajudam no impulso â€” balanceie para cima no salto"],
    series: "4", reps: "10â€“15", descanso: "60s", bg: "linear-gradient(135deg, #0a1a10 0%, #102015 100%)"
  }
];

// ==============================
// SVG ICON MAP â€” outline branco
// ==============================
const icons = {
  // â”€â”€ Peito â”€â”€
  'barbell-press':   `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="11" width="3" height="3" rx="1"/><rect x="20" y="11" width="3" height="3" rx="1"/><rect x="4" y="10" width="2" height="5" rx="1"/><rect x="18" y="10" width="2" height="5" rx="1"/><line x1="6" y1="12.5" x2="18" y2="12.5"/></svg>`,
  'dumbbell':        `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M6 4v16M18 4v16M3 8h3M3 16h3M18 8h3M18 16h3M6 12h12"/></svg>`,
  'fly':             `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M12 12c0 0-4-4-7-3s-3 5 0 6"/><path d="M12 12c0 0 4-4 7-3s3 5 0 6"/><circle cx="12" cy="12" r="1.5"/></svg>`,
  'pushup':          `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="17" cy="4" r="2"/><path d="M3 20l4-8 3 2 3-6 5 4"/><line x1="3" y1="20" x2="21" y2="20"/></svg>`,
  'crossover':       `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4l16 16M20 4L4 20"/><circle cx="12" cy="12" r="2"/></svg>`,
  // â”€â”€ Costas â”€â”€
  'pullup':          `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><line x1="4" y1="3" x2="20" y2="3"/><path d="M9 3v4l-2 3v3l2 5 3-2 3 2 2-5v-3l-2-3V3"/><circle cx="12" cy="19" r="2"/></svg>`,
  'row':             `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12h14"/><polyline points="13 7 18 12 13 17"/><path d="M21 5v14"/></svg>`,
  'deadlift':        `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="4" r="2"/><path d="M12 6v6l-3 4"/><path d="M12 12l3 4"/><line x1="3" y1="20" x2="21" y2="20"/><rect x="1" y="18" width="4" height="3" rx="1"/><rect x="19" y="18" width="4" height="3" rx="1"/></svg>`,
  'lat-pull':        `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><line x1="4" y1="3" x2="20" y2="3"/><path d="M7 3l-3 6h4M17 3l3 6h-4"/><line x1="12" y1="9" x2="12" y2="20"/><circle cx="12" cy="14" r="3"/></svg>`,
  'pullover':        `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M5 17a7 7 0 0 1 14 0"/><circle cx="12" cy="7" r="2"/><line x1="12" y1="9" x2="12" y2="14"/></svg>`,
  'face-pull':       `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="3"/><path d="M9 13c-3 1-5 3-5 6h16c0-3-2-5-5-6"/><path d="M20 8h3M1 8h3"/></svg>`,
  'hyperext':        `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M3 18c3-6 9-9 18-3"/><circle cx="7" cy="8" r="2"/></svg>`,
  // â”€â”€ Ombros â”€â”€
  'overhead-press':  `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><line x1="6" y1="8" x2="18" y2="8"/><rect x="3" y="7" width="3" height="3" rx="1"/><rect x="18" y="7" width="3" height="3" rx="1"/><path d="M12 8V3M9 3h6"/><circle cx="12" cy="17" r="3"/><line x1="12" y1="14" x2="12" y2="8"/></svg>`,
  'lateral-raise':   `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="6" r="2"/><line x1="12" y1="8" x2="12" y2="14"/><path d="M12 11l-7 3M12 11l7 3"/><line x1="5" y1="14" x2="2" y2="14"/><line x1="19" y1="14" x2="22" y2="14"/></svg>`,
  'shrug':           `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="5" r="2"/><path d="M8 9c0 0-2-1-2 2s2 4 2 4"/><path d="M16 9c0 0 2-1 2 2s-2 4-2 4"/><line x1="12" y1="7" x2="12" y2="20"/></svg>`,
  'front-raise':     `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="16" r="2"/><line x1="12" y1="14" x2="12" y2="9"/><line x1="12" y1="9" x2="7" y2="4"/><line x1="12" y1="9" x2="17" y2="9"/></svg>`,
  'rear-delt':       `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="6" r="2"/><line x1="12" y1="8" x2="12" y2="13"/><path d="M12 10l-7 5M12 10l7 5"/></svg>`,
  // â”€â”€ BÃ­ceps â”€â”€
  'curl':            `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M7 20h10"/><path d="M12 20v-8"/><path d="M8 12a4 4 0 0 1 8 0"/><circle cx="12" cy="7" r="1.5"/></svg>`,
  'hammer':          `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M15 12l-8.5 8.5a2.12 2.12 0 0 1-3-3L12 9"/><path d="M17.64 15L22 10.64"/><path d="M20.91 11.7l-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.75l-3.58-3.58A3 3 0 0 0 12 3H7"/><path d="M7 3l1.5 1.5"/></svg>`,
  'preacher':        `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M5 18l4-9 6 2 3-7"/><line x1="3" y1="18" x2="21" y2="18"/></svg>`,
  'cable-curl':      `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16a9 9 0 1 1-9-9"/><polyline points="21 7 21 16 12 16"/></svg>`,
  // â”€â”€ TrÃ­ceps â”€â”€
  'skull-crusher':   `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M12 4a5 5 0 0 1 5 5c0 2-1 3.5-2.5 4.5V16h-5v-2.5C8 12.5 7 11 7 9a5 5 0 0 1 5-5z"/><line x1="9.5" y1="16" x2="14.5" y2="16"/><line x1="10" y1="19" x2="14" y2="19"/><line x1="11" y1="22" x2="13" y2="22"/></svg>`,
  'pushdown':        `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="3" x2="12" y2="21"/><polyline points="8 17 12 21 16 17"/><line x1="8" y1="3" x2="16" y2="3"/></svg>`,
  'dip':             `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><line x1="4" y1="6" x2="4" y2="20"/><line x1="20" y1="6" x2="20" y2="20"/><path d="M4 10h4M16 10h4M9 10v5c0 2 1.5 3 3 3s3-1 3-3v-5"/></svg>`,
  'overhead-ext':    `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3v10"/><path d="M8 7l4-4 4 4"/><path d="M9 13h6v2a3 3 0 0 1-6 0v-2z"/></svg>`,
  'kickback':        `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="6" cy="7" r="2"/><path d="M6 9l1 5 5 3 5-3"/><line x1="6" y1="14" x2="6" y2="20"/></svg>`,
  // â”€â”€ Pernas â”€â”€
  'squat':           `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="4" r="2"/><path d="M12 6v5l-4 5v4"/><path d="M12 11l4 5v4"/><line x1="5" y1="20" x2="19" y2="20"/></svg>`,
  'leg-press':       `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="10" width="8" height="10" rx="2"/><path d="M10 14l4-4 6 6"/><circle cx="18" cy="18" r="2"/></svg>`,
  'lunge':           `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="4" r="2"/><path d="M12 6l-2 7-4 4v3"/><path d="M10 13l6 3v4"/></svg>`,
  'stiff':           `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="4" r="2"/><path d="M12 6v5"/><path d="M8 11l-4 7"/><path d="M16 11l4 7"/><line x1="4" y1="18" x2="20" y2="18"/><line x1="12" y1="11" x2="12" y2="18"/></svg>`,
  'calf':            `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3c-2 3-3 6-2 10 1 3 3 5 2 8"/><path d="M12 21h4"/></svg>`,
  'leg-curl':        `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M4 18c0-6 4-10 8-10s8 4 8 10"/><path d="M12 8V4"/><line x1="3" y1="18" x2="21" y2="18"/></svg>`,
  'leg-ext':         `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M5 18V8l6-4 7 14"/><line x1="3" y1="18" x2="21" y2="18"/></svg>`,
  'hip-thrust':      `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="5" cy="6" r="2"/><path d="M5 8l1 4h12v-4"/><path d="M6 12l1 6"/><path d="M17 12l1 6"/><line x1="5" y1="18" x2="19" y2="18"/></svg>`,
  'step-up':         `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="14" width="20" height="6" rx="1"/><path d="M8 14V8"/><path d="M16 14V10"/><polyline points="5 10 8 7 11 10"/></svg>`,
  'adductor':        `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M8 20V8l4-4 4 4v12"/><line x1="8" y1="14" x2="16" y2="14"/></svg>`,
  'abductor':        `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20V8"/><path d="M12 12l-6 4M12 12l6 4"/></svg>`,
  'sumo':            `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="4" r="2"/><path d="M6 8h12"/><path d="M6 8l-3 8"/><path d="M18 8l3 8"/><path d="M3 16h18"/></svg>`,
  'good-morning':    `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="4" r="2"/><path d="M12 6l-1 6-5 5"/><path d="M11 12l5 5"/><line x1="5" y1="19" x2="19" y2="22"/></svg>`,
  'bulgarian':       `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="4" r="2"/><path d="M9 6l-2 8"/><path d="M7 14l6-2"/><path d="M13 12l2 6"/><rect x="15" y="16" width="5" height="3" rx="1"/></svg>`,
  // â”€â”€ AbdÃ´men â”€â”€
  'crunch':          `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M4 20h16"/><path d="M12 20V12"/><path d="M8 12c0-3 2-5 4-5s4 2 4 5"/><path d="M9 8l-4-3M15 8l4-3"/></svg>`,
  'plank':           `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="7" r="2"/><path d="M4 17l14-8"/><line x1="2" y1="17" x2="22" y2="17"/><line x1="4" y1="17" x2="4" y2="14"/></svg>`,
  'leg-raise':       `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="17" x2="21" y2="17"/><path d="M7 17V9"/><path d="M7 9l5-5 5 5"/><line x1="17" y1="9" x2="17" y2="17"/></svg>`,
  'oblique':         `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M4 20l16-16"/><path d="M4 12l8-8"/><path d="M12 20l8-8"/></svg>`,
  'russian-twist':   `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3v4"/><path d="M18.36 5.64l-2.83 2.83"/><path d="M21 12h-4"/><path d="M5.64 5.64l2.83 2.83"/><path d="M3 12h4"/><circle cx="12" cy="15" r="4"/></svg>`,
  'mountain-climber':`<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="2"/><path d="M3 19l5-8 4 4 3-6 5 10"/><line x1="3" y1="19" x2="21" y2="19"/></svg>`,
  'cable-crunch':    `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3l-1 9"/><path d="M11 12l-7 5"/><path d="M11 12l7 5"/><circle cx="12" cy="3" r="1.5"/></svg>`,
  'dead-bug':        `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><path d="M5 12l-2-6"/><path d="M19 12l2-6"/><path d="M7 12l-2 6"/><path d="M17 12l2 6"/><circle cx="12" cy="12" r="2"/></svg>`,
  'side-plank':      `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="6" r="2"/><path d="M4 18l14-10"/><line x1="2" y1="18" x2="22" y2="18"/><line x1="4" y1="14" x2="4" y2="18"/></svg>`,
  'bicycle':         `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="17" r="3"/><circle cx="6" cy="17" r="3"/><path d="M9 17l3-10 4 5-5 5"/><path d="M9 6h6"/></svg>`,
  // â”€â”€ GlÃºteos â”€â”€
  'cable-kickback':  `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="6" r="2"/><path d="M8 8l1 6"/><path d="M9 14l8 4"/><path d="M3 20h4"/></svg>`,
  'glute-squat':     `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="3" r="2"/><path d="M12 5l-5 8 5 4 5-4-5-8z"/><line x1="7" y1="21" x2="17" y2="21"/></svg>`,
  'donkey-kick':     `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="6" cy="6" r="2"/><path d="M6 8v5"/><path d="M3 13h6"/><path d="M6 13l8-4"/><path d="M14 9l3-3"/></svg>`,
  'bridge':          `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M3 18c0-5 4-9 9-9s9 4 9 9"/><line x1="3" y1="18" x2="21" y2="18"/></svg>`,
  // â”€â”€ AntebraÃ§o â”€â”€
  'wrist-curl':      `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M4 16h16"/><path d="M7 16V8a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v8"/><path d="M12 5v2"/></svg>`,
  'farmer-walk':     `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="4" r="2"/><path d="M12 6v7"/><path d="M9 13l-4 7"/><path d="M15 13l4 7"/><path d="M5 10h4M15 10h4"/><rect x="3" y="8" width="3" height="3" rx="1"/><rect x="18" y="8" width="3" height="3" rx="1"/></svg>`,
  // â”€â”€ Funcional â”€â”€
  'burpee':          `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="3" r="2"/><path d="M12 5l-4 5h8l-4-5z"/><path d="M8 10l-4 4"/><path d="M16 10l4 4"/><line x1="3" y1="21" x2="21" y2="21"/></svg>`,
  'kettlebell-swing':`<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a4 4 0 0 1 4 4c0 2-1 3-2 4l2 8H8l2-8c-1-1-2-2-2-4a4 4 0 0 1 4-4z"/><line x1="10" y1="7" x2="8" y2="10"/><line x1="14" y1="7" x2="16" y2="10"/></svg>`,
  'box-jump':        `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="16" width="18" height="5" rx="1"/><circle cx="12" cy="6" r="2"/><path d="M12 8v4"/><path d="M9 11l3 4 3-4"/></svg>`,
  'thruster':        `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="4" r="2"/><path d="M12 6v4"/><line x1="6" y1="10" x2="18" y2="10"/><path d="M9 10l-2 5"/><path d="M15 10l2 5"/><polyline points="10 6 12 4 14 6"/></svg>`,
  'jump-rope':       `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M4 5c4 0 4 4 8 4s4-4 8-4"/><path d="M4 19c4 0 4-4 8-4s4 4 8 4"/></svg>`,
  'jump-squat':      `<svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="3" r="2"/><path d="M12 5l-3 6 3 2 3-2-3-6z"/><path d="M9 11l-3 7"/><path d="M15 11l3 7"/><path d="M8 21l4-3 4 3"/></svg>`,
};

// Mapa exercÃ­cio â†’ Ã­cone
const exerciseIconMap = {
  1: 'barbell-press', 2: 'barbell-press', 3: 'fly', 4: 'pushup',
  5: 'pullup', 6: 'row', 7: 'deadlift', 8: 'lat-pull',
  9: 'overhead-press', 10: 'lateral-raise', 11: 'shrug',
  12: 'curl', 13: 'curl', 14: 'preacher',
  15: 'skull-crusher', 16: 'pushdown', 17: 'dip',
  18: 'squat', 19: 'leg-press', 20: 'lunge', 21: 'stiff', 22: 'calf',
  26: 'barbell-press', 27: 'crossover', 28: 'fly', 29: 'dumbbell', 30: 'dip',
  31: 'row', 32: 'row', 33: 'lat-pull', 34: 'pullover', 35: 'face-pull', 36: 'pullup', 37: 'hyperext',
  38: 'front-raise', 39: 'overhead-press', 40: 'lateral-raise', 41: 'rear-delt', 42: 'overhead-press',
  43: 'curl', 44: 'hammer', 45: 'preacher', 46: 'curl', 47: 'cable-curl',
  48: 'overhead-ext', 49: 'kickback', 50: 'pushdown', 51: 'dip', 52: 'pushdown',
  53: 'bulgarian', 54: 'leg-ext', 55: 'leg-curl', 56: 'sumo', 57: 'adductor',
  58: 'abductor', 59: 'hip-thrust', 60: 'step-up', 61: 'good-morning', 62: 'lunge',
  63: 'calf',
  64: 'crunch', 65: 'plank', 66: 'leg-raise', 67: 'oblique', 68: 'russian-twist',
  69: 'mountain-climber', 70: 'cable-crunch', 71: 'dead-bug', 72: 'side-plank', 73: 'bicycle',
  74: 'cable-kickback', 75: 'glute-squat', 76: 'donkey-kick', 77: 'bridge',
  78: 'wrist-curl', 79: 'wrist-curl', 80: 'farmer-walk',
  81: 'burpee', 82: 'kettlebell-swing', 83: 'box-jump', 84: 'thruster', 85: 'jump-rope', 86: 'jump-squat'
};

function getIcon(id, size = 72) {
  const key = exerciseIconMap[id] || 'dumbbell';
  const svg = icons[key] || icons['dumbbell'];
  return svg.replace('<svg ', `<svg width="${size}" height="${size}" `);
}

// ==============================
// RENDER
// ==============================
function renderExercises(filter = 'todos') {
  const grid = document.getElementById('exercise-grid');
  const filtered = filter === 'todos' ? exercises : exercises.filter(e => e.muscle === filter);

  grid.innerHTML = filtered.map(e => `
    <div class="exercise-card" onclick="openModal(${e.id})">
      <div class="exercise-visual" style="background: ${e.bg}">
        <div class="exercise-bg-text">${e.muscle}</div>
        <div class="exercise-emoji">${getIcon(e.id, 80)}</div>
        <div class="diff-badge diff-${e.difficulty}">${e.difficulty}</div>
      </div>
      <div class="exercise-info">
        <div class="exercise-muscle">${e.muscle}</div>
        <div class="exercise-name">${e.name}</div>
        <div class="exercise-desc">${e.desc}</div>
        <div class="exercise-meta">
          <span class="meta-item"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg> ${e.series} sÃ©ries</span>
          <span class="meta-item"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="17 1 21 5 17 9"/><path d="M3 11V9a4 4 0 0 1 4-4h14"/><polyline points="7 23 3 19 7 15"/><path d="M21 13v2a4 4 0 0 1-4 4H3"/></svg> ${e.reps}</span>
          <span class="meta-item"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg> ${e.descanso}</span>
        </div>
      </div>
    </div>
  `).join('');
}

// ==============================
// MODAL
// ==============================
function openModal(id) {
  const e = exercises.find(x => x.id === id);
  if (!e) return;

  document.getElementById('modal-hero').style.background = e.bg;
  document.getElementById('modal-hero').innerHTML = `
    <div class="exercise-bg-text">${e.muscle}</div>
    <div style="opacity:0.95; filter: drop-shadow(0 4px 30px rgba(0,0,0,0.6));">${getIcon(e.id, 110)}</div>
  `;
  document.getElementById('modal-tag').textContent = e.muscle;
  document.getElementById('modal-title').textContent = e.name;
  document.getElementById('modal-desc').textContent = e.longDesc;

  document.getElementById('modal-tips').innerHTML = e.tips.map((t, i) => `
    <li><span class="tip-num">${String(i+1).padStart(2,'0')}</span>${t}</li>
  `).join('');

  document.getElementById('modal-sets').innerHTML = `
    <div class="set-item"><div class="set-val">${e.series}</div><div class="set-label">SÃ©ries</div></div>
    <div class="set-item"><div class="set-val">${e.reps}</div><div class="set-label">RepetiÃ§Ãµes</div></div>
    <div class="set-item"><div class="set-val">${e.descanso}</div><div class="set-label">Descanso</div></div>
  `;

  document.getElementById('modal-overlay').classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeModal(e) {
  if (e.target === document.getElementById('modal-overlay')) closeModalBtn();
}

function closeModalBtn() {
  document.getElementById('modal-overlay').classList.remove('open');
  document.body.style.overflow = '';
}

// ESC to close
document.addEventListener('keydown', e => {
  if (e.key === 'Escape') closeModalBtn();
});

// ==============================
// NAVIGATION
// ==============================
function showPage(name) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
  document.getElementById('page-' + name)?.classList.add('active');
  const pages = ['home','exercises','workout','suggested','diet-custom','imc','progress','history','equipment'];
  const idx = pages.indexOf(name);
  document.querySelectorAll('nav button')[idx]?.classList.add('active');
  if (name === 'exercises') renderExercises();
  if (name === 'equipment') { renderEquipCategories(); renderEquipment(currentEquipCat); }
  if (name === 'workout') renderWorkoutBuilder();
  if (name === 'suggested') renderSuggestedPlans();
  if (name === 'progress') renderProgressPage();
  if (name === 'history') renderHistoryPage();
  window.scrollTo(0, 0);
}

function filterExercises(muscle, btn) {
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  renderExercises(muscle);
}

function filterAndGo(muscle) {
  showPage('exercises');
  setTimeout(() => {
    renderExercises(muscle);
    // activate correct filter button
    document.querySelectorAll('.filter-btn').forEach(b => {
      b.classList.remove('active');
      if (b.textContent === muscle) b.classList.add('active');
    });
  }, 50);
}

// ==============================
// EQUIPMENT DATA
// ==============================
const equipments = [
  {
    id: 'barbell',
    name: 'Barra OlÃ­mpica',
    category: 'Pesos Livres',
    categoryIcon: 'ðŸ‹ï¸',
    desc: 'A barra olÃ­mpica padrÃ£o mede 2,2m e suporta 300â€“700kg. Ã‰ o equipamento fundamental de qualquer academia sÃ©ria, usado nos principais exercÃ­cios compostos.',
    exercises: ['Supino Reto', 'Levantamento Terra', 'Agachamento Livre', 'Remada Curvada', 'Desenvolvimento'],
    level: 2, levelLabel: 'IntermediÃ¡rio', priceRange: 'R$ 400â€“1.500',
    img: 'https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=700&q=80&fit=crop',
    imgFallback: 'ðŸ‹ï¸'
  },
  {
    id: 'dumbbell',
    name: 'Halteres',
    category: 'Pesos Livres',
    categoryIcon: 'ðŸ‹ï¸',
    desc: 'Halteres permitem maior liberdade de movimento que a barra, trabalham cada lado do corpo de forma independente e sÃ£o perfeitos para corrigir assimetrias musculares.',
    exercises: ['Rosca Alternada', 'Crucifixo', 'ElevaÃ§Ã£o Lateral', 'Desenvolvimento', 'Supino Inclinado'],
    level: 1, levelLabel: 'Iniciante', priceRange: 'R$ 80â€“800',
    img: 'https://images.unsplash.com/photo-1517963879433-6ad2b056d712?w=700&q=80&fit=crop',
    imgFallback: 'ðŸ’ª'
  },
  {
    id: 'bench',
    name: 'Banco RegulÃ¡vel',
    category: 'Estruturas',
    categoryIcon: 'ðŸª‘',
    desc: 'O banco ajustÃ¡vel (FID) permite configurar o Ã¢ngulo de 0Â° a 90Â°, viabilizando supino reto, inclinado, declinado e exercÃ­cios sentados. Essencial para treino completo.',
    exercises: ['Supino Reto', 'Supino Inclinado', 'Crucifixo', 'TrÃ­ceps Testa', 'Rosca Concentrada'],
    level: 1, levelLabel: 'Iniciante', priceRange: 'R$ 300â€“1.200',
    img: 'https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=700&q=80&fit=crop',
    imgFallback: 'ðŸª‘'
  },
  {
    id: 'pullupbar',
    name: 'Barra Fixa',
    category: 'Estruturas',
    categoryIcon: 'ðŸª‘',
    desc: 'A barra fixa Ã© o equipamento mais eficiente para desenvolvimento de costas, bÃ­ceps e forÃ§a funcional. Pode ser instalada em porta, parede ou tower station.',
    exercises: ['Barra Fixa', 'Barra Supinada', 'Barra Neutra', 'Abdominal Suspenso'],
    level: 2, levelLabel: 'IntermediÃ¡rio', priceRange: 'R$ 60â€“400',
    img: 'https://images.unsplash.com/photo-1598971457999-ca4ef48a9a71?w=700&q=80&fit=crop',
    imgFallback: 'ðŸ§—'
  },
  {
    id: 'cable',
    name: 'Polia / Cabo',
    category: 'MÃ¡quinas',
    categoryIcon: 'âš™ï¸',
    desc: 'As mÃ¡quinas de polia (cabo) oferecem tensÃ£o constante durante todo o arco do movimento, diferente dos pesos livres. SÃ£o ideais para isolamento e definiÃ§Ã£o muscular.',
    exercises: ['TrÃ­ceps Pulley', 'Puxada Frontal', 'Rosca Scott', 'Face Pull', 'Crossover'],
    level: 1, levelLabel: 'Iniciante', priceRange: 'R$ 800â€“5.000',
    img: 'https://images.unsplash.com/photo-1637430429868-6d7744f3a35f?w=700&q=80&fit=crop',
    imgFallback: 'âš™ï¸'
  },
  {
    id: 'legpress',
    name: 'Leg Press',
    category: 'MÃ¡quinas',
    categoryIcon: 'âš™ï¸',
    desc: 'O leg press permite trabalhar quadrÃ­ceps, glÃºteos e isquiotibiais com cargas muito elevadas, com menor risco Ã  coluna que o agachamento. IndispensÃ¡vel para hipertrofia de pernas.',
    exercises: ['Leg Press 45Â°', 'Leg Press Horizontal', 'Leg Press Unilateral'],
    level: 1, levelLabel: 'Iniciante', priceRange: 'R$ 2.000â€“12.000',
    img: 'https://images.unsplash.com/photo-1520338220965-f7d05b8e5ae7?w=700&q=80&fit=crop',
    imgFallback: 'ðŸ¦µ'
  },
  {
    id: 'kettlebell',
    name: 'Kettlebell',
    category: 'Pesos Livres',
    categoryIcon: 'ðŸ‹ï¸',
    desc: 'O kettlebell combina forÃ§a, cardio e coordenaÃ§Ã£o. Seu centro de massa deslocado exige mais estabilizaÃ§Ã£o, recrutando mÃºsculos acessÃ³rios. Ã“timo para treino funcional.',
    exercises: ['Swing', 'Turkish Get-Up', 'Goblet Squat', 'Clean & Press', 'Halo'],
    level: 2, levelLabel: 'IntermediÃ¡rio', priceRange: 'R$ 80â€“600',
    img: 'https://images.unsplash.com/photo-1547347298-4074fc3086f0?w=700&q=80&fit=crop',
    imgFallback: 'ðŸ””'
  },
  {
    id: 'bands',
    name: 'Faixas ElÃ¡sticas',
    category: 'AcessÃ³rios',
    categoryIcon: 'ðŸŽ½',
    desc: 'As faixas elÃ¡sticas (resistance bands) sÃ£o versÃ¡teis, portÃ¡teis e baratas. Oferecem resistÃªncia progressiva (maior no pico do movimento) e sÃ£o Ã³timas para aquecimento, reabilitaÃ§Ã£o e treino em casa.',
    exercises: ['AbduÃ§Ã£o de Quadril', 'Agachamento com ElÃ¡stico', 'Remada', 'TrÃ­ceps Kickback', 'Rosca'],
    level: 1, levelLabel: 'Iniciante', priceRange: 'R$ 30â€“150',
    img: 'https://images.unsplash.com/photo-1598289431512-b97b0917affc?w=700&q=80&fit=crop',
    imgFallback: 'ðŸŽ—ï¸'
  },
  {
    id: 'dips',
    name: 'Paralelas (Dip Station)',
    category: 'Estruturas',
    categoryIcon: 'ðŸª‘',
    desc: 'As paralelas permitem realizar o mergulho (dip), um dos exercÃ­cios mais completos para trÃ­ceps e peitoral inferior. TambÃ©m usadas para elevaÃ§Ã£o de joelhos para o abdÃ´men.',
    exercises: ['Mergulho (Dip)', 'Dip Peitoral', 'ElevaÃ§Ã£o de Joelhos', 'L-Sit'],
    level: 2, levelLabel: 'IntermediÃ¡rio', priceRange: 'R$ 200â€“800',
    img: 'https://images.unsplash.com/photo-1616803689943-5601631c7fec?w=700&q=80&fit=crop',
    imgFallback: 'ðŸŠ'
  },
  {
    id: 'mat',
    name: 'Colchonete / Mat',
    category: 'AcessÃ³rios',
    categoryIcon: 'ðŸŽ½',
    desc: 'O colchonete Ã© indispensÃ¡vel para exercÃ­cios no chÃ£o como abdominais, alongamentos, yoga e pilates. Proporciona conforto, higiene e amortecimento durante o treino.',
    exercises: ['Abdominal Crunch', 'Prancha', 'ElevaÃ§Ã£o de Pernas', 'Alongamentos', 'Yoga'],
    level: 1, levelLabel: 'Iniciante', priceRange: 'R$ 30â€“200',
    img: 'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=700&q=80&fit=crop',
    imgFallback: 'ðŸ§˜'
  },
  {
    id: 'rack',
    name: 'Rack / Gaiola',
    category: 'Estruturas',
    categoryIcon: 'ðŸª‘',
    desc: 'O power rack (gaiola) Ã© a estrutura mais segura para treino pesado. Permite realizar agachamento, supino e desenvolvimento com seguranÃ§a mÃ¡xima, mesmo treinando sozinho.',
    exercises: ['Agachamento Livre', 'Supino Reto', 'Desenvolvimento', 'Barra Fixa', 'Remada'],
    level: 3, levelLabel: 'AvanÃ§ado', priceRange: 'R$ 1.500â€“8.000',
    img: 'https://images.unsplash.com/photo-1581009137042-c552e485697a?w=700&q=80&fit=crop',
    imgFallback: 'ðŸ—ï¸'
  },
  {
    id: 'rope',
    name: 'Corda Battle Rope',
    category: 'Cardio & Funcional',
    categoryIcon: 'ðŸƒ',
    desc: 'As battle ropes sÃ£o excelentes para cardio de alta intensidade (HIIT) e trabalho de ombros, costas e core. Queimam muitas calorias e desenvolvem potÃªncia muscular.',
    exercises: ['Ondas Alternadas', 'Ondas SimultÃ¢neas', 'Slams', 'CÃ­rculos', 'Snake Waves'],
    level: 2, levelLabel: 'IntermediÃ¡rio', priceRange: 'R$ 150â€“600',
    img: 'https://images.unsplash.com/photo-1540497077202-7c8a3999166f?w=700&q=80&fit=crop',
    imgFallback: 'ðŸª¢'
  }
];

const equipCategories = [
  { id: 'todos',             name: 'Todos',        svg: `<svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><rect x="1" y="11" width="3" height="3" rx="1"/><rect x="20" y="11" width="3" height="3" rx="1"/><rect x="4" y="10" width="2" height="5" rx="1"/><rect x="18" y="10" width="2" height="5" rx="1"/><line x1="6" y1="12.5" x2="18" y2="12.5"/></svg>`, count: equipments.length },
  { id: 'Pesos Livres',      name: 'Pesos Livres', svg: `<svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><path d="M6 4v16M18 4v16M3 8h3M3 16h3M18 8h3M18 16h3M6 12h12"/></svg>`, count: equipments.filter(e => e.category === 'Pesos Livres').length },
  { id: 'MÃ¡quinas',          name: 'MÃ¡quinas',     svg: `<svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><rect x="2" y="2" width="20" height="20" rx="3"/><circle cx="12" cy="12" r="4"/><line x1="12" y1="2" x2="12" y2="8"/><line x1="12" y1="16" x2="12" y2="22"/><line x1="2" y1="12" x2="8" y2="12"/><line x1="16" y1="12" x2="22" y2="12"/></svg>`, count: equipments.filter(e => e.category === 'MÃ¡quinas').length },
  { id: 'Estruturas',        name: 'Estruturas',   svg: `<svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><line x1="4" y1="3" x2="20" y2="3"/><path d="M9 3v4l-2 3v3l2 5 3-2 3 2 2-5v-3l-2-3V3"/></svg>`, count: equipments.filter(e => e.category === 'Estruturas').length },
  { id: 'AcessÃ³rios',        name: 'AcessÃ³rios',   svg: `<svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z"/></svg>`, count: equipments.filter(e => e.category === 'AcessÃ³rios').length },
  { id: 'Cardio & Funcional',name: 'Cardio',       svg: `<svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>`, count: equipments.filter(e => e.category === 'Cardio & Funcional').length },
];

let currentEquipCat = 'todos';

function renderEquipCategories() {
  const nav = document.getElementById('equip-cat-nav');
  nav.innerHTML = equipCategories.map(c => `
    <button class="equip-cat-btn ${c.id === currentEquipCat ? 'active' : ''}" onclick="filterEquipment('${c.id}', this)">
      <div class="equip-cat-icon">${c.svg}</div>
      <div class="equip-cat-name">${c.name}</div>
      <div class="equip-cat-count">${c.count} item${c.count !== 1 ? 's' : ''}</div>
    </button>
  `).join('');
}

function renderEquipment(cat = 'todos') {
  const grid = document.getElementById('equipment-grid');
  const list = cat === 'todos' ? equipments : equipments.filter(e => e.category === cat);

  grid.innerHTML = list.map(e => {
    const dots = [1,2,3].map(d => `<span class="equip-dot ${d <= e.level ? 'on' : ''}"></span>`).join('');
    const exTags = e.exercises.map(ex => `<span class="equip-ex-tag">${ex}</span>`).join('');
    return `
      <div class="equipment-card">
        <div class="equipment-img-wrap">
          <img src="${e.img}"
               alt="${e.name}"
               loading="lazy"
               onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
          <div class="equipment-img-fallback" style="display:none; width:100%; height:100%; align-items:center; justify-content:center; font-size:5rem;">${e.imgFallback}</div>
          <div class="equip-tag-overlay">${e.category}</div>
        </div>
        <div class="equipment-info">
          <div class="equipment-category">${e.category}</div>
          <div class="equipment-name">${e.name}</div>
          <div class="equipment-desc">${e.desc}</div>
          <div class="equipment-exercises">${exTags}</div>
          <div class="equip-level-bar">
            <span class="equip-level-label">NÃVEL</span>
            <div class="equip-dots">${dots}</div>
            <span style="font-size:0.75rem; color: #bbb;">${e.levelLabel}</span>
            <span class="equip-price">${e.priceRange}</span>
          </div>
        </div>
      </div>
    `;
  }).join('');
}

function filterEquipment(cat, btn) {
  currentEquipCat = cat;
  renderEquipCategories();
  renderEquipment(cat);
}

// ============================================================
// AUTH SYSTEM
// ============================================================
let currentUser = null; // { username, name, avatar }

function getUsers() {
  return JSON.parse(localStorage.getItem('forja_users') || '{}');
}

function saveUsers(users) {
  localStorage.setItem('forja_users', JSON.stringify(users));
}

function getUserKey(key) {
  return `forja_${currentUser.username}_${key}`;
}

function switchLoginTab(tab, btn) {
  document.querySelectorAll('.login-tab').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  document.getElementById('form-login').style.display = tab === 'login' ? 'flex' : 'none';
  document.getElementById('form-register').style.display = tab === 'register' ? 'flex' : 'none';
  document.getElementById('login-error').classList.remove('visible');
  document.getElementById('reg-error').classList.remove('visible');
}

function doLogin() {
  const username = document.getElementById('login-user').value.trim().toLowerCase();
  const password = document.getElementById('login-pass').value;
  const err = document.getElementById('login-error');

  if (!username || !password) {
    err.textContent = 'Preencha usuÃ¡rio e senha';
    err.classList.add('visible'); return;
  }

  const users = getUsers();
  const user = users[username];

  if (!user || user.password !== btoa(password)) {
    err.textContent = 'UsuÃ¡rio ou senha incorretos';
    err.classList.add('visible'); return;
  }

  err.classList.remove('visible');
  loginSuccess({ username, name: user.name, avatar: user.name[0].toUpperCase() });
}

function doRegister() {
  const name     = document.getElementById('reg-name').value.trim();
  const username = document.getElementById('reg-user').value.trim().toLowerCase();
  const password = document.getElementById('reg-pass').value;
  const err      = document.getElementById('reg-error');

  if (!name || !username || !password) {
    err.textContent = 'Preencha todos os campos'; err.classList.add('visible'); return;
  }
  if (username.length < 3) {
    err.textContent = 'UsuÃ¡rio deve ter ao menos 3 caracteres'; err.classList.add('visible'); return;
  }
  if (password.length < 4) {
    err.textContent = 'Senha deve ter ao menos 4 caracteres'; err.classList.add('visible'); return;
  }
  if (!/^[a-z0-9_]+$/.test(username)) {
    err.textContent = 'Use apenas letras, nÃºmeros e _'; err.classList.add('visible'); return;
  }

  const users = getUsers();
  if (users[username]) {
    err.textContent = 'Esse usuÃ¡rio jÃ¡ existe'; err.classList.add('visible'); return;
  }

  users[username] = { name, password: btoa(password), createdAt: Date.now() };
  saveUsers(users);
  err.classList.remove('visible');
  loginSuccess({ username, name, avatar: name[0].toUpperCase() });
}

function loginSuccess(user) {
  currentUser = user;
  localStorage.setItem('forja_session', JSON.stringify(user));

  // Update header UI
  document.getElementById('header-avatar').textContent   = user.avatar;
  document.getElementById('header-username').textContent = user.name.split(' ')[0];

  // Hide login, show app
  document.getElementById('login-screen').style.display = 'none';
  document.getElementById('main-header').style.display  = 'flex';

  // Load user workouts
  savedWorkouts = JSON.parse(localStorage.getItem(getUserKey('workouts')) || '[]');
  renderSavedWorkouts();
  applyTheme();
  showPage('home');
  setTimeout(checkWorkoutReminder, 3500);
}

function doLogout() {
  closeUserMenu();
  currentUser = null;
  savedWorkouts = [];
  myWorkout = [];
  localStorage.removeItem('forja_session');

  // Clear form fields
  ['login-user','login-pass','reg-name','reg-user','reg-pass'].forEach(id => {
    const el = document.getElementById(id); if (el) el.value = '';
  });

  document.getElementById('main-header').style.display  = 'none';
  document.getElementById('login-screen').style.display = 'flex';
}

function toggleUserMenu() {
  document.getElementById('user-menu').classList.toggle('open');
}

function closeUserMenu() {
  document.getElementById('user-menu').classList.remove('open');
}

// Close menu clicking outside
document.addEventListener('click', e => {
  const badge = document.querySelector('.user-badge');
  const menu  = document.getElementById('user-menu');
  if (menu && badge && !badge.contains(e.target) && !menu.contains(e.target)) {
    menu.classList.remove('open');
  }
});

// Enter key on login inputs
document.getElementById('login-pass').addEventListener('keydown', e => { if (e.key === 'Enter') doLogin(); });
document.getElementById('login-user').addEventListener('keydown', e => { if (e.key === 'Enter') doLogin(); });
document.getElementById('reg-pass' ).addEventListener('keydown', e => { if (e.key === 'Enter') doRegister(); });

// Auto-restore session
(function restoreSession() {
  const saved = localStorage.getItem('forja_session');
  if (saved) {
    try {
      const user = JSON.parse(saved);
      const users = getUsers();
      if (users[user.username]) { loginSuccess(user); return; }
    } catch(e) {}
  }
  // No valid session â€” show login
  document.getElementById('login-screen').style.display = 'flex';
  document.getElementById('main-header').style.display  = 'none';
})();

// ============================================================
// WORKOUT BUILDER
// ============================================================
let myWorkout = [];
let wbMuscleFilter = 'todos';
let savedWorkouts = [];

function renderWorkoutBuilder() {
  // build tabs
  const muscles = ['todos', ...new Set(exercises.map(e => e.muscle))];
  document.getElementById('wb-tabs').innerHTML = muscles.map(m =>
    `<button class="wb-tab ${m === wbMuscleFilter ? 'active' : ''}" onclick="wbSetMuscle('${m}',this)">${m === 'todos' ? 'Todos' : m}</button>`
  ).join('');
  wbRenderList();
  wbRenderItems();
  renderSavedWorkouts();
}

function wbSetMuscle(m, btn) {
  wbMuscleFilter = m;
  document.querySelectorAll('.wb-tab').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  wbRenderList();
}

function wbFilter() {
  wbRenderList();
}

function wbRenderList() {
  const q = (document.getElementById('wb-search-input')?.value || '').toLowerCase();
  let list = exercises;
  if (wbMuscleFilter !== 'todos') list = list.filter(e => e.muscle === wbMuscleFilter);
  if (q) list = list.filter(e => e.name.toLowerCase().includes(q) || e.muscle.toLowerCase().includes(q));

  const addedIds = myWorkout.map(x => x.exercise.id);
  document.getElementById('wb-count').textContent = list.length + ' exercÃ­cios';

  document.getElementById('wb-list').innerHTML = list.map(e => {
    const added = addedIds.includes(e.id);
    return `
    <div class="wb-ex-item">
      <div class="wb-ex-icon">${getIcon(e.id, 28)}</div>
      <div class="wb-ex-info">
        <div class="wb-ex-name">${e.name}</div>
        <div class="wb-ex-muscle">${e.muscle}</div>
      </div>
      <button class="wb-add-btn ${added ? 'added' : ''}" onclick="wbAddExercise(${e.id})" title="${added ? 'JÃ¡ adicionado' : 'Adicionar'}">
        ${added
          ? `<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>`
          : `<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>`
        }
      </button>
    </div>`;
  }).join('') || `<div style="padding:32px;text-align:center;color:var(--muted);font-size:0.85rem;">Nenhum exercÃ­cio encontrado</div>`;
}

function wbAddExercise(id) {
  if (myWorkout.find(x => x.exercise.id === id)) return;
  const ex = exercises.find(e => e.id === id);
  if (!ex) return;
  myWorkout.push({ exercise: ex, series: ex.series || '3', reps: ex.reps || '10â€“12', rest: ex.descanso || '60s' });
  wbRenderList();
  wbRenderItems();
}

function wbRemoveExercise(idx) {
  myWorkout.splice(idx, 1);
  wbRenderList();
  wbRenderItems();
}

function wbRenderItems() {
  const container = document.getElementById('wb-workout-items');
  const empty = document.getElementById('wb-empty');
  document.getElementById('wb-item-count').textContent = myWorkout.length + ' exercÃ­cio' + (myWorkout.length !== 1 ? 's' : '');

  if (myWorkout.length === 0) {
    empty.style.display = 'flex';
    // remove all item divs
    container.querySelectorAll('.wb-workout-item').forEach(el => el.remove());
    return;
  }
  empty.style.display = 'none';
  container.querySelectorAll('.wb-workout-item').forEach(el => el.remove());

  myWorkout.forEach((item, i) => {
    const div = document.createElement('div');
    div.className = 'wb-workout-item';
    div.innerHTML = `
      <div class="wb-item-header">
        <div class="wb-item-num">${String(i+1).padStart(2,'0')}</div>
        <div class="wb-item-name">${item.exercise.name}</div>
        <button class="wb-item-remove" onclick="wbRemoveExercise(${i})" title="Remover">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </div>
      <div class="wb-item-controls">
        <div class="wb-input-group">
          <span class="wb-input-label">SÃ©ries</span>
          <input type="text" value="${item.series}" onchange="myWorkout[${i}].series=this.value">
        </div>
        <div class="wb-input-group">
          <span class="wb-input-label">RepetiÃ§Ãµes</span>
          <input type="text" value="${item.reps}" onchange="myWorkout[${i}].reps=this.value">
        </div>
        <div class="wb-input-group">
          <span class="wb-input-label">Descanso</span>
          <input type="text" value="${item.rest}" onchange="myWorkout[${i}].rest=this.value">
        </div>
      </div>`;
    container.appendChild(div);
  });
}

function clearWorkout() {
  if (myWorkout.length === 0) return;
  if (!confirm('Limpar todos os exercÃ­cios do treino atual?')) return;
  myWorkout = [];
  document.getElementById('wb-name').value = '';
  wbRenderList();
  wbRenderItems();
}

function saveWorkout() {
  if (!currentUser) return;
  if (myWorkout.length === 0) { alert('Adicione pelo menos um exercÃ­cio!'); return; }
  const name = document.getElementById('wb-name').value.trim() || 'MEU TREINO ' + (savedWorkouts.length + 1);
  const workout = {
    id: Date.now(),
    name,
    date: new Date().toLocaleDateString('pt-BR'),
    exercises: myWorkout.map(x => ({
      name: x.exercise.name,
      muscle: x.exercise.muscle,
      id: x.exercise.id,
      series: x.series,
      reps: x.reps,
      rest: x.rest
    }))
  };
  savedWorkouts.unshift(workout);
  localStorage.setItem(getUserKey('workouts'), JSON.stringify(savedWorkouts));
  myWorkout = [];
  document.getElementById('wb-name').value = '';
  wbRenderList();
  wbRenderItems();
  renderSavedWorkouts();
  // success flash
  const btn = document.querySelector('.wb-save-btn');
  const orig = btn.textContent;
  btn.textContent = 'âœ“ Treino Salvo!';
  btn.style.background = 'var(--green)';
  btn.style.color = '#000';
  setTimeout(() => { btn.textContent = orig; btn.style.background = ''; btn.style.color = ''; }, 2000);
}

// renderSavedWorkouts is defined later with full Start/Share buttons

function toggleSavedWorkout(id) {
  const body = document.getElementById('saved-body-' + id);
  body.classList.toggle('open');
}

function loadWorkout(id) {
  const w = savedWorkouts.find(x => x.id === id);
  if (!w) return;
  myWorkout = w.exercises.map(ex => ({
    exercise: exercises.find(e => e.id === ex.id) || { id: ex.id, name: ex.name, muscle: ex.muscle },
    series: ex.series, reps: ex.reps, rest: ex.rest
  }));
  document.getElementById('wb-name').value = w.name;
  wbRenderList();
  wbRenderItems();
  window.scrollTo(0, 0);
}

function deleteSavedWorkout(id) {
  if (!confirm('Excluir este treino?')) return;
  savedWorkouts = savedWorkouts.filter(x => x.id !== id);
  localStorage.setItem(getUserKey('workouts'), JSON.stringify(savedWorkouts));
  renderSavedWorkouts();
}

// ============================================================
// SUGGESTED PLANS
// ============================================================
const suggestedPlans = [
  {
    id: 1,
    name: 'HIPERTROFIA A/B',
    goal: 'Ganhar Massa',
    level: 'IntermediÃ¡rio',
    days: 4,
    color: 'linear-gradient(135deg,#1a0505 0%,#2a0808 100%)',
    accentColor: 'var(--accent)',
    desc: 'DivisÃ£o A/B em 4 dias. Foco em volume e progressÃ£o de carga para mÃ¡ximo ganho de massa muscular. Ideal para quem treina hÃ¡ mais de 6 meses.',
    schedule: [
      { day: 'SEG', name: 'Treino A â€” Peito & TrÃ­ceps', exercises: ['Supino Reto 4Ã—8â€“12','Supino Inclinado 3Ã—10','Peck Deck 3Ã—12â€“15','Crossover no Cabo 3Ã—15','TrÃ­ceps Pulley 4Ã—10â€“12','Mergulho (Dip) 3Ã—10','TrÃ­ceps FrancÃªs 3Ã—12'] },
      { day: 'TER', name: 'Treino B â€” Costas & BÃ­ceps', exercises: ['Barra Fixa 4Ã—6â€“10','Levantamento Terra 3Ã—5â€“8','Remada Curvada 4Ã—10','Remada Unilateral 3Ã—10 cada','Puxada Frontal 3Ã—12','Rosca Direta 3Ã—10â€“12','Rosca Martelo 3Ã—12','Rosca Scott 3Ã—12'] },
      { day: 'QUI', name: 'Treino A â€” Ombros & TrÃ­ceps', exercises: ['Desenvolvimento 4Ã—8â€“12','ElevaÃ§Ã£o Lateral 4Ã—15','ElevaÃ§Ã£o Frontal 3Ã—12','Desenvolvimento Arnold 3Ã—10','Face Pull 3Ã—15â€“20','TrÃ­ceps FrancÃªs 3Ã—10','Kickback 3Ã—12'] },
      { day: 'SEX', name: 'Treino B â€” Pernas Completo', exercises: ['Agachamento Livre 5Ã—5â€“8','Leg Press 4Ã—10â€“12','AvanÃ§o (Lunge) 3Ã—12 cada','ExtensÃ£o de Perna 3Ã—15','FlexÃ£o de Perna 3Ã—15','Hip Thrust 4Ã—12','Panturrilha 4Ã—20'] },
    ]
  },
  {
    id: 2,
    name: 'EMAGRECIMENTO',
    goal: 'Perder Gordura',
    level: 'Inicianteâ€“Interm.',
    days: 5,
    color: 'linear-gradient(135deg,#051a05 0%,#0a2a0a 100%)',
    accentColor: 'var(--green)',
    desc: 'Treino HIIT + forÃ§a 5 dias por semana. Alta intensidade, pouco descanso, mÃ¡ximo gasto calÃ³rico. Combine com dÃ©ficit calÃ³rico para resultados rÃ¡pidos.',
    schedule: [
      { day: 'SEG', name: 'Full Body + HIIT', exercises: ['Agachamento com Salto 4Ã—15','FlexÃ£o de BraÃ§o 3Ã—15','Remada Curvada 3Ã—12','Mountain Climber 4Ã—45s','Burpee 3Ã—10','Prancha 3Ã—45s'] },
      { day: 'TER', name: 'HIIT Cardio', exercises: ['Corda de Pular 5Ã—2min','Agachamento com Salto 5Ã—20','Box Jump 4Ã—10','Mountain Climber 4Ã—60s','Burpee 4Ã—12','Corrida estacionÃ¡ria 5Ã—1min'] },
      { day: 'QUA', name: 'ForÃ§a + Core', exercises: ['Levantamento Terra 3Ã—8','Supino Reto 3Ã—10','Barra Fixa 3Ã—8','Russian Twist 4Ã—30','Prancha Lateral 3Ã—40s','Abdominal Crunch 3Ã—25','ElevaÃ§Ã£o de Pernas 3Ã—20'] },
      { day: 'QUI', name: 'Pernas + HIIT', exercises: ['Agachamento SumÃ´ 4Ã—15','Hip Thrust 4Ã—15','ExtensÃ£o de Perna 3Ã—20','FlexÃ£o de Perna 3Ã—20','Agachamento com Salto 4Ã—15','Kettlebell Swing 3Ã—20','Corda de Pular 3Ã—2min'] },
      { day: 'SEX', name: 'Full Body MetabÃ³lico', exercises: ['Thruster 4Ã—10','Burpee 4Ã—12','Swing com Kettlebell 4Ã—20','Box Jump 4Ã—10','Mountain Climber 3Ã—60s','Prancha 3Ã—60s'] },
    ]
  },
  {
    id: 3,
    name: 'FORÃ‡A BRUTA',
    goal: 'Aumentar ForÃ§a',
    level: 'AvanÃ§ado',
    days: 4,
    color: 'linear-gradient(135deg,#1a1505 0%,#2a2008 100%)',
    accentColor: 'var(--accent2)',
    desc: 'Protocolo baseado nos movimentos fundamentais: agachamento, supino, terra e desenvolvimento. ProgressÃ£o linear de carga a cada semana. Foco em forÃ§a mÃ¡xima.',
    schedule: [
      { day: 'SEG', name: 'Dia do Agachamento', exercises: ['Agachamento Livre 5Ã—5 (pesado)','Good Morning 3Ã—8','Leg Press 3Ã—8','ExtensÃ£o de Perna 3Ã—12','FlexÃ£o de Perna 3Ã—12','Panturrilha no Leg Press 4Ã—20'] },
      { day: 'TER', name: 'Dia do Supino', exercises: ['Supino Reto 5Ã—5 (pesado)','Desenvolvimento Militar 4Ã—6','Supino com Halteres 3Ã—8','TrÃ­ceps Pulley 3Ã—10','TrÃ­ceps FrancÃªs 3Ã—10','Rosca Direta 3Ã—10'] },
      { day: 'QUI', name: 'Dia do Levantamento Terra', exercises: ['Levantamento Terra 5Ã—3â€“5 (pesado)','Barra Fixa Lastrada 4Ã—5','Remada Curvada 4Ã—6','HiperextensÃ£o 3Ã—10','Rosca Martelo 3Ã—10','Face Pull 3Ã—15'] },
      { day: 'SEX', name: 'Dia do Desenvolvimento', exercises: ['Desenvolvimento Militar 5Ã—5','Supino Declinado 4Ã—6','ElevaÃ§Ã£o Lateral 4Ã—12','ElevaÃ§Ã£o Frontal 3Ã—12','Desenvolvimento Arnold 3Ã—8','Encolhimento de Ombros 3Ã—15'] },
    ]
  },
  {
    id: 4,
    name: 'TREINO EM CASA',
    goal: 'Fitness Geral',
    level: 'Iniciante',
    days: 3,
    color: 'linear-gradient(135deg,#0a051a 0%,#120a2a 100%)',
    accentColor: '#7c4dff',
    desc: 'Treino 3 dias/semana sem equipamentos. Apenas o peso do corpo. Perfeito para quem quer comeÃ§ar ou manter o condicionamento em casa.',
    schedule: [
      { day: 'SEG', name: 'Peito, TrÃ­ceps & Core', exercises: ['FlexÃ£o de BraÃ§o 4Ã—15','FlexÃ£o Inclinada 3Ã—12','Mergulho no Banco 3Ã—15','Mountain Climber 3Ã—45s','Prancha 3Ã—45s','Abdominal Crunch 3Ã—25','Russian Twist 3Ã—30'] },
      { day: 'QUA', name: 'Pernas & GlÃºteos', exercises: ['Agachamento com Salto 4Ã—20','Passada Reversa 3Ã—12 cada','GlÃºteo 4 Apoios 3Ã—15 cada','Ponte de GlÃºteos 4Ã—20','Panturrilha (pÃ© no degrau) 4Ã—25','Step Up 3Ã—12 cada','Agachamento SumÃ´ 3Ã—20'] },
      { day: 'SEX', name: 'Costas, BÃ­ceps & Ombros', exercises: ['Barra Fixa (se disponÃ­vel) 3Ã—8','Prancha Lateral 3Ã—30s','ElevaÃ§Ã£o Posterior 3Ã—15','Dead Bug 3Ã—10 cada','ElevaÃ§Ã£o de Pernas 3Ã—15','Bicicleta (Bicycle Crunch) 3Ã—30','Prancha 3Ã—60s'] },
    ]
  },
  {
    id: 5,
    name: 'GLÃšTEOS & PERNAS',
    goal: 'TonificaÃ§Ã£o',
    level: 'Inicianteâ€“Interm.',
    days: 3,
    color: 'linear-gradient(135deg,#1a0a10 0%,#2a0a18 100%)',
    accentColor: '#ff4081',
    desc: 'Foco total em glÃºteos, coxas e panturrilhas. Protocolo de 3 dias com alta repetiÃ§Ã£o e variaÃ§Ã£o de exercÃ­cios para mÃ¡xima ativaÃ§Ã£o glÃºtea.',
    schedule: [
      { day: 'SEG', name: 'GlÃºteo & QuadrÃ­ceps', exercises: ['Hip Thrust 5Ã—15','Agachamento Livre 4Ã—12','Agachamento BÃºlgaro 3Ã—12 cada','ExtensÃ£o de Perna 3Ã—15','Leg Press 4Ã—15','GlÃºteo na Polia 3Ã—15 cada'] },
      { day: 'QUA', name: 'Posterior & Isquiotibiais', exercises: ['Stiff 4Ã—12','FlexÃ£o de Perna 4Ã—15','Good Morning 3Ã—12','Cadeira Adutora 4Ã—20','Cadeira Abdutora 4Ã—20','Ponte de GlÃºteos 4Ã—20','Panturrilha 4Ã—25'] },
      { day: 'SEX', name: 'GlÃºteo Completo', exercises: ['Agachamento SumÃ´ 4Ã—15','Hip Thrust Unilateral 3Ã—15 cada','Passada Reversa 3Ã—12 cada','GlÃºteo 4 Apoios 4Ã—20 cada','Cadeira Adutora 3Ã—20','Step Up 3Ã—15 cada','Prancha Lateral 3Ã—40s cada'] },
    ]
  },
  {
    id: 6,
    name: 'FUNCIONAL TOTAL',
    goal: 'Condicionamento',
    level: 'IntermediÃ¡rio',
    days: 4,
    color: 'linear-gradient(135deg,#051010 0%,#0a1a1a 100%)',
    accentColor: '#00bcd4',
    desc: 'Treino funcional com exercÃ­cios compostos e movimentos atlÃ©ticos. Desenvolve forÃ§a, resistÃªncia, coordenaÃ§Ã£o e agilidade ao mesmo tempo.',
    schedule: [
      { day: 'SEG', name: 'ForÃ§a + PotÃªncia', exercises: ['Levantamento Terra 4Ã—5','Agachamento Livre 4Ã—6','Thruster 4Ã—10','Box Jump 4Ã—8','Kettlebell Swing 4Ã—15','Farmer Walk 3Ã—40m'] },
      { day: 'TER', name: 'HIIT MetabÃ³lico', exercises: ['Burpee 5Ã—10','Mountain Climber 4Ã—60s','Agachamento com Salto 4Ã—15','Corda de Pular 4Ã—2min','Russian Twist 3Ã—30','Prancha 3Ã—60s'] },
      { day: 'QUI', name: 'Empurrar & Puxar', exercises: ['Supino Reto 4Ã—8','Desenvolvimento Militar 4Ã—8','Barra Fixa 4Ã—8','Remada Curvada 4Ã—10','TrÃ­ceps Pulley 3Ã—12','Rosca Direta 3Ã—12'] },
      { day: 'SEX', name: 'Core & Mobilidade', exercises: ['Prancha 4Ã—60s','Prancha Lateral 3Ã—45s cada','Dead Bug 3Ã—10 cada','Russian Twist 4Ã—30','Abdominal no Cabo 3Ã—15','ElevaÃ§Ã£o de Pernas 3Ã—20','Good Morning 3Ã—10'] },
    ]
  },
  {
    id: 7,
    name: 'PUSH / PULL / LEGS',
    goal: 'Ganhar Massa',
    level: 'IntermediÃ¡rio',
    days: 6,
    color: 'linear-gradient(135deg,#0a0a1a 0%,#12122a 100%)',
    accentColor: '#7c4dff',
    desc: 'A divisÃ£o PPL Ã© uma das mais eficientes para hipertrofia. 6 dias por semana, cada grupo muscular treinado 2x. Alta frequÃªncia = mais crescimento.',
    schedule: [
      { day: 'SEG', name: 'Push â€” Peito, Ombros & TrÃ­ceps', exercises: ['Supino Reto 4Ã—8â€“12','Supino Inclinado 3Ã—10','Desenvolvimento Militar 4Ã—8','ElevaÃ§Ã£o Lateral 4Ã—15','Crossover no Cabo 3Ã—15','TrÃ­ceps Pulley 3Ã—12','TrÃ­ceps FrancÃªs 3Ã—12'] },
      { day: 'TER', name: 'Pull â€” Costas & BÃ­ceps', exercises: ['Barra Fixa 4Ã—8','Remada Curvada 4Ã—10','Puxada Frontal 3Ã—12','Remada Unilateral 3Ã—10 cada','Face Pull 3Ã—15','Rosca Direta 4Ã—10','Rosca Martelo 3Ã—12'] },
      { day: 'QUA', name: 'Legs â€” QuadrÃ­ceps & Isquio', exercises: ['Agachamento Livre 5Ã—5â€“8','Leg Press 4Ã—12','ExtensÃ£o de Perna 3Ã—15','FlexÃ£o de Perna 3Ã—15','Agachamento BÃºlgaro 3Ã—10 cada','Panturrilha 4Ã—20'] },
      { day: 'QUI', name: 'Push 2 â€” Foco Ombros', exercises: ['Desenvolvimento Arnold 4Ã—10','ElevaÃ§Ã£o Lateral 5Ã—15','ElevaÃ§Ã£o Frontal 3Ã—12','Supino com Halteres 4Ã—10','Peck Deck 3Ã—15','Pushdown com Corda 3Ã—15','Mergulho (Dip) 3Ã—10'] },
      { day: 'SEX', name: 'Pull 2 â€” Foco Costas', exercises: ['Levantamento Terra 4Ã—5','Barra Supinada (Chin-up) 4Ã—8','Remada Sentado (Cabo) 4Ã—12','Pullover com Halter 3Ã—12','Puxada Neutra (TriÃ¢ngulo) 3Ã—12','Rosca Scott 3Ã—12','Rosca no Cabo 3Ã—15'] },
      { day: 'SAB', name: 'Legs 2 â€” GlÃºteos & Posterior', exercises: ['Stiff 4Ã—10','Hip Thrust 5Ã—12','Agachamento SumÃ´ 4Ã—15','Cadeira Adutora 3Ã—20','Cadeira Abdutora 3Ã—20','GlÃºteo na Polia 3Ã—15 cada','Panturrilha no Leg Press 4Ã—20'] },
    ]
  },
  {
    id: 8,
    name: 'UPPER / LOWER',
    goal: 'ForÃ§a + Massa',
    level: 'IntermediÃ¡rio',
    days: 4,
    color: 'linear-gradient(135deg,#0a100a 0%,#102010 100%)',
    accentColor: '#00e676',
    desc: 'DivisÃ£o superior/inferior 4 dias. Cada segmento treinado 2x por semana com variaÃ§Ã£o de volume e intensidade. Excelente para progressÃ£o de forÃ§a e hipertrofia.',
    schedule: [
      { day: 'SEG', name: 'Upper A â€” Foco ForÃ§a', exercises: ['Supino Reto 4Ã—5','Remada Curvada 4Ã—5','Desenvolvimento Militar 3Ã—6','Barra Fixa Lastrada 3Ã—6','Rosca Direta 3Ã—10','TrÃ­ceps Pulley 3Ã—10'] },
      { day: 'TER', name: 'Lower A â€” Foco ForÃ§a', exercises: ['Agachamento Livre 5Ã—5','Stiff 3Ã—6','Leg Press 3Ã—8','FlexÃ£o de Perna 3Ã—10','ExtensÃ£o de Perna 3Ã—12','Panturrilha 4Ã—15'] },
      { day: 'QUI', name: 'Upper B â€” Foco Volume', exercises: ['Supino Inclinado 4Ã—10','Puxada Frontal 4Ã—12','ElevaÃ§Ã£o Lateral 4Ã—15','Remada Unilateral 3Ã—12 cada','Crossover no Cabo 3Ã—15','Rosca Alternada 3Ã—12','TrÃ­ceps FrancÃªs 3Ã—12'] },
      { day: 'SEX', name: 'Lower B â€” Foco Volume', exercises: ['Hip Thrust 5Ã—12','Agachamento BÃºlgaro 3Ã—12 cada','ExtensÃ£o de Perna 4Ã—15','FlexÃ£o de Perna 4Ã—15','Cadeira Adutora 3Ã—20','Cadeira Abdutora 3Ã—20','Panturrilha no Leg Press 4Ã—20'] },
    ]
  },
  {
    id: 9,
    name: 'INICIANTE TOTAL',
    goal: 'Condicionamento Geral',
    level: 'Iniciante',
    days: 3,
    color: 'linear-gradient(135deg,#1a1005 0%,#2a1a08 100%)',
    accentColor: '#ffb300',
    desc: 'O programa ideal para quem estÃ¡ comeÃ§ando. Full body 3 dias por semana com exercÃ­cios fundamentais e progressÃ£o simples de carga. Sem complicaÃ§Ã£o.',
    schedule: [
      { day: 'SEG', name: 'Full Body A', exercises: ['Agachamento Livre 3Ã—10','Supino Reto 3Ã—10','Remada Curvada 3Ã—10','Desenvolvimento 3Ã—10','Rosca Direta 2Ã—12','TrÃ­ceps Pulley 2Ã—12','Prancha 3Ã—30s'] },
      { day: 'QUA', name: 'Full Body B', exercises: ['Leg Press 3Ã—12','Supino Inclinado 3Ã—10','Puxada Frontal 3Ã—12','ElevaÃ§Ã£o Lateral 3Ã—12','Rosca Martelo 2Ã—12','Pushdown 2Ã—12','Abdominal Crunch 3Ã—20'] },
      { day: 'SEX', name: 'Full Body C', exercises: ['Agachamento SumÃ´ 3Ã—12','Stiff 3Ã—10','Crucifixo 3Ã—12','Remada Unilateral 3Ã—10 cada','Rosca Scott 2Ã—12','TrÃ­ceps FrancÃªs 2Ã—12','Prancha Lateral 3Ã—30s cada'] },
    ]
  },
  {
    id: 10,
    name: '5x5 STRONGLIFTS',
    goal: 'ForÃ§a MÃ¡xima',
    level: 'Inicianteâ€“Interm.',
    days: 3,
    color: 'linear-gradient(135deg,#150505 0%,#200a0a 100%)',
    accentColor: '#ff6e40',
    desc: 'O clÃ¡ssico Stronglifts 5Ã—5. Apenas 5 exercÃ­cios compostos, progressÃ£o de 2,5kg por treino. O programa mais testado e comprovado para ganho de forÃ§a bruta.',
    schedule: [
      { day: 'SEG', name: 'Treino A', exercises: ['Agachamento Livre 5Ã—5 (+ 2,5kg/treino)','Supino Reto 5Ã—5 (+ 2,5kg/treino)','Remada Curvada 5Ã—5 (+ 2,5kg/treino)'] },
      { day: 'QUA', name: 'Treino B', exercises: ['Agachamento Livre 5Ã—5 (+ 2,5kg/treino)','Desenvolvimento Militar 5Ã—5 (+ 2,5kg/treino)','Levantamento Terra 1Ã—5 (+ 5kg/treino)'] },
      { day: 'SEX', name: 'Treino A (repetir)', exercises: ['Agachamento Livre 5Ã—5','Supino Reto 5Ã—5','Remada Curvada 5Ã—5','Obs: alterne A e B a cada semana'] },
    ]
  },
  {
    id: 11,
    name: 'DEFINIÃ‡ÃƒO TOTAL',
    goal: 'DefiniÃ§Ã£o Muscular',
    level: 'IntermediÃ¡rio',
    days: 5,
    color: 'linear-gradient(135deg,#0a0a15 0%,#10101f 100%)',
    accentColor: '#40c4ff',
    desc: 'Protocolo de 5 dias para definiÃ§Ã£o mÃ¡xima. Altas repetiÃ§Ãµes, pouco descanso e superseries estratÃ©gicas. Ideal para quem quer manter massa e queimar gordura.',
    schedule: [
      { day: 'SEG', name: 'Peito + TrÃ­ceps (superseries)', exercises: ['SS: Supino Reto 4Ã—15 + Crossover 4Ã—20','SS: Supino Inclinado 3Ã—15 + Peck Deck 3Ã—20','SS: TrÃ­ceps Pulley 4Ã—20 + TrÃ­ceps FrancÃªs 4Ã—15','Prancha 3Ã—45s'] },
      { day: 'TER', name: 'Costas + BÃ­ceps (superseries)', exercises: ['SS: Puxada Frontal 4Ã—15 + Remada Cabo 4Ã—15','SS: Remada Unilateral 3Ã—15 + Face Pull 3Ã—20','SS: Rosca Direta 4Ã—20 + Rosca Martelo 4Ã—15','SS: Rosca Scott 3Ã—15 + Rosca no Cabo 3Ã—20'] },
      { day: 'QUA', name: 'Pernas + Core', exercises: ['Agachamento com Salto 4Ã—20','Leg Press 4Ã—20','ExtensÃ£o de Perna 4Ã—20','FlexÃ£o de Perna 4Ã—20','Russian Twist 3Ã—30','ElevaÃ§Ã£o de Pernas 3Ã—20','Bicicleta (Bicycle Crunch) 3Ã—30'] },
      { day: 'QUI', name: 'Ombros + PescoÃ§o', exercises: ['SS: Desenvolvimento 4Ã—15 + ElevaÃ§Ã£o Lateral 4Ã—20','SS: ElevaÃ§Ã£o Frontal 3Ã—15 + ElevaÃ§Ã£o Posterior 3Ã—20','SS: Desenvolvimento Arnold 3Ã—15 + ElevaÃ§Ã£o Lateral Cabo 3Ã—20','Encolhimento de Ombros 4Ã—20'] },
      { day: 'SEX', name: 'GlÃºteos + HIIT', exercises: ['Hip Thrust 5Ã—20','Agachamento BÃºlgaro 4Ã—15 cada','Cadeira Abdutora 4Ã—25','GlÃºteo 4 Apoios 4Ã—20 cada','Burpee 4Ã—15','Mountain Climber 4Ã—45s','Corda de Pular 3Ã—2min'] },
    ]
  },
  {
    id: 12,
    name: 'CORRIDA + MUSCULAÃ‡ÃƒO',
    goal: 'Condicionamento & SaÃºde',
    level: 'Iniciante',
    days: 5,
    color: 'linear-gradient(135deg,#051515 0%,#0a2020 100%)',
    accentColor: '#00bcd4',
    desc: 'Combina musculaÃ§Ã£o com treino aerÃ³bico. Perfeito para quem quer saÃºde cardiovascular e corpo definido ao mesmo tempo. 5 dias variados.',
    schedule: [
      { day: 'SEG', name: 'MusculaÃ§Ã£o â€” Peito & Costas', exercises: ['Supino Reto 3Ã—12','Puxada Frontal 3Ã—12','Supino Inclinado 3Ã—10','Remada Sentado 3Ã—12','Crossover 3Ã—15','Face Pull 3Ã—15'] },
      { day: 'TER', name: 'Corrida intervalada 35min', exercises: ['Aquecimento 5min caminhada','10Ã— (1min corrida forte + 1min caminhada)','Descanso ativo 5min ao final','Estique: panturrilha, quadrÃ­ceps, isquio'] },
      { day: 'QUA', name: 'MusculaÃ§Ã£o â€” Pernas & Core', exercises: ['Agachamento Livre 3Ã—12','Leg Press 3Ã—15','Stiff 3Ã—12','Hip Thrust 3Ã—15','Prancha 3Ã—45s','Russian Twist 3Ã—25'] },
      { day: 'QUI', name: 'Corrida longa 40â€“50min', exercises: ['Ritmo confortÃ¡vel (conversa fÃ¡cil)','Objetivo: completar sem parar','Fique dentro de 65â€“75% da FC mÃ¡x','Hidrate a cada 15min'] },
      { day: 'SEX', name: 'MusculaÃ§Ã£o â€” BraÃ§os & Ombros', exercises: ['Desenvolvimento 3Ã—12','ElevaÃ§Ã£o Lateral 4Ã—15','Rosca Direta 3Ã—12','TrÃ­ceps Pulley 3Ã—12','Rosca Martelo 3Ã—12','TrÃ­ceps FrancÃªs 3Ã—12'] },
    ]
  }
];

function renderSuggestedPlans() {
  document.getElementById('plan-grid').innerHTML = suggestedPlans.map(p => `
    <div class="plan-card">
      <div class="plan-banner" style="background:${p.color}">
        <div>
          <div class="plan-banner-title" style="color:${p.accentColor}">${p.name}</div>
        </div>
        <div class="plan-banner-icon">
          <svg width="52" height="52" viewBox="0 0 24 24" fill="none" stroke="${p.accentColor}" stroke-width="1.2" stroke-linecap="round" opacity="0.7">
            <rect x="1" y="11" width="3" height="3" rx="1"/><rect x="20" y="11" width="3" height="3" rx="1"/>
            <rect x="4" y="10" width="2" height="5" rx="1"/><rect x="18" y="10" width="2" height="5" rx="1"/>
            <line x1="6" y1="12.5" x2="18" y2="12.5"/>
          </svg>
        </div>
        <div class="plan-banner-bg">${p.name.split(' ')[0]}</div>
      </div>
      <div class="plan-body">
        <div class="plan-tags">
          <span class="plan-tag objetivo">${p.goal}</span>
          <span class="plan-tag nivel">${p.level}</span>
          <span class="plan-tag dias">${p.days}x / semana</span>
        </div>
        <div class="plan-desc">${p.desc}</div>
        <div class="plan-days">
          ${p.schedule.map(s => `
            <div class="plan-day">
              <div class="plan-day-label">${s.day}</div>
              <div>
                <div class="plan-day-name">${s.name}</div>
                <div class="plan-day-exs">${s.exercises.slice(0,3).join(' Â· ')}${s.exercises.length > 3 ? ` +${s.exercises.length-3} mais` : ''}</div>
              </div>
            </div>`).join('')}
        </div>
        <button class="plan-start-btn" onclick="importPlan(${p.id})">Usar este treino</button>
      </div>
    </div>`).join('');
}

function importPlan(id) {
  const plan = suggestedPlans.find(p => p.id === id);
  if (!plan) return;
  // Save each day as a separate workout
  plan.schedule.forEach(day => {
    const w = {
      id: Date.now() + Math.random(),
      name: `${plan.name} â€” ${day.name}`,
      date: new Date().toLocaleDateString('pt-BR'),
      exercises: day.exercises.map(exStr => {
        const parts = exStr.split(' ');
        const setsReps = parts.pop();
        const name = parts.join(' ').replace(/\d+Ã—/,'').trim();
        const [s, r] = setsReps.includes('Ã—') ? setsReps.split('Ã—') : ['3','10â€“12'];
        const found = exercises.find(e => e.name.toLowerCase().includes(name.toLowerCase().substring(0,6)));
        return { name: exStr.replace(/\d+Ã—[^ ]+/,'').trim(), muscle: found?.muscle || 'Variado', id: found?.id || null, series: s, reps: r, rest: '60s' };
      })
    };
    savedWorkouts.unshift(w);
  });
  localStorage.setItem(getUserKey('workouts'), JSON.stringify(savedWorkouts));
  showPage('workout');
}

// ============================================================
// CUSTOM DIET CALCULATOR
// ============================================================
let selectedObj = 'emagrecer';

function selectObj(btn, obj) {
  document.querySelectorAll('.obj-btn').forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');
  selectedObj = obj;
}

function calcDiet() {
  try {
  const peso = parseFloat(document.getElementById('dc-peso').value);
  const altura = parseFloat(document.getElementById('dc-altura').value);
  const idade = parseFloat(document.getElementById('dc-idade').value);
  const sexo = document.getElementById('dc-sexo').value;
  const atividade = parseFloat(document.getElementById('dc-atividade').value);

  if (isNaN(peso) || isNaN(altura) || isNaN(idade) || peso < 30 || altura < 100 || idade < 10) {
    alert('Preencha todos os campos corretamente antes de calcular!');
    return;
  }

  // Mifflin-St Jeor
  let tmb;
  if (sexo === 'm') {
    tmb = 10 * peso + 6.25 * altura - 5 * idade + 5;
  } else {
    tmb = 10 * peso + 6.25 * altura - 5 * idade - 161;
  }

  const tdee = Math.round(tmb * atividade);

  let kcal, objLabel, objColor, deficit;
  if (selectedObj === 'emagrecer') {
    deficit = Math.min(500, Math.max(300, tdee * 0.2));
    kcal = Math.round(tdee - deficit);
    objLabel = 'EMAGRECER';
    objColor = 'var(--accent)';
  } else if (selectedObj === 'manter') {
    kcal = tdee;
    objLabel = 'MANTER PESO';
    objColor = 'var(--accent2)';
  } else {
    deficit = Math.round(tdee * 0.12);
    kcal = Math.round(tdee + deficit);
    objLabel = 'GANHAR MASSA';
    objColor = 'var(--green)';
  }

  // Macros
  let protG, carbG, gordG;
  if (selectedObj === 'emagrecer') {
    protG = Math.round(peso * 2.0);           // 2g/kg
    gordG = Math.round(kcal * 0.25 / 9);
    carbG = Math.round((kcal - protG*4 - gordG*9) / 4);
  } else if (selectedObj === 'manter') {
    protG = Math.round(peso * 1.8);
    gordG = Math.round(kcal * 0.28 / 9);
    carbG = Math.round((kcal - protG*4 - gordG*9) / 4);
  } else {
    protG = Math.round(peso * 2.2);           // 2.2g/kg para ganho
    gordG = Math.round(kcal * 0.25 / 9);
    carbG = Math.round((kcal - protG*4 - gordG*9) / 4);
  }

  // Generate meal plan
  const meals = generateMealPlan(kcal, protG, carbG, gordG, selectedObj, peso);

  // Render macros
  document.getElementById('result-macros').innerHTML = `
    <div class="result-macro kcal">
      <div class="result-macro-val">${kcal}</div>
      <div class="result-macro-unit">KCAL / DIA</div>
      <div class="result-macro-name">Calorias</div>
    </div>
    <div class="result-macro prot">
      <div class="result-macro-val">${protG}g</div>
      <div class="result-macro-unit">${Math.round(protG*4/kcal*100)}% das kcal</div>
      <div class="result-macro-name">ProteÃ­na</div>
    </div>
    <div class="result-macro carb">
      <div class="result-macro-val">${carbG}g</div>
      <div class="result-macro-unit">${Math.round(carbG*4/kcal*100)}% das kcal</div>
      <div class="result-macro-name">Carboidratos</div>
    </div>
    <div class="result-macro gord">
      <div class="result-macro-val">${gordG}g</div>
      <div class="result-macro-unit">${Math.round(gordG*9/kcal*100)}% das kcal</div>
      <div class="result-macro-name">Gorduras</div>
    </div>`;

  // Render meal plan
  document.getElementById('result-plan').innerHTML = `
    <div class="result-plan-header">
      <div class="result-plan-title">PLANO ALIMENTAR â€” ${objLabel}</div>
      <span style="font-size:0.75rem;color:var(--muted);font-family:'Space Mono',monospace;">${kcal} kcal Â· ${peso}kg</span>
    </div>
    <div class="meal-rows">
      ${meals.map(m => `
        <div class="meal-row">
          <div class="meal-time">${m.time}</div>
          <div class="meal-details">
            <div class="meal-name" style="display:flex;align-items:center;gap:6px;">
              <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="${objColor}" stroke-width="2" stroke-linecap="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
              ${m.name}
            </div>
            <div class="meal-items">${m.foods}</div>
          </div>
          <div class="meal-cal">~${m.kcal} kcal</div>
        </div>`).join('')}
    </div>`;

  // Tips
  const tips = getDietTips(selectedObj, peso, kcal, protG);
  document.getElementById('result-tips').innerHTML = tips.map(t => `
    <div class="result-tip">
      <div class="result-tip-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="${objColor}" stroke-width="1.5" stroke-linecap="round">${t.icon}</svg>
      </div>
      <div class="result-tip-title">${t.title}</div>
      <div class="result-tip-text">${t.text}</div>
    </div>`).join('');

  document.getElementById('diet-result').classList.add('visible');
  document.getElementById('diet-result').scrollIntoView({ behavior: 'smooth', block: 'start' });

  // animate button
  const btn = document.querySelector('.dc-calc-btn');
  btn.textContent = 'âœ“ Dieta Calculada!';
  btn.style.background = 'var(--green)';
  btn.style.color = '#000';
  setTimeout(() => { btn.textContent = 'Calcular Minha Dieta'; btn.style.background = ''; btn.style.color = ''; }, 2500);

  } catch(err) {
    console.error('Erro ao calcular dieta:', err);
    alert('Ocorreu um erro ao calcular. Verifique os dados e tente novamente.');
  }
}

function generateMealPlan(kcal, prot, carb, gord, obj, peso) {
  // Distribute calories across 6 meals with smart ratios
  const dist = obj === 'emagrecer'
    ? [0.20, 0.10, 0.28, 0.12, 0.20, 0.10]   // maiores refeiÃ§Ãµes, lanchinhos menores
    : obj === 'ganhar'
    ? [0.18, 0.12, 0.25, 0.14, 0.08, 0.23]   // pÃ³s-treino grande
    : [0.20, 0.10, 0.27, 0.13, 0.22, 0.08];

  const meals = [
    { time: '07:00', name: 'CafÃ© da manhÃ£', foods: '', kcal: 0 },
    { time: '10:00', name: 'Lanche da manhÃ£', foods: '', kcal: 0 },
    { time: '12:30', name: 'AlmoÃ§o', foods: '', kcal: 0 },
    { time: '16:00', name: 'PrÃ©-treino', foods: '', kcal: 0 },
    { time: '19:00', name: 'PÃ³s-treino', foods: '', kcal: 0 },
    { time: '21:00', name: 'Jantar', foods: '', kcal: 0 },
  ];

  const mealFoods = {
    emagrecer: [
      `${Math.round(peso*0.3)}g de aveia com canela + 3 claras + 1 ovo inteiro + cafÃ© sem aÃ§Ãºcar`,
      `1 iogurte grego sem aÃ§Ãºcar (170g) + 10 morangos + 15g de whey misturado`,
      `${Math.round(peso*1.5)}g de frango grelhado + salada grande (folhas, tomate, pepino) + 1 fio de azeite`,
      `1 banana + 1 col. de pasta de amendoim + cafÃ© preto`,
      `40g de whey protein + 200ml de Ã¡gua ou leite desnatado`,
      `${Math.round(peso*1.2)}g de peixe (tilÃ¡pia/salmÃ£o) + brÃ³colis e abobrinha refogados + 1 fio de azeite`
    ],
    manter: [
      `${Math.round(peso*0.4)}g de aveia + 3 ovos mexidos + 1 fatia pÃ£o integral + cafÃ©`,
      `1 iogurte grego + 30g de granola + frutas vermelhas`,
      `${Math.round(peso*1.8)}g de frango + ${Math.round(peso*1.2)}g de arroz integral + feijÃ£o + salada`,
      `1 banana + 20g de amendoim + suplemento prÃ©-treino (opcional)`,
      `40g de whey + 1 banana + 50g de aveia`,
      `${Math.round(peso*1.5)}g de carne magra ou peixe + batata-doce (${Math.round(peso*1.5)}g) + legumes`
    ],
    ganhar: [
      `${Math.round(peso*0.6)}g de aveia + 4 ovos + 2 fatias pÃ£o integral + manteiga de amendoim + leite`,
      `1 iogurte grego integral + 40g de granola + 1 banana + mel`,
      `${Math.round(peso*2)}g de frango + ${Math.round(peso*2)}g de arroz + feijÃ£o + azeite + salada`,
      `${Math.round(peso*1.5)}g de batata-doce + 20g de whey + 1 banana â€” 45min antes do treino`,
      `40g de whey + 50g de maltodextrina ou dextrose + 1 banana â€” logo apÃ³s o treino`,
      `${Math.round(peso*1.8)}g de carne vermelha magra + ${Math.round(peso*1.5)}g de macarrÃ£o integral + legumes + queijo cottage`
    ]
  };

  meals.forEach((m, i) => {
    m.kcal = Math.round(kcal * dist[i]);
    m.foods = mealFoods[obj][i];
  });

  return meals;
}

function getDietTips(obj, peso, kcal, prot) {
  const base = [
    {
      icon: '<circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>',
      title: 'DistribuiÃ§Ã£o proteica',
      text: `Consuma ${prot}g de proteÃ­na distribuÃ­dos em pelo menos 5 refeiÃ§Ãµes (${Math.round(prot/5)}g cada). Isso maximiza a sÃ­ntese muscular ao longo do dia.`
    },
    {
      icon: '<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"/>',
      title: 'HidrataÃ§Ã£o',
      text: `Beba ${(peso * 0.035).toFixed(1)}â€“${(peso * 0.04).toFixed(1)}L de Ã¡gua por dia (${peso}kg Ã— 35â€“40ml). Aumente em 500ml nos dias de treino.`
    }
  ];

  const specific = {
    emagrecer: [
      {
        icon: '<polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/>',
        title: 'DÃ©ficit inteligente',
        text: `Seu dÃ©ficit Ã© de ${Math.round(kcal * 0.18)} kcal/dia. Nunca fique abaixo de ${Math.max(1200, kcal - 200)} kcal para nÃ£o perder massa muscular.`
      },
      {
        icon: '<path d="M18 8h1a4 4 0 0 1 0 8h-1"/><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/>',
        title: 'ProteÃ­na alta para emagrecer',
        text: `Manter 2g/kg de proteÃ­na durante o dÃ©ficit protege a massa muscular. ${prot}g/dia Ã© sua meta â€” nÃ£o abra mÃ£o disso.`
      },
      {
        icon: '<rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/>',
        title: 'Dia de recarga (Refeed)',
        text: 'A cada 7â€“10 dias, consuma as calorias de manutenÃ§Ã£o por 1 dia. Isso reseta hormÃ´nios e evita adaptaÃ§Ã£o metabÃ³lica ao dÃ©ficit.'
      }
    ],
    manter: [
      {
        icon: '<line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/>',
        title: 'Monitore semanalmente',
        text: 'Pese-se toda semana no mesmo horÃ¡rio. VariaÃ§Ãµes de 1â€“2kg sÃ£o normais (Ã¡gua, glicogÃªnio). Observe a tendÃªncia de 2â€“3 semanas.'
      },
      {
        icon: '<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>',
        title: 'ConsistÃªncia Ã© o segredo',
        text: 'Para manter o peso, o foco Ã© na consistÃªncia semanal â€” nÃ£o diÃ¡ria. Um jantar mais calÃ³rico Ã© ok se a semana fechar no alvo.'
      }
    ],
    ganhar: [
      {
        icon: '<polyline points="23 18 13.5 8.5 8.5 13.5 1 6"/><polyline points="17 18 23 18 23 12"/>',
        title: 'SuperÃ¡vit limpo',
        text: `SuperÃ¡vit de ~${Math.round(kcal * 0.12)} kcal. Ganho ideal: 0,5â€“1% do peso corporal por mÃªs (${(peso*0.005).toFixed(1)}â€“${(peso*0.01).toFixed(1)}kg). Mais rÃ¡pido = mais gordura.`
      },
      {
        icon: '<circle cx="12" cy="8" r="4"/><path d="M12 14c-5 0-8 2.5-8 5h16c0-2.5-3-5-8-5z"/>',
        title: 'Coma mais vezes',
        text: 'Para consumir mais calorias sem desconforto, divida em 6â€“7 refeiÃ§Ãµes. Shakes hipercalÃ³ricos caseiros (aveia + banana + leite + pasta de amendoim) ajudam muito.'
      },
      {
        icon: '<path d="M18 8h1a4 4 0 0 1 0 8h-1"/><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/>',
        title: 'PÃ³s-treino Ã© prioridade',
        text: 'Nos 30 min pÃ³s-treino, consuma 40g de proteÃ­na + carboidratos de alto Ã­ndice glicÃªmico (maltodextrina, banana, dextrose). Essa janela Ã© ouro para crescimento.'
      }
    ]
  };

  return [...base, ...(specific[obj] || [])];
}

// Auth system handles init (restoreSession runs on load)

// ============================================================
// 1. THEME TOGGLE
// ============================================================
function toggleTheme() {
  const isLight = document.body.classList.toggle('light');
  localStorage.setItem('forja_theme', isLight ? 'light' : 'dark');
  const icon = document.getElementById('theme-icon');
  if (isLight) {
    icon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>';
  } else {
    icon.innerHTML = '<circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>';
  }
}

// Apply saved theme on login
function applyTheme() {
  const saved = localStorage.getItem('forja_theme');
  if (saved === 'light') {
    document.body.classList.add('light');
    const icon = document.getElementById('theme-icon');
    if (icon) icon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>';
  }
}

// ============================================================
// 2. REST TIMER
// ============================================================
let restTimerInterval = null;
let restTimerSeconds  = 0;
let restTimerTotal    = 0;
const RT_CIRCUM       = 603; // 2Ï€ Ã— 96

function startRestTimer(seconds, exerciseName) {
  restTimerSeconds = seconds;
  restTimerTotal   = seconds;
  document.getElementById('rt-seconds').textContent = seconds;
  document.getElementById('rt-ex-name').textContent = exerciseName ? `PrÃ³ximo: ${exerciseName}` : '';
  document.getElementById('rest-timer-overlay').classList.add('open');
  updateRtCircle();
  clearInterval(restTimerInterval);
  restTimerInterval = setInterval(() => {
    restTimerSeconds--;
    document.getElementById('rt-seconds').textContent = restTimerSeconds;
    updateRtCircle();
    if (restTimerSeconds <= 0) {
      clearInterval(restTimerInterval);
      document.getElementById('rt-seconds').textContent = '0';
      document.getElementById('rt-circle').classList.add('green');
      // vibrate if supported
      if (navigator.vibrate) navigator.vibrate([300, 100, 300]);
      // beep
      playBeep();
      setTimeout(() => closeRestTimer(), 1500);
    }
  }, 1000);
}

function updateRtCircle() {
  const frac   = restTimerSeconds / restTimerTotal;
  const offset = RT_CIRCUM * (1 - frac);
  const circle = document.getElementById('rt-circle');
  circle.style.strokeDashoffset = offset;
  circle.classList.remove('green');
  circle.style.stroke = restTimerSeconds <= 5 ? '#ffb300' : 'var(--accent)';
}

function addRestTime(s) {
  restTimerSeconds += s;
  restTimerTotal   += s;
}

function skipRest()        { clearInterval(restTimerInterval); closeRestTimer(); }
function closeRestTimer()  {
  document.getElementById('rest-timer-overlay').classList.remove('open');
  clearInterval(restTimerInterval);
  document.getElementById('rt-circle').classList.remove('green');
}

function playBeep() {
  try {
    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    [0, 0.15, 0.30].forEach(t => {
      const osc = ctx.createOscillator();
      const gain = ctx.createGain();
      osc.connect(gain); gain.connect(ctx.destination);
      osc.frequency.value = 880;
      gain.gain.setValueAtTime(0.4, ctx.currentTime + t);
      gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + t + 0.12);
      osc.start(ctx.currentTime + t);
      osc.stop(ctx.currentTime + t + 0.12);
    });
  } catch(e) {}
}

// ============================================================
// 3. ACTIVE WORKOUT MODE
// ============================================================
let awWorkout       = null;
let awCurrentEx     = 0;
let awSetsDone      = {};   // { exIdx: [setIdx, ...] }
let awWeights       = {};   // { exIdx_setIdx: weight }
let awStartTime     = null;
let awElapsedTimer  = null;

function startActiveWorkout(workout) {
  if (!workout || !workout.exercises.length) return;
  awWorkout     = workout;
  awCurrentEx   = 0;
  awSetsDone    = {};
  awWeights     = {};
  awStartTime   = Date.now();

  document.getElementById('aw-title').textContent = workout.name;
  clearInterval(awElapsedTimer);
  awElapsedTimer = setInterval(updateAwElapsed, 1000);

  renderAwBody();
  document.getElementById('active-workout-overlay').classList.add('open');
}

function updateAwElapsed() {
  const secs  = Math.floor((Date.now() - awStartTime) / 1000);
  const mm    = String(Math.floor(secs / 60)).padStart(2,'0');
  const ss    = String(secs % 60).padStart(2,'0');
  document.getElementById('aw-elapsed').textContent = mm + ':' + ss;
}

function renderAwBody() {
  const exs = awWorkout.exercises;
  const total = exs.length;
  const done  = Object.keys(awSetsDone).filter(i => {
    const sets = parseInt(exs[i].series) || 3;
    return (awSetsDone[i]||[]).length >= sets;
  }).length;

  document.getElementById('aw-progress-fill').style.width  = (done/total*100) + '%';
  document.getElementById('aw-progress-label').textContent = `${done} de ${total} exercÃ­cios`;

  document.getElementById('aw-body').innerHTML = exs.map((ex, i) => {
    const sets    = parseInt(ex.series) || 3;
    const isDone  = (awSetsDone[i]||[]).length >= sets;
    const isCur   = i === awCurrentEx;
    const setRows = Array.from({length: sets}, (_,s) => {
      const setDone = (awSetsDone[i]||[]).includes(s);
      const wKey    = `${i}_${s}`;
      return `
        <div class="aw-set-row ${setDone ? 'done-set' : ''}" onclick="toggleAwSet(${i},${s})">
          <div class="aw-set-num">SÃ‰RIE ${s+1}</div>
          <div class="aw-set-info">${ex.reps} reps</div>
          <div class="aw-set-weight">
            <input type="number" placeholder="kg" value="${awWeights[wKey]||''}"
              onclick="event.stopPropagation()"
              onchange="awWeights['${wKey}']=this.value"
              style="width:52px;">
          </div>
          <div class="aw-set-check">
            ${setDone ? '<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>' : ''}
          </div>
        </div>`;
    }).join('');

    return `
      <div class="aw-ex-card ${isCur ? 'current' : ''} ${isDone ? 'done' : ''}">
        <div class="aw-ex-header">
          <div class="aw-ex-num">${isDone ? 'âœ“' : String(i+1).padStart(2,'0')}</div>
          <div class="aw-ex-info">
            <div class="aw-ex-name">${ex.name}</div>
            <div class="aw-ex-muscle">${ex.muscle||''}</div>
          </div>
          <div style="font-family:'Space Mono',monospace;font-size:0.7rem;color:var(--muted);">
            ${sets}Ã—${ex.reps} Â· ${ex.rest}
          </div>
        </div>
        ${isCur || isDone ? `<div class="aw-sets">${setRows}</div>` : ''}
      </div>`;
  }).join('');
}

function toggleAwSet(exIdx, setIdx) {
  if (!awSetsDone[exIdx]) awSetsDone[exIdx] = [];
  const arr = awSetsDone[exIdx];
  const pos = arr.indexOf(setIdx);
  if (pos === -1) {
    arr.push(setIdx);
    const ex   = awWorkout.exercises[exIdx];
    const sets = parseInt(ex.series) || 3;
    const rest = parseInt(ex.rest) || 60;
    if (arr.length < sets) startRestTimer(rest, ex.name);
    else if (arr.length === sets) {
      // auto-advance
      const nextEx = awWorkout.exercises[awCurrentEx + 1];
      startRestTimer(rest, nextEx?.name);
    }
  } else {
    arr.splice(pos, 1);
  }
  renderAwBody();
}

function nextExercise() {
  const exs  = awWorkout.exercises;
  const sets = parseInt(exs[awCurrentEx]?.series) || 3;
  if (!awSetsDone[awCurrentEx]) awSetsDone[awCurrentEx] = [];
  // mark remaining sets done
  for (let s = 0; s < sets; s++) {
    if (!awSetsDone[awCurrentEx].includes(s)) awSetsDone[awCurrentEx].push(s);
  }
  if (awCurrentEx < exs.length - 1) {
    awCurrentEx++;
    renderAwBody();
    // scroll to current card
    setTimeout(() => {
      document.querySelectorAll('.aw-ex-card.current')[0]?.scrollIntoView({behavior:'smooth',block:'center'});
    }, 100);
  } else {
    finishWorkout();
  }
}

function confirmEndWorkout() {
  if (confirm('Encerrar o treino agora?')) finishWorkout();
}

function finishWorkout() {
  clearInterval(awElapsedTimer);
  const elapsed   = Math.floor((Date.now() - awStartTime) / 1000);
  const mm        = Math.floor(elapsed/60);
  const ss        = elapsed % 60;
  const wName     = awWorkout?.name || 'Treino';
  const wExCount  = awWorkout?.exercises?.length || 0;

  // Save to history
  const entry = {
    id:       Date.now(),
    name:     wName,
    date:     new Date().toLocaleDateString('pt-BR'),
    dateISO:  new Date().toISOString().split('T')[0],
    duration: `${mm}min${ss > 0 ? ` ${ss}s` : ''}`,
    exercises: wExCount,
    sets:      Object.values(awSetsDone).reduce((a,b) => a + b.length, 0)
  };
  const history = JSON.parse(localStorage.getItem(getUserKey('history')) || '[]');
  history.unshift(entry);
  localStorage.setItem(getUserKey('history'), JSON.stringify(history));

  document.getElementById('active-workout-overlay').classList.remove('open');
  awWorkout = null;

  showNotif('ðŸ† Treino concluÃ­do!', `${wName} â€” ${mm}min. Salvo no histÃ³rico!`);
  showPage('history');
}

// ============================================================
// 4. PROGRESS TRACKER
// ============================================================
function renderProgressPage() {
  const sel = document.getElementById('prog-ex-select');
  if (sel.options.length <= 1) {
    exercises.forEach(e => {
      const opt = document.createElement('option');
      opt.value = e.id;
      opt.textContent = `${e.name} (${e.muscle})`;
      sel.appendChild(opt);
    });
  }
  renderProgressChart();
}

function getProgressData() {
  return JSON.parse(localStorage.getItem(getUserKey('progress')) || '{}');
}

function renderProgressChart() {
  const exId = document.getElementById('prog-ex-select').value;
  const container = document.getElementById('prog-chart-container');
  const histDiv   = document.getElementById('prog-history-list');

  if (!exId) {
    container.innerHTML = '<div class="sparkline-empty">Selecione um exercÃ­cio para ver o grÃ¡fico</div>';
    histDiv.innerHTML   = '<div style="padding:32px;text-align:center;color:var(--muted);font-size:0.85rem;">Selecione um exercÃ­cio acima</div>';
    return;
  }

  const data = getProgressData();
  const logs = (data[exId] || []).slice().reverse(); // oldest first

  if (!logs.length) {
    container.innerHTML = '<div class="sparkline-empty">Nenhum registro ainda para este exercÃ­cio</div>';
    histDiv.innerHTML   = '<div style="padding:32px;text-align:center;color:var(--muted);font-size:0.85rem;">Nenhum registro. Use o formulÃ¡rio abaixo.</div>';
    return;
  }

  // Draw SVG sparkline
  const W = 600, H = 140, PAD = 30;
  const vals   = logs.map(l => parseFloat(l.weight) || 0);
  const minV   = Math.min(...vals);
  const maxV   = Math.max(...vals);
  const range  = maxV - minV || 1;
  const pts    = logs.map((l,i) => {
    const x = PAD + (i / Math.max(logs.length-1,1)) * (W - PAD*2);
    const y = H - PAD - ((parseFloat(l.weight)||0) - minV) / range * (H - PAD*2);
    return [x,y];
  });

  const polyline = pts.map(p => p.join(',')).join(' ');
  const area     = `${PAD},${H-PAD} ` + polyline + ` ${W-PAD},${H-PAD}`;

  container.innerHTML = `
    <svg viewBox="0 0 ${W} ${H}" class="sparkline" preserveAspectRatio="none">
      <defs>
        <linearGradient id="grad" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="var(--accent)" stop-opacity="0.3"/>
          <stop offset="100%" stop-color="var(--accent)" stop-opacity="0"/>
        </linearGradient>
      </defs>
      <polygon points="${area}" fill="url(#grad)"/>
      <polyline points="${polyline}" fill="none" stroke="var(--accent)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
      ${pts.map((p,i) => `
        <circle cx="${p[0]}" cy="${p[1]}" r="4" fill="var(--accent)"/>
        <text x="${p[0]}" y="${p[1]-10}" text-anchor="middle" fill="var(--text)" font-size="11" font-family="Space Mono,monospace">${vals[i]}kg</text>
      `).join('')}
      <text x="${PAD}" y="${H-8}" fill="var(--muted)" font-size="10" font-family="Space Mono,monospace">${logs[0]?.date}</text>
      <text x="${W-PAD}" y="${H-8}" text-anchor="end" fill="var(--muted)" font-size="10" font-family="Space Mono,monospace">${logs[logs.length-1]?.date}</text>
    </svg>`;

  // Render history
  const sorted = [...(data[exId]||[])]; // newest first
  histDiv.innerHTML = sorted.map((l,i) => `
    <div class="prog-entry">
      <div class="prog-date">${l.date}</div>
      <div class="prog-weight">${l.weight}kg</div>
      <div class="prog-reps">${l.reps} reps${l.note ? ` Â· ${l.note}` : ''}</div>
      <button class="prog-del" onclick="deleteProgress('${exId}',${i})" title="Excluir">âœ•</button>
    </div>`).join('');
}

function logProgress() {
  const exId   = document.getElementById('prog-ex-select').value;
  const weight = document.getElementById('prog-weight').value;
  const reps   = document.getElementById('prog-reps').value;
  const note   = document.getElementById('prog-note').value.trim();

  if (!exId) { alert('Selecione um exercÃ­cio!'); return; }
  if (!weight) { alert('Informe o peso!'); return; }

  const data = getProgressData();
  if (!data[exId]) data[exId] = [];
  data[exId].unshift({ weight: parseFloat(weight), reps: parseInt(reps)||0, note, date: new Date().toLocaleDateString('pt-BR') });
  localStorage.setItem(getUserKey('progress'), JSON.stringify(data));

  document.getElementById('prog-weight').value = '';
  document.getElementById('prog-reps').value   = '';
  document.getElementById('prog-note').value   = '';
  renderProgressChart();

  const btn = document.querySelector('#page-progress .wb-save-btn');
  btn.textContent = 'âœ“ Registrado!'; btn.style.background = 'var(--green)'; btn.style.color='#000';
  setTimeout(() => { btn.textContent='Registrar'; btn.style.background=''; btn.style.color=''; }, 1800);
}

function deleteProgress(exId, idx) {
  if (!confirm('Excluir este registro?')) return;
  const data = getProgressData();
  data[exId]?.splice(idx, 1);
  localStorage.setItem(getUserKey('progress'), JSON.stringify(data));
  renderProgressChart();
}

// ============================================================
// 5. WORKOUT HISTORY
// ============================================================
function renderHistoryPage() {
  const history = JSON.parse(localStorage.getItem(getUserKey('history')) || '[]');

  // Streak stats
  const dates   = [...new Set(history.map(h => h.dateISO))].sort();
  const total   = dates.length;
  let streak    = 0, maxStreak = 0, cur = 0;
  const today   = new Date().toISOString().split('T')[0];
  for (let i = dates.length - 1; i >= 0; i--) {
    const d = new Date(dates[i]);
    const diff = Math.round((new Date(i < dates.length-1 ? dates[i+1] : today) - d) / 86400000);
    if (diff <= 1) { cur++; maxStreak = Math.max(maxStreak, cur); }
    else cur = 1;
  }
  // current streak (consecutive from today)
  streak = 0;
  let checkDate = new Date(today);
  for (let i = dates.length - 1; i >= 0; i--) {
    const d = dates[i];
    const diff = Math.round((checkDate - new Date(d)) / 86400000);
    if (diff <= 1) { streak++; checkDate = new Date(d); }
    else break;
  }

  document.getElementById('history-streak').innerHTML = `
    <div class="streak-card"><div class="streak-val">${streak}</div><div class="streak-label">SequÃªncia atual (dias)</div></div>
    <div class="streak-card"><div class="streak-val">${maxStreak}</div><div class="streak-label">Maior sequÃªncia</div></div>
    <div class="streak-card"><div class="streak-val">${total}</div><div class="streak-label">Dias treinados</div></div>`;

  renderCalendar(history);

  // History list
  const listEl = document.getElementById('history-list');
  if (!history.length) {
    listEl.innerHTML = '<div style="background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:32px;text-align:center;color:var(--muted);">Nenhum treino registrado ainda. Use o <b>Modo Treino</b> para registrar automaticamente.</div>';
    return;
  }
  listEl.innerHTML = history.slice(0,30).map(h => `
    <div class="history-item">
      <div class="history-dot"></div>
      <div>
        <div class="history-name">${h.name}</div>
        <div style="font-size:0.75rem;color:var(--muted);font-family:'Space Mono',monospace;">${h.exercises} exercÃ­cios Â· ${h.sets} sÃ©ries</div>
      </div>
      <div style="text-align:right;">
        <div class="history-meta">${h.date}</div>
        <div class="history-duration">${h.duration}</div>
      </div>
    </div>`).join('');
}

let calMonth = new Date().getMonth();
let calYear  = new Date().getFullYear();

function renderCalendar(history) {
  const workoutDates = new Set(history.map(h => h.dateISO));
  const today = new Date().toISOString().split('T')[0];
  const cal   = document.getElementById('history-calendar');
  const firstDay = new Date(calYear, calMonth, 1).getDay();
  const daysInMonth = new Date(calYear, calMonth+1, 0).getDate();
  const monthNames = ['Janeiro','Fevereiro','MarÃ§o','Abril','Maio','Junho','Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'];
  const dayLabels  = ['Dom','Seg','Ter','Qua','Qui','Sex','SÃ¡b'];

  let html = `
    <div class="cal-header">
      <button type="button" class="cal-nav" onclick="changeCalMonth(-1)">â—€</button>
      <div class="cal-month">${monthNames[calMonth]} ${calYear}</div>
      <button type="button" class="cal-nav" onclick="changeCalMonth(1)">â–¶</button>
    </div>
    ${dayLabels.map(d => `<div class="cal-day-label">${d}</div>`).join('')}
    ${Array(firstDay).fill('<div class="cal-day empty"></div>').join('')}`;

  for (let d = 1; d <= daysInMonth; d++) {
    const iso  = `${calYear}-${String(calMonth+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
    const hasW = workoutDates.has(iso);
    const isT  = iso === today;
    html += `<div class="cal-day ${hasW?'has-workout':''} ${isT?'today':''}" title="${hasW?'Treino realizado':''}">${d}</div>`;
  }

  cal.innerHTML = html;
}

function changeCalMonth(delta) {
  calMonth += delta;
  if (calMonth < 0)  { calMonth = 11; calYear--; }
  if (calMonth > 11) { calMonth = 0;  calYear++; }
  const history = JSON.parse(localStorage.getItem(getUserKey('history')) || '[]');
  renderCalendar(history);
}

// ============================================================
// 6. IMC CALCULATOR
// ============================================================
function calcIMC() {
  const peso   = parseFloat(document.getElementById('imc-peso').value);
  const altura = parseFloat(document.getElementById('imc-altura').value) / 100;
  const idade  = parseFloat(document.getElementById('imc-idade').value);
  const sexo   = document.getElementById('imc-sexo').value;

  if (!peso || !altura || !idade) { alert('Preencha todos os campos!'); return; }

  const imc    = peso / (altura * altura);
  const imcStr = imc.toFixed(1);

  let classe, cor;
  if      (imc < 16)   { classe = 'Magreza grave';    cor = '#00e676'; }
  else if (imc < 17)   { classe = 'Magreza moderada'; cor = '#69f0ae'; }
  else if (imc < 18.5) { classe = 'Magreza leve';     cor = '#b9f6ca'; }
  else if (imc < 25)   { classe = 'Normal âœ“';         cor = '#00e676'; }
  else if (imc < 30)   { classe = 'Sobrepeso';        cor = '#ffb300'; }
  else if (imc < 35)   { classe = 'Obesidade grau I'; cor = '#ff6e40'; }
  else if (imc < 40)   { classe = 'Obesidade grau II';cor = '#ff3d00'; }
  else                 { classe = 'Obesidade grau III';cor = '#d50000'; }

  // Needle position: IMC scale 15â€“40 â†’ 0â€“100%
  const pct = Math.min(100, Math.max(0, (imc - 15) / 25 * 100));
  document.getElementById('imc-needle').style.left = pct + '%';

  // % gordura estimado (fÃ³rmula Deurenberg)
  const gord = (1.2 * imc) + (0.23 * idade) - (10.8 * (sexo==='m'?1:0)) - 5.4;
  const gordStr = Math.max(5, gord).toFixed(1);

  // Peso ideal (Devine formula)
  const altCm  = altura * 100;
  let pesoIdeal;
  if (sexo === 'm') pesoIdeal = 50 + 2.3 * ((altCm - 152.4) / 2.54);
  else              pesoIdeal = 45.5 + 2.3 * ((altCm - 152.4) / 2.54);
  pesoIdeal = Math.max(40, pesoIdeal);

  // Peso para IMC normal (18.5â€“24.9)
  const pesoMin = (18.5 * altura * altura).toFixed(1);
  const pesoMax = (24.9 * altura * altura).toFixed(1);

  document.getElementById('imc-val').textContent   = imcStr;
  document.getElementById('imc-class').textContent = classe;
  document.getElementById('imc-class').style.color = cor;

  document.getElementById('imc-grid').innerHTML = `
    <div class="imc-stat"><div class="imc-stat-val" style="color:${cor}">${imcStr}</div><div class="imc-stat-label">IMC</div></div>
    <div class="imc-stat"><div class="imc-stat-val" style="color:#ff9800">${gordStr}%</div><div class="imc-stat-label">% Gordura estimado</div></div>
    <div class="imc-stat"><div class="imc-stat-val" style="color:var(--green)">${pesoIdeal.toFixed(1)}kg</div><div class="imc-stat-label">Peso ideal (Devine)</div></div>
    <div class="imc-stat"><div class="imc-stat-val" style="color:var(--accent2);font-size:1.2rem;">${pesoMin}â€“${pesoMax}kg</div><div class="imc-stat-label">Faixa normal para sua altura</div></div>`;

  document.getElementById('imc-result').style.display = 'block';
  document.getElementById('imc-result').scrollIntoView({behavior:'smooth',block:'start'});
}

// ============================================================
// 7. SHARE WORKOUT
// ============================================================
function openShareModal(workout) {
  const lines = workout.exercises.map((ex, i) =>
    `${String(i+1).padStart(2,'0')}. ${ex.name} â€” ${ex.series}Ã—${ex.reps} (descanso ${ex.rest})`
  ).join('\n');

  const text = `ðŸ’ª FORJA â€” ${workout.name}\n${'â”€'.repeat(30)}\n${lines}\n${'â”€'.repeat(30)}\nMontado com FORJA Academia App`;

  document.getElementById('share-preview').innerHTML = `
    <pre style="font-family:'Space Mono',monospace;font-size:0.72rem;color:var(--text);white-space:pre-wrap;line-height:1.7;background:var(--surface2);padding:14px;border-radius:8px;max-height:280px;overflow-y:auto;">${text}</pre>`;

  document.getElementById('share-modal')._shareText = text;
  document.getElementById('share-modal').classList.add('open');
}

function closeShareModal() {
  document.getElementById('share-modal').classList.remove('open');
}

function copyShareText() {
  const text = document.getElementById('share-modal')._shareText || '';
  navigator.clipboard.writeText(text).then(() => {
    const btn = document.querySelector('#share-modal .wb-save-btn');
    btn.textContent = 'âœ“ Copiado!'; btn.style.background='var(--green)'; btn.style.color='#000';
    setTimeout(() => { btn.textContent='Copiar texto'; btn.style.background=''; btn.style.color=''; }, 2000);
  }).catch(() => {
    const ta = document.createElement('textarea');
    ta.value = text; document.body.appendChild(ta); ta.select();
    document.execCommand('copy'); document.body.removeChild(ta);
  });
}

// ============================================================
// 8. IN-APP NOTIFICATIONS
// ============================================================
function showNotif(title, text, duration = 5000) {
  const banner = document.getElementById('notif-banner');
  document.getElementById('notif-title').textContent = title;
  document.getElementById('notif-text').textContent  = text;
  banner.classList.add('show');
  setTimeout(() => banner.classList.remove('show'), duration);
}

function closeNotif() {
  document.getElementById('notif-banner').classList.remove('show');
}

function checkWorkoutReminder() {
  if (!currentUser) return;
  const history = JSON.parse(localStorage.getItem(getUserKey('history')) || '[]');
  if (!history.length) return;
  const last    = new Date(history[0].dateISO);
  const diffDays = Math.floor((Date.now() - last) / 86400000);
  if (diffDays >= 2) {
    setTimeout(() => showNotif(
      'ðŸ”¥ Hora de treinar!',
      `VocÃª nÃ£o treina hÃ¡ ${diffDays} dia${diffDays>1?'s':''}. Bora manter a sequÃªncia?`
    ), 3000);
  }
}

// ============================================================
// INTEGRATE: add "Iniciar Treino" + "Compartilhar" to saved workouts
// ============================================================
// Override renderSavedWorkouts to include Start + Share buttons
const _origRenderSaved = renderSavedWorkouts;
function renderSavedWorkouts() {
  const section = document.getElementById('wb-saved-section');
  const list    = document.getElementById('wb-saved-list');
  if (!savedWorkouts || savedWorkouts.length === 0) { if(section) section.style.display = 'none'; return; }
  if(section) section.style.display = 'block';
  list.innerHTML = savedWorkouts.map((w) => `
    <div class="wb-saved-card">
      <div class="wb-saved-header" onclick="toggleSavedWorkout(${w.id})">
        <div>
          <div class="wb-saved-name">${w.name}</div>
          <div class="wb-saved-meta">${w.exercises.length} exercÃ­cios Â· ${w.date}</div>
        </div>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--muted)" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
      </div>
      <div class="wb-saved-body" id="saved-body-${w.id}">
        ${w.exercises.map((ex, ei) => `
          <div class="wb-saved-ex">
            <div class="wb-item-num">${String(ei+1).padStart(2,'0')}</div>
            <div style="flex:1;">
              <div style="font-weight:600;font-size:0.88rem;">${ex.name}</div>
              <div style="font-size:0.72rem;color:var(--accent);font-family:'Space Mono',monospace;">${ex.muscle}</div>
            </div>
            <div style="font-size:0.75rem;color:var(--muted);font-family:'Space Mono',monospace;text-align:right;">
              ${ex.series}Ã—${ex.reps}<br>${ex.rest}
            </div>
          </div>`).join('')}
        <div class="wb-saved-actions" style="flex-wrap:wrap;">
          <button class="wb-save-btn" style="font-size:0.8rem;padding:9px;background:var(--green);color:#000;" onclick="startActiveWorkout(savedWorkouts.find(x=>x.id===${w.id}))">â–¶ Iniciar Treino</button>
          <button class="wb-save-btn" style="font-size:0.8rem;padding:9px;" onclick="loadWorkout(${w.id})">Editar</button>
          <button class="wb-save-btn" style="font-size:0.8rem;padding:9px;background:var(--surface2);color:var(--text);border:1px solid var(--border);" onclick="openShareModal(savedWorkouts.find(x=>x.id===${w.id}))">Compartilhar</button>
          <button class="wb-clear-btn" style="font-size:0.8rem;padding:9px 14px;" onclick="deleteSavedWorkout(${w.id})">Excluir</button>
        </div>
      </div>
    </div>`).join('');
}

// ============================================================
// MOBILE responsive additions
// ============================================================
// progress-log-form responsive
const mediaQ = window.matchMedia('(max-width:768px)');
function handleMobileProgressForm(e) {
  const form = document.querySelector('.progress-log-form');
  if (!form) return;
  form.style.gridTemplateColumns = e.matches ? '1fr' : '1fr 1fr 1fr auto';
}
mediaQ.addEventListener('change', handleMobileProgressForm);

</script>
</body>
</html>
